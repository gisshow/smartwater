webpackJsonp([92],{"Nu/l":function(t,s){},bJn2:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=[],l={name:"outdoorPhotography",data:function(){return{smallList:e,smallActive:0,bigPicture:"http://img.ys7.com/group3/M00/7C/BE/CmFnEVug5w2AGc5EAAC77BPpoew308.jpg",bigAlt:"2018-07-12 12:00",stationId:"",stationName:""}},methods:{togglePhotography:function(t,s){this.smallActive=s,this.bigPicture=t.src,this.bigAlt=t.name},captureList:function(){var t=this,s=new Date,i=new Date(s.getTime()-864e5);this.$http.get("/waterenvapi/video/captureList",{params:{tartTime:i.format("yyyy-MM-dd hh:mm:ss"),endTime:s.format("yyyy-MM-dd hh:mm:ss")}}).then(function(s){var i=s.data;if(200===i.code){for(var e=i.content.dataList,l=[],a=0;a<e.length;a++){var c=e[a];0==a&&(t.bigPicture="/waterenvapi"+c.fileUrl),l.push({src:"/waterenvapi"+c.fileUrl,name:c.fileName})}t.smallList=l}}).catch(function(t){})},prevTogglePicture:function(){this.smallActive-1<0?(this.smallActive=0,this.$message("这已经是第一张了！")):this.smallActive--,this.bigPicture=this.smallList[this.smallActive].src,this.bigAlt=this.smallList[this.smallActive].name,this.scrollPictureView(200*this.smallActive)},nextTogglePicture:function(){this.smallActive+1>=this.smallList.length?(this.smallActive=this.smallList.length-1,this.$message("这已经是最后一张了！")):this.smallActive++,this.bigPicture=this.smallList[this.smallActive].src,this.bigAlt=this.smallList[this.smallActive].name,this.scrollPictureView(200*this.smallActive)},scrollPictureView:function(t){var s=document.getElementById("photography-small-scroll").getElementsByClassName("el-scrollbar__wrap")[0],i=s.scrollTop,e=null;i>t?e=setInterval(function(){(i-=8)<=t?(s.scrollTop=t,clearInterval(e)):s.scrollTop=i},12):i<t&&(e=setInterval(function(){(i+=8)>=t?(s.scrollTop=t,clearInterval(e)):s.scrollTop=i},12))}},mounted:function(){this.captureList()},components:{},computed:{stationInfo:{get:function(){return this.$store.state.stationInfo}}},watch:{stationInfo:function(t){t.length>0&&(this.stationId=t[0].nodeId,this.stationName=t[0].nodeName)}}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"outdoor-photography-page"},[i("div",{staticClass:"secondary-page-mode"},[i("div",{staticClass:"photography-big-picture"},[i("button",{staticClass:"prev-btn",attrs:{type:"button"},on:{click:t.prevTogglePicture}},[i("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),i("div",{staticClass:"big-picture"},[i("img",{attrs:{src:t.bigPicture,alt:t.bigAlt}})]),t._v(" "),i("button",{staticClass:"next-btn",attrs:{type:"button"},on:{click:t.nextTogglePicture}},[i("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),i("div",{staticClass:"picture-title"},[i("span",{staticClass:"video-name"},[t._v("当前站点："+t._s(t.stationName))])])]),t._v(" "),i("div",{staticClass:"photography-small-picture"},[t._m(0),t._v(" "),i("el-scrollbar",{staticClass:"photography-small-scroll",attrs:{id:"photography-small-scroll"}},[i("ul",{staticClass:"small-img-list"},t._l(t.smallList,function(s,e){return i("li",{key:e,class:{active:t.smallActive===e},on:{click:function(i){return t.togglePhotography(s,e)}}},[i("div",{staticClass:"small-img-box"},[i("img",{attrs:{src:s.src,alt:s.name}})]),t._v(" "),i("p",{staticClass:"small-img-title"},[t._v(t._s(s.name))])])}),0)])],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{staticClass:"currency-mode-title"},[s("i",{staticClass:"mode-title-icon"}),this._v(" 图片列表\n        "),s("span",{staticClass:"mode-title-line"})])}]};var c=i("VU/8")(l,a,!1,function(t){i("Nu/l")},"data-v-2fd637f2",null);s.default=c.exports}});
//# sourceMappingURL=92.1eda6ee70d8b6c5945b9.js.map