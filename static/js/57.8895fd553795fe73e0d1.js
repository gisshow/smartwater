webpackJsonp([57],{Kr78:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"trafficpage secondary-page-mode"},[s("div",{staticClass:"secondary-toolbar"},[s("span",[t._v("关键字 : ")]),t._v(" "),s("div",{staticClass:"layoutBox",staticStyle:{width:"220px"}},[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.searchModel,callback:function(a){t.searchModel=a},expression:"searchModel"}})],1),t._v("  \n         "),s("el-button",[s("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")]),t._v(" "),s("el-button",{on:{click:t.basinAdd}},[s("i",{staticClass:"iconfont icon-tianjia1"}),t._v("新增")]),t._v(" "),s("el-button",{attrs:{type:"delet"},on:{click:t.allDelet}},[s("i",{staticClass:"iconfont icon-shanchu"}),t._v("批量删除")])],1),t._v(" "),s("div",{staticClass:"currency-mode-wrap"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.tableData,"element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)",height:"100%"},on:{"selection-change":t.selectChange}},[s("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stationClassifyName",label:"类别名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stationClassifyCode",label:"类别编码"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stationClassifyTime",label:"最近更新时间"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stationClassifyRemark",label:"备注"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",[s("el-button",{attrs:{type:"secondBtn"},on:{click:function(s){return t.editorData(a.row)}}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{type:"secondBtn"},on:{click:function(s){return t.delet(a.row.stationClassifyId)}}},[t._v("删除")])],1)]}}])})],1)],1),t._v(" "),s("el-dialog",{attrs:{visible:t.visiDialog_add,width:"420px",title:"流域新增","before-close":t.closess},on:{"update:visible":function(a){t.visiDialog_add=a}}},[s("div",{staticClass:"dialogcontent"},[s("div",{staticClass:"dialog-layout"},[s("el-form",{ref:"form",attrs:{model:t.formData,rules:t.formRules}},[s("table",{staticClass:"whTable"},[s("tr",[s("td",{attrs:{width:"28%"}},[s("span",{staticClass:"rCode"},[t._v("类别名称")])]),t._v(" "),s("td",[s("el-form-item",{attrs:{prop:"stationClassifyName"}},[s("el-input",{model:{value:t.formData.stationClassifyName,callback:function(a){t.$set(t.formData,"stationClassifyName",a)},expression:"formData.stationClassifyName"}})],1)],1)]),t._v(" "),s("tr",[s("td",{attrs:{width:"28%"}},[s("span",{staticClass:"rCode"},[t._v("类别编码")])]),t._v(" "),s("td",[s("el-form-item",{attrs:{prop:"stationClassifyCode"}},[s("el-input",{model:{value:t.formData.stationClassifyCode,callback:function(a){t.$set(t.formData,"stationClassifyCode",a)},expression:"formData.stationClassifyCode"}})],1)],1)]),t._v(" "),s("tr",[s("td",{attrs:{width:"16.5%"}},[s("span",[t._v("备注")])]),t._v(" "),s("td",[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.stationClassifyRemark,callback:function(a){t.$set(t.formData,"stationClassifyRemark",a)},expression:"formData.stationClassifyRemark"}})],1)])])])],1)]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"noticon"},on:{click:function(a){return t.submitForm("form")}}},[t._v("保 存")]),t._v(" "),s("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:function(a){return t.cancelForm("form")}}},[t._v("关 闭")])],1)])],1)},staticRenderFns:[]};var i=s("VU/8")({name:"",data:function(){return{visiDialog_add:!1,tableData:[],formData:{stationClassifyCode:"",stationClassifyName:"",stationClassifyRemark:"",stationClassifyTime:""},formRules:{stationClassifyName:[{required:!0,message:"请输入类别名称",trigger:"blur"}],stationClassifyCode:[{required:!0,message:"请输入类别编码",trigger:"blur"}]},currentPage:1,pageSize:10,total:0,pageList:[10,20,30],searchModel:"",loading:!0,isEditor:!1,stationClassifyId:""}},inject:["globelDelet"],created:function(){this.getTableData()},mounted:function(){},methods:{selectChange:function(t,a){var s=t;for(var e in this.stationClassifyId="",s)this.stationClassifyId+=s[e].stationClassifyId+",";this.stationClassifyId=this.stationClassifyId.substring(0,this.stationClassifyId.length-1)},delet:function(t){this.globelDelet("/SiteManagement/stationClassify/delete",t,this.getTableData)},allDelet:function(){this.globelDelet("/SiteManagement/stationClassify/delete",this.stationClassifyId,this.getTableData)},getTableData:function(){var t=this;this.loading=!0;var a="";a=""==this.searchModel?"%":this.searchModel,this.$http.post("/SiteManagement/stationClassify/queryAll",this.paramsObj.GetPageData_P("stationClassify",this.currentPage,this.pageSize,[a],!0)).then(function(a){0==a.data.code&&(t.tableData=a.data.content.dataList,t.total=a.data.content.totalRecords,t.loading=!1)})},submitForm:function(t){var a=this;this.$refs[t].validate(function(s){if(!s)return!1;if(a.isEditor){var e={};e.stationClassifyCode=a.formData.stationClassifyCode,e.stationClassifyName=a.formData.stationClassifyName,e.stationClassifyRemark=a.formData.stationClassifyRemark,e.stationClassifyId=a.stationClassifyId,a.$http.post("/SiteManagement/stationClassify/edit",e).then(function(s){0==s.data.code&&(a.$message({message:s.data.message,type:"success",duration:1500}),a.visiDialog_add=!1,a.resetForm(t),a.getTableData())})}else{var i={};i.stationClassifyCode=a.formData.stationClassifyCode,i.stationClassifyName=a.formData.stationClassifyName,i.stationClassifyRemark=a.formData.stationClassifyRemark,a.$http.post("/SiteManagement/stationClassify/edit",i).then(function(s){0==s.data.code&&(a.$message({message:s.data.message,type:"success",duration:1500}),a.visiDialog_add=!1,a.resetForm(t),a.getTableData())})}})},resetForm:function(t){this.$refs[t].resetFields(),this.formData={stationClassifyCode:"",stationClassifyName:"",stationClassifyRemark:"",stationClassifyTime:""}},editorData:function(t){this.visiDialog_add=!0,this.isEditor=!0,this.stationClassifyId=t.stationClassifyId,this.formData={stationClassifyCode:t.stationClassifyCode,stationClassifyName:t.stationClassifyName,stationClassifyRemark:t.stationClassifyRemark}},basinAdd:function(){this.isEditor=!1,this.visiDialog_add=!0},cancelForm:function(t){this.visiDialog_add=!1,this.resetForm(t)},closess:function(t){t(),this.resetForm("form")}}},e,!1,function(t){s("d2Yk")},"data-v-6e63ba1b",null);a.default=i.exports},d2Yk:function(t,a){}});
//# sourceMappingURL=57.8895fd553795fe73e0d1.js.map