{"version":3,"sources":["webpack:///src/views/systemManage/waterManege.vue","webpack:///./src/views/systemManage/waterManege.vue?0e7c","webpack:///./src/views/systemManage/waterManege.vue"],"names":["waterManege","name","data","value","visiDialog_add","tableData","targetLevelData","basinObj","aimWaterLevel","basinnCode","basinnId","basinnName","basinnRemark","basinRules","required","message","trigger","currentPage","pageSize","total","pageList","searchModel","loading","isEditor","inject","created","this","init","getBasinTable","mounted","methods","selectChange","val","index","arr","i","substring","length","delet","id","globelDelet","allDelet","paginationSizeChange","v","paginationChange","basinAdd","closeForm","formName","resetForm","_this","str","$http","post","paramsObj","GetPageData_P","then","res","code","content","dataList","totalRecords","_this2","get","editorBasin","obj","$refs","resetFields","closess","done","submitForm","_this3","validate","valid","params","$message","type","duration","_params","computed","totalPageNumber","Math","ceil","systemManage_waterManege","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","placeholder","model","callback","$$v","expression","on","click","directives","rawName","border","height","element-loading-text","element-loading-spinner","element-loading-background","selection-change","label","prop","scopedSlots","_u","key","fn","scope","$event","row","current-page","page-size","background","small","popper-class","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","_s","visible","title","before-close","update:visible","ref","rules","$set","_l","item","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/94.6476b857cccb27a1e5d5.js","sourcesContent":["<template>\r\n  <div class=\"trafficpage secondary-page-mode\">\r\n    <div class=\"secondary-toolbar\">\r\n           <span>关键字 : </span>\r\n           <div class=\"layoutBox\" style=\"width:220px\">\r\n             <el-input placeholder=\"请输入\" v-model=\"searchModel\"></el-input>\r\n          </div>&emsp;&emsp;\r\n           <el-button @click=\"getBasinTable\"><i class=\"iconfont icon-sousuo\"></i>查询</el-button>\r\n           <el-button @click=\"basinAdd\"><i class=\"iconfont icon-tianjia1\"></i>新增</el-button>\r\n           <el-button type=\"delet\" @click=\"allDelet\"><i class=\"iconfont icon-shanchu\"></i>批量删除</el-button>\r\n           \r\n    </div>\r\n    <div class=\"currency-mode-wrap\">\r\n\r\n          <el-table border :data=\"tableData\" height=\"calc(100% - 35px)\" v-loading=\"loading\"\r\n               element-loading-text=\"加载中\"\r\n               element-loading-spinner=\"loading-type-a\"\r\n               element-loading-background=\"rgba(255, 255, 255, 1)\" @selection-change=\"selectChange\">\r\n                 \r\n                  <el-table-column\r\n                      type=\"selection\"\r\n                      width=\"50\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      type=\"index\"\r\n                      label=\"序号\"\r\n                      width=\"80\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"basinnName\"\r\n                      \r\n                      label=\"流域名称\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"basinnCode\"\r\n                      width=\"300\"\r\n                      label=\"流域编码\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"aimWaterLevel\"\r\n                       width=\"300\"\r\n                      label=\"水质目标等级\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"basinnRemark\"\r\n                      label=\"备注\">\r\n                  </el-table-column>\r\n                   <el-table-column\r\n                      label=\"操作\"\r\n                      width=\"200\">\r\n                        <template  slot-scope=\"scope\">\r\n                          <div>\r\n                                <el-button type=\"secondBtn\" @click=\"editorBasin(scope.row)\">编辑</el-button>\r\n                                <el-button type=\"secondBtn\" @click=\"delet(scope.row.basinnId)\">删除</el-button>\r\n                          </div>\r\n                        </template>\r\n                  </el-table-column>\r\n          </el-table>\r\n          <div class=\"paginationBox\">\r\n            <el-pagination\r\n              @size-change=\"paginationSizeChange\"\r\n              @current-change=\"paginationChange\"\r\n              :current-page.sync=\"currentPage\"\r\n              :page-size=\"pageSize\"\r\n              background\r\n              :small = \"true\"\r\n              popper-class = \"select-common-option\"\r\n              :page-sizes = \"pageList\"\r\n              layout=\"total,sizes,slot,->,prev, pager, next, jumper\"\r\n              :total=\"total\">\r\n              <span class=\"el-pagination__current\">当前第{{currentPage}}/{{totalPageNumber}}页</span>\r\n            </el-pagination>\r\n          </div>\r\n    </div>\r\n    <el-dialog :visible.sync=\"visiDialog_add\"  width=\"420px\" title=\"流域新增\" :before-close='closess'>\r\n          <div class=\"dialogcontent\">\r\n\r\n                <div class=\"dialog-layout\">\r\n                    <el-form :model=\"basinObj\" :rules=\"basinRules\" ref=\"form\">\r\n                      <table class=\"whTable\">\r\n                            <tr>\r\n                                 <td width=\"28%\"><span  class=\"rCode\">流域名称</span></td>\r\n                                 <td>\r\n                                    <el-form-item prop=\"basinnName\">\r\n                                              <el-input v-model=\"basinObj.basinnName\"></el-input>\r\n                                    </el-form-item>\r\n                                 </td>\r\n                                \r\n                            </tr>\r\n                            <tr>\r\n                                 <td width=\"28%\"><span  class=\"rCode\">流域名称</span></td>\r\n                                 <td>\r\n                                    <el-form-item prop=\"basinnCode\">\r\n                                              <el-input v-model=\"basinObj.basinnCode\"></el-input>\r\n                                    </el-form-item>\r\n                                 </td>\r\n                                 \r\n                            </tr>\r\n                            <tr>\r\n                                 <td width=\"28%\"><span  class=\"rCode\">水质目标等级</span></td>\r\n                                  <td>\r\n                                    <el-form-item prop=\"aimWaterLevel\">\r\n                                              <el-select v-model=\"basinObj.aimWaterLevel\" placeholder=\"请选择\">\r\n                                                    <el-option\r\n                                                      v-for=\"item in targetLevelData\"\r\n                                                      :key=\"item.name\"\r\n                                                      :label=\"item.name\"\r\n                                                      :value=\"item.name\">\r\n                                                    </el-option>\r\n                                              </el-select>\r\n                                    </el-form-item>\r\n                                 </td> \r\n                               \r\n                            </tr>\r\n                            <tr>\r\n                                <td width=\"28%\"><span>备注</span></td>\r\n                                 <td>\r\n                                 \r\n                                              <el-input v-model=\"basinObj.basinnRemark\"></el-input>\r\n                                    \r\n                                 </td>\r\n                                \r\n                            </tr>\r\n                      </table>\r\n                    </el-form>\r\n                </div>\r\n\r\n          </div>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button type=\"noticon\" @click=\"submitForm('form')\">保 存</el-button>\r\n            <el-button type=\"noticonsecondBtn\" @click=\"closeForm('form')\">关 闭</el-button>\r\n          </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      value:'',\r\n      visiDialog_add:false,\r\n      tableData:[],\r\n      targetLevelData:[],\r\n      basinObj:{\r\n        aimWaterLevel: \"\",\r\n        basinnCode: \"\",\r\n        basinnId: \"\",\r\n        basinnName: \"\",\r\n        basinnRemark: \"\"\r\n      },\r\n      basinRules:{\r\n          basinnName: [\r\n            { required: true, message: '请输入流域名称', trigger: 'blur' },\r\n          ],\r\n          basinnCode: [\r\n            { required: true, message: '请输入流域编码', trigger: 'blur' },\r\n          ],\r\n          aimWaterLevel: [\r\n            { required: true, message: '请选择水质目标等级', trigger: 'change' },\r\n          ],\r\n      },\r\n      currentPage: 1, //分页组件当前页\r\n      pageSize: 10, //分页每页多少条数据\r\n      total: 0, //总条数\r\n      pageList: [10, 20, 30], //设置每页多少条\r\n      searchModel:'',\r\n      loading:true,\r\n      isEditor: false, //判断是新增还是修改状态\r\n      basinnId:'',\r\n    };\r\n  },\r\n  inject:['globelDelet'],\r\n  created() {\r\n      this.init();\r\n      this.getBasinTable()\r\n  },\r\n  mounted(){\r\n     \r\n  },\r\n  methods: {\r\n    selectChange(val, index){\r\n        let arr =val;\r\n        this.basinnId='';\r\n        for(let i in arr){\r\n            this.basinnId+=arr[i].basinnId+',';\r\n        };\r\n        this.basinnId=this.basinnId.substring(0,this.basinnId.length-1);\r\n    },\r\n    //删除\r\n    delet(id){\r\n       this.globelDelet('/SiteManagement/basinn/delete',id,this.getBasinTable);\r\n    },\r\n    //批量删除\r\n    allDelet(){\r\n      this.globelDelet('/SiteManagement/basinn/delete',this.basinnId,this.getBasinTable);\r\n    },\r\n    paginationSizeChange(v){\r\n      this.pageSize=v;\r\n      this.getBasinTable()\r\n    },\r\n    paginationChange(v){\r\n       this.currentPage=v;\r\n       this.getBasinTable()\r\n    },\r\n    //流域新增弹框打开\r\n    basinAdd(){\r\n      this.visiDialog_add=true;\r\n      this.isEditor=false;\r\n    },\r\n    //流域新增弹框关闭\r\n    closeForm(formName){\r\n         this.visiDialog_add=false;\r\n        \r\n       this.resetForm(formName)\r\n    },\r\n    getBasinTable(){\r\n       this.loading=true;\r\n       let str='';\r\n       if(this.searchModel == ''){\r\n         str='%'\r\n       }else{\r\n        str=this.searchModel;\r\n       }\r\n       this.$http.post(\"/SiteManagement/basinn/query\",this.paramsObj.GetPageData_P(\"queryParamDto\",this.currentPage,this.pageSize,[str],true)).then(res=>{\r\n              if (res.data.code == 0) {\r\n                   this.tableData=res.data.content.dataList;\r\n                   this.total= res.data.content.totalRecords;\r\n                   this.loading=false;\r\n              }\r\n       })\r\n    },\r\n    init(){\r\n      //获取水质目标等级下拉框数据\r\n      this.$http.get(\"/SiteManagement/station/queryTargetLevel\").then(res => {\r\n        if (res.data.code == 0) {\r\n          this.targetLevelData = res.data.content.dataList;\r\n        \r\n        }\r\n      });\r\n    },\r\n    //编辑流域数据\r\n    editorBasin(obj){\r\n      this.visiDialog_add=true;\r\n      this.isEditor=true;\r\n       this.basinObj={\r\n        aimWaterLevel: obj.aimWaterLevel,\r\n        basinnCode: obj.basinnCode,\r\n        basinnId: obj.basinnId,\r\n        basinnName: obj.basinnName,\r\n        basinnRemark: obj.basinnRemark,\r\n      };\r\n    },\r\n    resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n        this.basinObj={\r\n          aimWaterLevel: '',\r\n          basinnCode: '',\r\n          basinnId: '',\r\n          basinnName: '',\r\n          basinnRemark: '',\r\n        };\r\n    },\r\n    closess(done) {\r\n      done();\r\n      this.resetForm(\"form\");\r\n    },\r\n    //新增流域数据\r\n    submitForm(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if(this.isEditor){\r\n                    let params={};\r\n                    params.aimWaterLevel=this.basinObj.aimWaterLevel;\r\n                    params.basinnCode=this.basinObj.basinnCode;\r\n                    params.basinnName=this.basinObj.basinnName;\r\n                    params.basinnRemark=this.basinObj.basinnRemark;\r\n                      params.basinnId=this.basinObj.basinnId;\r\n                    this.$http.post(\"/SiteManagement/basinn/edit\",params).then(res=>{\r\n                          if(res.data.code == 0){\r\n                             this.$message({\r\n                                message:res.data.message,\r\n                                type: 'success',\r\n                                duration:1500,\r\n                              });\r\n                              this.visiDialog_add=false;\r\n                              this.resetForm(formName)\r\n                              this.getBasinTable();\r\n                          }\r\n                    })\r\n            }else{\r\n                    let params={};\r\n                    params.aimWaterLevel=this.basinObj.aimWaterLevel;\r\n                    params.basinnCode=this.basinObj.basinnCode;\r\n                    params.basinnName=this.basinObj.basinnName;\r\n                    params.basinnRemark=this.basinObj.basinnRemark;\r\n                  \r\n                    this.$http.post(\"/SiteManagement/basinn/edit\",params).then(res=>{\r\n                          if(res.data.code == 0){\r\n                             this.$message({\r\n                                message:res.data.message,\r\n                                type: 'success',\r\n                                duration:1500,\r\n                              });\r\n                              this.visiDialog_add=false;\r\n                              this.resetForm(formName)\r\n                              this.getBasinTable();\r\n                          }\r\n                    })\r\n            }\r\n              \r\n          } else {\r\n           \r\n            return false;\r\n          }\r\n        });\r\n      },\r\n  },\r\n  computed: {\r\n    totalPageNumber() {\r\n      //计算总页数\r\n      let number = 0;\r\n      number = Math.ceil(this.total / this.pageSize);\r\n      return number;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.dialogcontent {\r\n  padding: 5px;\r\n  padding-bottom: 25px;\r\n  .layoutspan{\r\n    width:92px;\r\n  }\r\n}\r\n.wrap_head{\r\n    height: 45px;\r\n    border: 1px solid #d6e3f2;\r\n    border-bottom: 0px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemManage/waterManege.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"trafficpage secondary-page-mode\"},[_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"关键字 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"220px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.searchModel),callback:function ($$v) {_vm.searchModel=$$v},expression:\"searchModel\"}})],1),_vm._v(\"  \\n         \"),_c('el-button',{on:{\"click\":_vm.getBasinTable}},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.basinAdd}},[_c('i',{staticClass:\"iconfont icon-tianjia1\"}),_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"delet\"},on:{\"click\":_vm.allDelet}},[_c('i',{staticClass:\"iconfont icon-shanchu\"}),_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"data\":_vm.tableData,\"height\":\"calc(100% - 35px)\",\"element-loading-text\":\"加载中\",\"element-loading-spinner\":\"loading-type-a\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\"},on:{\"selection-change\":_vm.selectChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"basinnName\",\"label\":\"流域名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"basinnCode\",\"width\":\"300\",\"label\":\"流域编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"aimWaterLevel\",\"width\":\"300\",\"label\":\"水质目标等级\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"basinnRemark\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.editorBasin(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.delet(scope.row.basinnId)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"background\":\"\",\"small\":true,\"popper-class\":\"select-common-option\",\"page-sizes\":_vm.pageList,\"layout\":\"total,sizes,slot,->,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}},[_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPageNumber)+\"页\")])])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.visiDialog_add,\"width\":\"420px\",\"title\":\"流域新增\",\"before-close\":_vm.closess},on:{\"update:visible\":function($event){_vm.visiDialog_add=$event}}},[_c('div',{staticClass:\"dialogcontent\"},[_c('div',{staticClass:\"dialog-layout\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.basinObj,\"rules\":_vm.basinRules}},[_c('table',{staticClass:\"whTable\"},[_c('tr',[_c('td',{attrs:{\"width\":\"28%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"流域名称\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"basinnName\"}},[_c('el-input',{model:{value:(_vm.basinObj.basinnName),callback:function ($$v) {_vm.$set(_vm.basinObj, \"basinnName\", $$v)},expression:\"basinObj.basinnName\"}})],1)],1)]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"28%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"流域名称\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"basinnCode\"}},[_c('el-input',{model:{value:(_vm.basinObj.basinnCode),callback:function ($$v) {_vm.$set(_vm.basinObj, \"basinnCode\", $$v)},expression:\"basinObj.basinnCode\"}})],1)],1)]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"28%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"水质目标等级\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"aimWaterLevel\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.basinObj.aimWaterLevel),callback:function ($$v) {_vm.$set(_vm.basinObj, \"aimWaterLevel\", $$v)},expression:\"basinObj.aimWaterLevel\"}},_vm._l((_vm.targetLevelData),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1)],1)]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"28%\"}},[_c('span',[_vm._v(\"备注\")])]),_vm._v(\" \"),_c('td',[_c('el-input',{model:{value:(_vm.basinObj.basinnRemark),callback:function ($$v) {_vm.$set(_vm.basinObj, \"basinnRemark\", $$v)},expression:\"basinObj.basinnRemark\"}})],1)])])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"noticon\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":function($event){return _vm.closeForm('form')}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2abef672\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemManage/waterManege.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2abef672\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./waterManege.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./waterManege.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./waterManege.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2abef672\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./waterManege.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2abef672\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemManage/waterManege.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}