{"version":3,"sources":["webpack:///src/views/systemManage/userManage.vue","webpack:///./src/views/systemManage/userManage.vue?dfc1","webpack:///./src/views/systemManage/userManage.vue"],"names":["userManage","name","data","value","searchModel","tableData","visiDialog","vTitle","optionDataRole","formData","userName","password","userAccount","role","email","phonenb","rules","required","message","trigger","min","max","isEditor","currentPage","total","pageSize","pageList","userId","loading","inject","created","this","getRole","getList","mounted","methods","selectChange","val","index","arr","i","substring","length","paginationSizeChange","v","paginationChange","add","delet","id","globelDelet","allDelet","submit","formName","_this","$refs","validate","valid","FormData","append","$http","put","then","res","code","resetForm","$message","type","duration","_formData","post","cancel","closess","done","revise","row","roleId","console","log","resetFields","_this2","get","content","dataList","_this3","params","pageNo","totalRecords","systemManage_userManage","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","placeholder","model","callback","$$v","expression","on","click","directives","rawName","border","height","element-loading-text","element-loading-spinner","element-loading-background","selection-change","label","prop","scopedSlots","_u","key","fn","scope","_s","roleName","_e","$event","current-page","page-size","popper-class","background","small","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","totalPageNumber","proxy","visible","title","before-close","update:visible","ref","$set","margin-bottom","collapse-tags","_l","item","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/60.8f502ec0dcf76a300346.js","sourcesContent":["<template>\r\n  <div class=\"trafficpage secondary-page-mode\">\r\n    <div class=\"secondary-toolbar\">\r\n           <span>关键字 : </span>\r\n           <div class=\"layoutBox\" style=\"width:220px\">\r\n             <el-input placeholder=\"请输入用户名称\" v-model=\"searchModel\"></el-input>\r\n          </div>&emsp;&emsp;\r\n           <el-button @click=\"getList\"><i class=\"iconfont icon-sousuo\"></i>查询</el-button>\r\n           <el-button @click=\"add\"><i class=\"iconfont icon-tianjia\"></i>新增</el-button>\r\n           <el-button type=\"delet\"  @click=\"allDelet\"><i class=\"iconfont icon-shanchu\"></i>批量删除</el-button>\r\n    </div>\r\n    <div class=\"currency-mode-wrap\">\r\n        \r\n          <el-table border :data=\"tableData\" height=\"calc(100% - 30px)\" @selection-change=\"selectChange\"\r\n          v-loading=\"loading\"\r\n               element-loading-text=\"加载中\"\r\n               element-loading-spinner=\"loading-type-a\"\r\n               element-loading-background=\"rgba(255, 255, 255, 1)\">\r\n                  <el-table-column\r\n                      type=\"selection\"\r\n                      width=\"50\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      type=\"index\"\r\n                      label=\"序号\"\r\n                      width=\"50\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"userName\"\r\n                      label=\"用户名称\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"userAccount\"\r\n                      label=\"账号\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"phonenb\"\r\n                      label=\"电话\">\r\n                  </el-table-column>\r\n                   <el-table-column\r\n                      prop=\"email\"\r\n                      label=\"邮箱\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"role\"\r\n                      label=\"所属角色\">\r\n                      <template slot-scope=\"scope\">\r\n                          <div v-if=\"scope.row.role\">\r\n                             {{scope.row.role.roleName}}\r\n                          </div>\r\n                      </template>\r\n                  </el-table-column>\r\n                  <!-- <el-table-column\r\n                      prop=\"logtime\"\r\n                      label=\"最近登录时间\">\r\n                  </el-table-column>\r\n                   <el-table-column\r\n                      prop=\"logtime\"\r\n                      label=\"最近一次操作\">\r\n                  </el-table-column>\r\n                   <el-table-column\r\n                      prop=\"logtime\"\r\n                      label=\"最近登录IP\">\r\n                  </el-table-column> -->\r\n                   <el-table-column\r\n                      label=\"操作\"\r\n                      width=\"200\">\r\n                       <template  slot-scope=\"scope\">\r\n                           <div>\r\n                                <el-button type=\"secondBtn\" @click=\"revise(scope.row)\">编辑</el-button>\r\n                                <el-button type=\"secondBtn\"  @click=\"delet(scope.row.userId)\">删除</el-button>\r\n                           </div>\r\n                       </template>\r\n                  </el-table-column>\r\n          </el-table>\r\n           <div class=\"table-pagination-wrap\">\r\n              <el-pagination\r\n                @size-change=\"paginationSizeChange\"\r\n                @current-change=\"paginationChange\"\r\n                :current-page.sync=\"currentPage\"\r\n                :page-size=\"pageSize\"\r\n                popper-class=\"select-pagination-option\"\r\n                background\r\n                :small=\"true\"\r\n                :page-sizes=\"pageList\"\r\n                layout=\"total, sizes, slot,->,prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n                <template v-slot:default>\r\n                  <span class=\"el-pagination__current\">当前第{{ currentPage }}/{{totalPageNumber}}页</span>\r\n                </template>\r\n              </el-pagination>\r\n          </div>\r\n    </div>\r\n     <el-dialog :visible.sync=\"visiDialog\"  width=\"920px\" :title=\"vTitle\" :before-close=\"closess\">\r\n          <div class=\"dialogcontent\">\r\n              <el-form :model=\"formData\" :rules=\"rules\" ref=\"ruleForm\" >\r\n                   <table class=\"whTable\">\r\n                        <tr>  \r\n                            <td width=\"16.5%\"><span  class=\"rCode\">账号名</span></td>\r\n                            <td>\r\n                               <el-form-item  prop=\"userAccount\">\r\n                                    <el-input placeholder=\"请输入\" v-model=\"formData.userAccount\"></el-input>\r\n                                  \r\n                               </el-form-item>\r\n                            </td>\r\n                            <td width=\"16.5%\"><span  class=\"rCode\">用户密码</span></td>\r\n                            <td>\r\n                              \r\n                              \r\n                                  <el-form-item  prop=\"password\">\r\n                                    <el-input placeholder=\"请输入\" v-model=\"formData.password\"></el-input>\r\n                                  </el-form-item>\r\n                             \r\n                               \r\n                            </td>\r\n                        </tr>\r\n                         <tr>  \r\n                            <td width=\"16.5%\"><span  class=\"rCode\">用户名称</span></td>\r\n                            <td>\r\n                                <el-form-item  prop=\"userName\">\r\n                                      <el-input placeholder=\"请输入\" v-model=\"formData.userName\"></el-input>\r\n                                </el-form-item>\r\n                            </td>\r\n                            <td width=\"16.5%\"><span>所属角色</span></td>\r\n                            <td>\r\n                              \r\n                               <div style=\"margin-bottom:10px\">\r\n                                  <el-form-item  prop=\"role\">\r\n                                    <el-select v-model=\"formData.role\" collapse-tags placeholder=\"请选择\">\r\n                                      <el-option\r\n                                        v-for=\"item in optionDataRole\"\r\n                                        :key=\"item.roleId\"\r\n                                        :label=\"item.roleName\"\r\n                                        :value=\"item.roleId\"\r\n                                      ></el-option>\r\n                                    </el-select>\r\n                                  </el-form-item>\r\n                             \r\n                               </div>\r\n                            </td>\r\n                        </tr>\r\n                         <tr>  \r\n                            <td width=\"16.5%\"><span>邮箱</span></td>\r\n                            <td >\r\n                                <div style=\"margin-bottom:10px\">\r\n                                   <el-input placeholder=\"请输入\" v-model=\"formData.email\"></el-input>\r\n                                </div>\r\n                            </td>\r\n                             <td width=\"16.5%\"><span>电话</span></td>\r\n                            <td >\r\n                                <div style=\"margin-bottom:10px\">\r\n                                   <el-input placeholder=\"请输入\" v-model=\"formData.phonenb\"></el-input>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                   </table>\r\n              </el-form>   \r\n               \r\n          </div>\r\n           <div slot=\"footer\">\r\n              <el-button @click=\"submit('ruleForm')\">提交</el-button>\r\n              <el-button type=\"noticonsecondBtn\" @click=\"cancel('ruleForm')\">取消</el-button>\r\n          </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n      \r\n    return {\r\n      value:'',\r\n      searchModel:'',//搜索框model\r\n      tableData:[],\r\n      \r\n      visiDialog: false,\r\n      vTitle: \"用户新增\",\r\n      optionDataRole:[],//角色选择数据\r\n      formData: {\r\n        userName: \"\",\r\n        password: \"\",\r\n        userAccount: \"\",\r\n        role:\"\",\r\n        email:'',\r\n        phonenb:''\r\n      },\r\n      rules: {\r\n        userName: [\r\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\r\n         \r\n        ],\r\n        userAccount: [\r\n          { required: true, message: \"请输入账号\", trigger: \"blur\" },\r\n          { min: 3, max: 25, message: \"长度在 3 到 25 个字符\", trigger: \"blur\" }\r\n        ],\r\n         password: [\r\n          { required: true, message: \"请输入用户密码\", trigger: \"blur\" },\r\n          { min: 6, max: 25, message: \"长度在 6 到 25 个字符\", trigger: \"blur\" }\r\n        ],\r\n        role: [\r\n            { required: true, message: '请选择所属角色', trigger: 'change' },\r\n          ],\r\n      },\r\n      isEditor: false, //判断是新增还是修改状态\r\n      currentPage: 1, //分页组件当前页\r\n      total: 0, //分页总条数\r\n      pageSize: 10, //分页每页多少条数据\r\n      pageList: [10, 15, 20], //设置每页多少条\r\n      userId:'',\r\n      loading:true,\r\n    };\r\n  },\r\n  inject:['globelDelet'],\r\n  created() {\r\n      this.getRole();\r\n      this.getList()\r\n  },\r\n  mounted(){\r\n     \r\n  },\r\n  methods: {\r\n    selectChange(val, index){\r\n        let arr =val;\r\n        this.userId='';\r\n        for(let i in arr){\r\n            this.userId+=arr[i].userId+',';\r\n        };\r\n        this.userId=this.userId.substring(0,this.userId.length-1);\r\n    },\r\n    paginationSizeChange(v) {\r\n      this.pageSize = v;\r\n      this.getList();\r\n    },\r\n    paginationChange(v) {\r\n      this.currentPage = v;\r\n      this.getList();\r\n    },\r\n    //新增弹框\r\n    add(){\r\n      this.visiDialog=true;\r\n      this.isEditor=false;\r\n    },\r\n    //角色删除\r\n    delet(id){\r\n       this.globelDelet('/AuthorityManagement/users/ids',id,this.getList);\r\n    },\r\n    //角色批量删除\r\n    allDelet(){\r\n      this.globelDelet('/AuthorityManagement/users/ids',this.userId,this.getList);\r\n    },\r\n    //提交\r\n    submit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n             if(this.isEditor){\r\n                let formData = new FormData();\r\n                formData.append(\"userName\", this.formData.userName);\r\n                formData.append(\"password\", this.formData.password);\r\n                formData.append(\"userAccount\", this.formData.userAccount);\r\n                formData.append(\"role.roleId\", this.formData.role);\r\n                formData.append(\"email\", this.formData.email);\r\n                formData.append(\"phonenb\", this.formData.phonenb);\r\n                formData.append(\"userId\", this.userId);\r\n                formData.append(\"sex\", 1);\r\n                this.$http.put(\"AuthorityManagement/users/\", formData).then(res => {\r\n                  if (res.data.code == 0) {\r\n                    this.resetForm(formName);\r\n                    this.visiDialog = false;\r\n                    this.getList();\r\n                    this.$message({\r\n                      message: res.data.message,\r\n                      type: \"success\",\r\n                      duration: 1000\r\n                    });\r\n                  }\r\n                });\r\n             }else{\r\n                \r\n                let formData = new FormData();\r\n                formData.append(\"userName\", this.formData.userName);\r\n                formData.append(\"password\", this.formData.password);\r\n                formData.append(\"userAccount\", this.formData.userAccount);\r\n                formData.append(\"role.roleId\", this.formData.role);\r\n                formData.append(\"email\", this.formData.email);\r\n                formData.append(\"phonenb\", this.formData.phonenb);\r\n                formData.append(\"sex\", 1);\r\n                this.$http.post(\"AuthorityManagement/users\", formData).then(res => {\r\n                  if (res.data.code == 0) {\r\n                    this.resetForm(formName);\r\n                    this.visiDialog = false;\r\n                    this.getList();\r\n                    this.$message({\r\n                      message: res.data.message,\r\n                      type: \"success\",\r\n                      duration: 1000\r\n                    });\r\n                  }\r\n                });\r\n             }\r\n        } else {\r\n         \r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //取消\r\n    cancel(formName){\r\n      this.visiDialog=false;\r\n      this.resetForm(formName)\r\n    },\r\n    closess(done) {\r\n      done();\r\n      this.resetForm(\"ruleForm\");\r\n    },\r\n     //角色修改\r\n    revise(row) {\r\n      this.isEditor = true;\r\n      this.visiDialog = true;\r\n      this.formData.userName = row.userName;\r\n      this.formData.password = row.password;\r\n      this.formData.userAccount = row.userAccount;\r\n      if(row.role){\r\n        this.formData.role = row.role.roleId;\r\n      }\r\n      \r\n      this.formData.email = row.email;\r\n      this.formData.phonenb = row.phonenb;\r\n      this.userId=row.userId;\r\n      console.log(this.userId)\r\n    },\r\n    //重置表单\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.formData.userName = '';\r\n      this.formData.password = '';\r\n      this.formData.userAccount = '';\r\n      this.formData.role = '';\r\n      this.formData.email = '';\r\n      this.formData.phonenb = '';\r\n      this.userId='';\r\n    },\r\n    //获取角色\r\n    getRole(){\r\n       this.$http\r\n        .get(\"AuthorityManagement/roles\",)\r\n        .then(res => {\r\n          this.optionDataRole = res.data.content.dataList;\r\n         \r\n        });\r\n    },\r\n    //获取表格数据\r\n    getList(){\r\n      this.loading=true;\r\n       this.$http\r\n        .get(\"AuthorityManagement/users\", {\r\n          params: {\r\n            pageSize: this.pageSize,\r\n            pageNo: this.currentPage,\r\n            userName:this.searchModel\r\n          }\r\n        })\r\n        .then(res => {\r\n          this.tableData = res.data.content.dataList;\r\n          this.total = res.data.content.totalRecords;\r\n           this.loading=false;\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.wrap_head{\r\n    height: 45px;\r\n    border: 1px solid #d6e3f2;\r\n    border-bottom: 0px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemManage/userManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"trafficpage secondary-page-mode\"},[_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"关键字 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"220px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名称\"},model:{value:(_vm.searchModel),callback:function ($$v) {_vm.searchModel=$$v},expression:\"searchModel\"}})],1),_vm._v(\"  \\n         \"),_c('el-button',{on:{\"click\":_vm.getList}},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.add}},[_c('i',{staticClass:\"iconfont icon-tianjia\"}),_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"delet\"},on:{\"click\":_vm.allDelet}},[_c('i',{staticClass:\"iconfont icon-shanchu\"}),_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"data\":_vm.tableData,\"height\":\"calc(100% - 30px)\",\"element-loading-text\":\"加载中\",\"element-loading-spinner\":\"loading-type-a\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\"},on:{\"selection-change\":_vm.selectChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userAccount\",\"label\":\"账号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phonenb\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"所属角色\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.role)?_c('div',[_vm._v(\"\\n                           \"+_vm._s(scope.row.role.roleName)+\"\\n                        \")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.revise(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.delet(scope.row.userId)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-pagination-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"popper-class\":\"select-pagination-option\",\"background\":\"\",\"small\":true,\"page-sizes\":_vm.pageList,\"layout\":\"total, sizes, slot,->,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPageNumber)+\"页\")])]},proxy:true}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.visiDialog,\"width\":\"920px\",\"title\":_vm.vTitle,\"before-close\":_vm.closess},on:{\"update:visible\":function($event){_vm.visiDialog=$event}}},[_c('div',{staticClass:\"dialogcontent\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('table',{staticClass:\"whTable\"},[_c('tr',[_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"账号名\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"userAccount\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.userAccount),callback:function ($$v) {_vm.$set(_vm.formData, \"userAccount\", $$v)},expression:\"formData.userAccount\"}})],1)],1),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"用户密码\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1)],1)]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"用户名称\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.userName),callback:function ($$v) {_vm.$set(_vm.formData, \"userName\", $$v)},expression:\"formData.userName\"}})],1)],1),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',[_vm._v(\"所属角色\")])]),_vm._v(\" \"),_c('td',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-form-item',{attrs:{\"prop\":\"role\"}},[_c('el-select',{attrs:{\"collapse-tags\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.formData.role),callback:function ($$v) {_vm.$set(_vm.formData, \"role\", $$v)},expression:\"formData.role\"}},_vm._l((_vm.optionDataRole),function(item){return _c('el-option',{key:item.roleId,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}),1)],1)],1)])]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',[_vm._v(\"邮箱\")])]),_vm._v(\" \"),_c('td',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}})],1)]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',[_vm._v(\"电话\")])]),_vm._v(\" \"),_c('td',[_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.phonenb),callback:function ($$v) {_vm.$set(_vm.formData, \"phonenb\", $$v)},expression:\"formData.phonenb\"}})],1)])])])])],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":function($event){return _vm.cancel('ruleForm')}}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a0f4e32\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemManage/userManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a0f4e32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a0f4e32\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a0f4e32\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemManage/userManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}