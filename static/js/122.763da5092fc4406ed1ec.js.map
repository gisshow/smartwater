{"version":3,"sources":["webpack:///src/views/knowledgeHouse/detailPage.vue","webpack:///./src/views/knowledgeHouse/detailPage.vue?1fc3","webpack:///./src/views/knowledgeHouse/detailPage.vue"],"names":["detailPage","name","data","loading","edit","formData","fileType","fileName","fileDes","fileList","file","visiDialog","types","copyArr","typeSelected","fileTypeId","optionData","value","tableData","currentPage","total","pageSize","pageList","dataStatus","inject","methods","closess","done","handleRemove","handlePreview","editClick","_this","this","tArr","JSON","parse","stringify_default","shift","params","$http","post","then","res","code","getfileType","paginationChange","val","searchKwFile","paginationSizeChange","typeChange","v","n","event","srcElement","nodeName","typeDel","id","globelDelet","deletKnow","addType","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","fileTypeName","err","return","$yfMessage","warning","obj","knowledgeType","$route","query","push","_this2","get","content","dataList","unshift","_this3","pageNumber","totalRecords","length","fileChange","saveForm","_this4","FormData","i","append","raw","headers","Content-Type","created","mounted","beforeDestroy","computed","totalPageNumber","Math","ceil","watch","components","knowledgeHouse_detailPage","render","_vm","_h","$createElement","_c","_self","staticClass","_e","staticStyle","width","on","click","_v","attrs","type","$event","height","_l","key","class","active","_s","placeholder","model","callback","$$v","$set","expression","stopPropagation","directives","rawName","element-loading-text","element-loading-spinner","element-loading-background","padding-right","x","y","knowledgeBaseId","margin-right","filePublishTime","current-page","page-size","popper-class","background","small","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","scopedSlots","_u","fn","proxy","visible","title","before-close","update:visible","item","label","rows","ref","action","on-change","on-preview","on-remove","file-list","auto-upload","http-request","uploadFile","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/122.763da5092fc4406ed1ec.js","sourcesContent":["<template>\r\n  <div class=\"content-page\">\r\n    <div class=\"page-header\">\r\n      <el-button style=\"width: auto\" v-if=\"!edit\" @click=\"editClick\"><i class=\"iconfont icon-bianji\"></i>开启编辑\r\n      </el-button>\r\n      <el-button type=\"delet\" style=\"width: auto\" v-if=\"edit\" @click=\"editClick\"><i class=\"iconfont icon-bianji\"></i>保存编辑\r\n      </el-button>\r\n      <el-button class=\"right\" type=\"noticonsecondBtn\"  @click=\"visiDialog = true\"  v-if=\"edit\">添&ensp;加</el-button>\r\n    </div>\r\n    <div class=\"sub-content\">\r\n      <div class=\"type-list\">\r\n        <ul>\r\n          <el-scrollbar style=\"height: 100%\">\r\n            <li v-for=\"(v,i) in copyArr\" :key=\"i\" :class=\"{'active':typeSelected===i}\" @click=\"typeChange(v,i,$event)\" >\r\n              <span class=\"icon\"></span>\r\n              <span v-if=\"!edit||v.fileTypeName==='全部'\">{{v.fileTypeName}}</span>\r\n              <el-input v-model=\"v.fileTypeName\" placeholder=\"\" style=\"width: 55px\" v-if=\"edit&&v.fileTypeName!=='全部'\"></el-input>\r\n              <span type=\"text\" class=\"right el-button--text\" v-if=\"v.fileTypeName!=='全部'&&edit\" @click.stop=\"typeDel(v.fileTypeId)\">删除</span>\r\n            </li>\r\n            <button class=\"add-btn\" @click=\"addType\" v-if=\"edit\"><i class=\"iconfont icon-tianjia\"></i></button>\r\n          </el-scrollbar>\r\n        </ul>\r\n      </div>\r\n      <div class=\"table-content\"  v-loading=\"loading\"\r\n               element-loading-text=\"加载中\"\r\n               element-loading-spinner=\"loading-type-a\"\r\n               element-loading-background=\"rgba(255, 255, 255, 1)\" height=\"100%\">\r\n        <el-scrollbar style=\"height: 100%;\">\r\n          <ul>\r\n            <li v-for=\"(v,i) in tableData\" :key=\"i\" style=\"padding-right:12px;\"><i class=\"iconfont icon-ic-description-px\"></i>\r\n             \r\n              <span class=\"bold\">【<span v-for=\"(x,y) in types\" :key=\"y\" v-if=\"v.fileType.fileTypeId===x.fileTypeId\">{{x.fileTypeName}}</span>】</span>\r\n              <span>{{v.fileName}}</span>\r\n              <span class=\"right bts el-button--text\" v-if=\"edit\" @click=\"deletKnow(v.knowledgeBaseId)\">删除</span>\r\n              <span class=\"right\" style=\"margin-right:12px;\">{{v.filePublishTime}}</span>\r\n            </li>\r\n          </ul>\r\n           <yf-Datastatus :dataStatus=\"dataStatus\" v-show=\"dataStatus == 'no'\"></yf-Datastatus>\r\n        </el-scrollbar>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-pagination-wrap\">\r\n      <el-pagination\r\n        @size-change=\"paginationSizeChange\"\r\n        @current-change=\"paginationChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        popper-class=\"select-pagination-option\"\r\n        background\r\n        :small=\"true\"\r\n        :page-sizes=\"pageList\"\r\n        layout=\"total, sizes, slot,->,prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n        <template v-slot:default>\r\n          <span class=\"el-pagination__current\">当前第{{ currentPage }}/{{totalPageNumber}}页</span>\r\n        </template>\r\n      </el-pagination>\r\n    </div>\r\n     <el-dialog :visible.sync=\"visiDialog\"  width=\"360px\" title=\"添加\" :before-close=\"closess\">\r\n       <div class=\"dialogcontent\">\r\n             <div class=\"dialog-layout\">\r\n                    <ul>\r\n                      <li>\r\n                          <div>\r\n                                <span class=\"layoutspan\">文件类型 : </span>&nbsp;\r\n                                <div class=\"layoutBox\" style=\"width:200px\">\r\n                                  <el-select v-model=\"formData.fileType\" placeholder=\"请选择\">\r\n                                        <el-option\r\n                                          v-for=\"item in types\"\r\n                                          :key=\"item.fileTypeId\"\r\n                                          :label=\"item.fileTypeName\"\r\n                                          :value=\"item.fileTypeId\">\r\n                                        </el-option>\r\n                                  </el-select>\r\n                                </div>\r\n                          </div>\r\n                      </li>\r\n                      <li>\r\n                           <span class=\"layoutspan\">文件名称 : </span>&nbsp;\r\n                            <div class=\"layoutBox\" style=\"width:200px\">\r\n                                  <el-input placeholder=\"请输入\" v-model=\"formData.fileName\"></el-input>\r\n                            </div>\r\n                      </li>\r\n                      <li>\r\n                           <span class=\"layoutspan\">文件描述 : </span>&nbsp;\r\n                            <div class=\"layoutBox\" style=\"width:200px\">\r\n                                  <el-input placeholder=\"请输入\" v-model=\"formData.fileDes\" type=\"textarea\" :rows=\"3\"></el-input>\r\n                            </div>\r\n                      </li>\r\n                      <li>\r\n                              <span class=\"layoutspan\">附件上传 : </span>&nbsp;\r\n                              <div class=\"layoutBox\" style=\"width:200px\">\r\n                                <el-upload\r\n                                  class=\"upload-demo\"\r\n                                  ref=\"upload\"\r\n                                  action=\"/\"\r\n                                   :on-change=\"fileChange\"\r\n                                  :on-preview=\"handlePreview\"\r\n                                  :on-remove=\"handleRemove\"\r\n                                  :file-list=\"fileList\"\r\n                                  :auto-upload=\"false\"\r\n                                  :http-request=\"uploadFile\">\r\n                                  <el-button slot=\"trigger\"><i class=\"icon-shangchuan1 iconfont\"></i> 选择文件</el-button>\r\n                                </el-upload>\r\n                              </div>\r\n                      </li>\r\n                    </ul>\r\n             </div>\r\n       </div>\r\n       <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button type=\"noticon\" @click=\"saveForm\">保 存</el-button>\r\n          <el-button type=\"noticonsecondBtn\" @click=\"visiDialog = false\">关 闭</el-button>\r\n       </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"learnFromOthers\",\r\n  data() {\r\n    return {\r\n      loading:true,\r\n      edit: false,\r\n      formData:{\r\n        fileType:'',\r\n        fileName:'',\r\n        fileDes:'',\r\n      },\r\n      fileList: [],\r\n      file:[],\r\n      visiDialog: false,\r\n      // qx:sessionStorage.getItem('userInfo'),\r\n      types: [],\r\n      copyArr:[],\r\n      typeSelected: 0,\r\n      fileTypeId:'',//文件类型Id\r\n      optionData: [],\r\n      value: \"\",\r\n      tableData: [],\r\n      currentPage: 1, //分页组件当前页\r\n      total: 0, //分页总条数\r\n      pageSize: 10, //分页每页多少条数据\r\n      pageList: [10, 15, 20], //设置每页多少条\r\n      dataStatus:''\r\n    };\r\n  },\r\n  inject:['globelDelet'],\r\n  methods: {\r\n    closess(done) {\r\n      done();\r\n    },\r\n    handleRemove(file, fileList) {\r\n     \r\n    },\r\n    handlePreview(file) {\r\n     \r\n    },\r\n    editClick() {\r\n      this.edit = !this.edit;\r\n      if(!this.edit){\r\n         let tArr =JSON.parse(JSON.stringify(this.copyArr))\r\n         tArr.shift();\r\n         let params={};\r\n         params=tArr;\r\n         this.$http.post(\"StatisticsAndAlarm/fileTypes/addOrEdit\",params).then(res=>{\r\n               if(res.data.code == 0){\r\n                 this.getfileType()\r\n               }\r\n         })\r\n      }\r\n     \r\n    },\r\n    paginationChange(val) {\r\n      //分页页码改变时执行\r\n      this.currentPage = val;\r\n      this.searchKwFile()\r\n    },\r\n    paginationSizeChange(val) {\r\n      //分页pageSize改变时执行\r\n      this.currentPage = 1;\r\n      this.pageSize = val;\r\n      this.searchKwFile()\r\n    },\r\n    typeChange(v,n,event) {\r\n      if (\r\n        event.srcElement.nodeName === \"LI\" ||\r\n        event.srcElement.nodeName === \"SPAN\"\r\n      ) {\r\n        this.typeSelected = n;\r\n        this.fileTypeId=v.fileTypeId;\r\n        this.searchKwFile()\r\n      }\r\n    },\r\n    typeDel(id) {\r\n        this.globelDelet('/StatisticsAndAlarm/fileTypes/deleteFileTypes',id,this.getfileType);\r\n    },\r\n    deletKnow(id){\r\n         this.globelDelet('/StatisticsAndAlarm/knowledegBase/delete',id,this.searchKwFile);\r\n    },\r\n    //添加类型\r\n    addType() {\r\n      let n = 0;\r\n      for (let i of this.copyArr) {\r\n        if (!i.fileTypeName) {\r\n          n++;\r\n        }\r\n      }\r\n      if (n) {\r\n        this.$yfMessage.warning(\"类型名称不能为空\");\r\n      } else {\r\n        let obj = {fileTypeName: \"\",knowledgeType:this.$route.query.id};\r\n       // this.copyArr=JSON.parse(JSON.stringify(this.types))\r\n        this.copyArr.push(obj);\r\n      }\r\n    },\r\n    //获取类型\r\n    getfileType(){\r\n           this.$http.get(\"StatisticsAndAlarm/fileTypes/queryFileTypes\",{\r\n          params:{\r\n              knowledgeType:this.$route.query.id,\r\n             \r\n          }\r\n        }).then(res=>{\r\n                 if(res.data.code == 0){\r\n                    this.types=JSON.parse(JSON.stringify(res.data.content.dataList));\r\n                    this.copyArr=JSON.parse(JSON.stringify(res.data.content.dataList));\r\n                    this.copyArr.unshift({\r\n                      fileTypeName:'全部',\r\n                      fileTypeId:''\r\n                    })\r\n                 }\r\n        })\r\n    },\r\n    //获取类型文件\r\n    searchKwFile(){\r\n      this.loading=true;\r\n        this.$http.get(\"StatisticsAndAlarm/knowledegBase/query\",{\r\n          params:{\r\n              knowledgeType:this.$route.query.id,\r\n              fileType:this.fileTypeId,\r\n              pageNumber:this.currentPage,\r\n              pageSize:this.pageSize,\r\n          }\r\n        }).then(res=>{\r\n             this.loading=false;\r\n             if(res.data.code == 0){\r\n                   \r\n                   this.tableData=res.data.content.dataList;\r\n                   this.total=res.data.content.totalRecords\r\n                   if(this.tableData.length == 0){\r\n                     this.dataStatus='no'\r\n                   }else{\r\n                     this.dataStatus=''\r\n                   }\r\n                 \r\n             }\r\n        })\r\n    },\r\n    //文件上传文件改变时记录文件\r\n    fileChange(file, fileList){\r\n      this.file = fileList;\r\n    },\r\n    saveForm(){\r\n      let formData = new FormData();\r\n      // formData.append('fileType',this.formData.fileType);\r\n      // formData.append('fileName',this.formData.fileName);\r\n      // formData.append('fileDescribe',this.formData.fileDes);\r\n      // formData.append('knowledgeType',this.$route.query.id);\r\n      for(let i in this.file){\r\n          formData.append('file',this.file[i].raw)\r\n      };\r\n      let config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n      };\r\n      this.$http.post(\"/StatisticsAndAlarm/knowledegBase/add?fileType=\"+this.formData.fileType+\"&fileName=\"+this.formData.fileName+\"&fileDescribe=\"+this.formData.fileDes+\"&knowledgeType=\"+this.$route.query.id+\"\", formData, config).then(res=>{\r\n        this.file=[];\r\n        this.fileList=[];\r\n        this.visiDialog=false;\r\n        this.searchKwFile();\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getfileType()\r\n     this.searchKwFile()\r\n  },\r\n  mounted() {},\r\n  beforeDestroy() {},\r\n  computed: {\r\n    totalPageNumber() {\r\n      //计算总页数\r\n      let number = 0;\r\n      number = Math.ceil(this.total / this.pageSize);\r\n      return number;\r\n    }\r\n  },\r\n  watch: {},\r\n  components: {}\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.content-page {\r\n  padding: 12px;\r\n  height: 100%;\r\n  .page-header {\r\n    padding-bottom: 12px;\r\n    height: 42px;\r\n    border-bottom: 1px solid #c7d8ee;\r\n  }\r\n  .sub-content {\r\n    height: calc(100% - 67px);\r\n    padding-bottom: 12px;\r\n    > div {\r\n      float: left;\r\n      height: 100%;\r\n    }\r\n    .type-list {\r\n      width: 160px;\r\n      padding-top: 12px;\r\n      ul {\r\n        width: 100%;\r\n        height: 100%;\r\n        .add-btn {\r\n          width: 160px;\r\n          height: 34px;\r\n          line-height: 33px;\r\n          text-align: center;\r\n          border: 1px solid #166bce;\r\n          background: #fff;\r\n          cursor: pointer;\r\n          &:hover {\r\n            opacity: 0.9;\r\n          }\r\n          &:active {\r\n            opacity: 0.7;\r\n          }\r\n          .iconfont {\r\n            font-size: 18px;\r\n            color: #166bce;\r\n          }\r\n        }\r\n        li {\r\n          height: 42px;\r\n          line-height: 36px;\r\n          padding-left: 33px;\r\n          cursor: pointer;\r\n          &.active {\r\n            background: url(\"../../assets/images/thinkTank/ju-bg.png\") no-repeat;\r\n            color: #fff;\r\n            font-weight: bold;\r\n            .icon {\r\n              background: url(\"../../assets/images/thinkTank/yuan-act.png\")\r\n                center center no-repeat;\r\n            }\r\n            .right {\r\n              color: #fff;\r\n            }\r\n          }\r\n          .icon {\r\n            display: inline-block;\r\n            width: 11px;\r\n            height: 11px;\r\n            background: url(\"../../assets/images/thinkTank/yuan.png\") center\r\n              center no-repeat;\r\n            margin-right: 6px;\r\n          }\r\n          .right {\r\n            margin-top: 3px;\r\n            width: 44px;\r\n            text-align: left;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .table-content {\r\n      width: calc(100% - 210px);\r\n      margin-left: 50px;\r\n      ul {\r\n        width: 100%;\r\n        height: 100%;\r\n        li {\r\n          width: 100%;\r\n          height: 55px;\r\n          line-height: 53px;\r\n          border-bottom: 1px dashed #d9e6f7;\r\n          cursor: pointer;\r\n          &:hover {\r\n            background: #eff3f5;\r\n          }\r\n          .iconfont,\r\n          .bold {\r\n            color: #166bce;\r\n          }\r\n          .iconfont {\r\n            font-size: 16px;\r\n          }\r\n          .btns {\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .table-pagination-wrap {\r\n    padding: 0;\r\n    > div {\r\n      padding: 0;\r\n    }\r\n  }\r\n}\r\n.dialog-layout{\r\n  ul{\r\n    li{\r\n      margin-bottom: 12px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/knowledgeHouse/detailPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-page\"},[_c('div',{staticClass:\"page-header\"},[(!_vm.edit)?_c('el-button',{staticStyle:{\"width\":\"auto\"},on:{\"click\":_vm.editClick}},[_c('i',{staticClass:\"iconfont icon-bianji\"}),_vm._v(\"开启编辑\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.edit)?_c('el-button',{staticStyle:{\"width\":\"auto\"},attrs:{\"type\":\"delet\"},on:{\"click\":_vm.editClick}},[_c('i',{staticClass:\"iconfont icon-bianji\"}),_vm._v(\"保存编辑\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.edit)?_c('el-button',{staticClass:\"right\",attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":function($event){_vm.visiDialog = true}}},[_vm._v(\"添 加\")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"sub-content\"},[_c('div',{staticClass:\"type-list\"},[_c('ul',[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_vm._l((_vm.copyArr),function(v,i){return _c('li',{key:i,class:{'active':_vm.typeSelected===i},on:{\"click\":function($event){return _vm.typeChange(v,i,$event)}}},[_c('span',{staticClass:\"icon\"}),_vm._v(\" \"),(!_vm.edit||v.fileTypeName==='全部')?_c('span',[_vm._v(_vm._s(v.fileTypeName))]):_vm._e(),_vm._v(\" \"),(_vm.edit&&v.fileTypeName!=='全部')?_c('el-input',{staticStyle:{\"width\":\"55px\"},attrs:{\"placeholder\":\"\"},model:{value:(v.fileTypeName),callback:function ($$v) {_vm.$set(v, \"fileTypeName\", $$v)},expression:\"v.fileTypeName\"}}):_vm._e(),_vm._v(\" \"),(v.fileTypeName!=='全部'&&_vm.edit)?_c('span',{staticClass:\"right el-button--text\",attrs:{\"type\":\"text\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.typeDel(v.fileTypeId)}}},[_vm._v(\"删除\")]):_vm._e()],1)}),_vm._v(\" \"),(_vm.edit)?_c('button',{staticClass:\"add-btn\",on:{\"click\":_vm.addType}},[_c('i',{staticClass:\"iconfont icon-tianjia\"})]):_vm._e()],2)],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"table-content\",attrs:{\"element-loading-text\":\"加载中\",\"element-loading-spinner\":\"loading-type-a\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\",\"height\":\"100%\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('ul',_vm._l((_vm.tableData),function(v,i){return _c('li',{key:i,staticStyle:{\"padding-right\":\"12px\"}},[_c('i',{staticClass:\"iconfont icon-ic-description-px\"}),_vm._v(\" \"),_c('span',{staticClass:\"bold\"},[_vm._v(\"【\"),_vm._l((_vm.types),function(x,y){return (v.fileType.fileTypeId===x.fileTypeId)?_c('span',{key:y},[_vm._v(_vm._s(x.fileTypeName))]):_vm._e()}),_vm._v(\"】\")],2),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(v.fileName))]),_vm._v(\" \"),(_vm.edit)?_c('span',{staticClass:\"right bts el-button--text\",on:{\"click\":function($event){return _vm.deletKnow(v.knowledgeBaseId)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"right\",staticStyle:{\"margin-right\":\"12px\"}},[_vm._v(_vm._s(v.filePublishTime))])])}),0),_vm._v(\" \"),_c('yf-Datastatus',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dataStatus == 'no'),expression:\"dataStatus == 'no'\"}],attrs:{\"dataStatus\":_vm.dataStatus}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-pagination-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"popper-class\":\"select-pagination-option\",\"background\":\"\",\"small\":true,\"page-sizes\":_vm.pageList,\"layout\":\"total, sizes, slot,->,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPageNumber)+\"页\")])]},proxy:true}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.visiDialog,\"width\":\"360px\",\"title\":\"添加\",\"before-close\":_vm.closess},on:{\"update:visible\":function($event){_vm.visiDialog=$event}}},[_c('div',{staticClass:\"dialogcontent\"},[_c('div',{staticClass:\"dialog-layout\"},[_c('ul',[_c('li',[_c('div',[_c('span',{staticClass:\"layoutspan\"},[_vm._v(\"文件类型 : \")]),_vm._v(\" \\n                              \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"200px\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formData.fileType),callback:function ($$v) {_vm.$set(_vm.formData, \"fileType\", $$v)},expression:\"formData.fileType\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.fileTypeId,attrs:{\"label\":item.fileTypeName,\"value\":item.fileTypeId}})}),1)],1)])]),_vm._v(\" \"),_c('li',[_c('span',{staticClass:\"layoutspan\"},[_vm._v(\"文件名称 : \")]),_vm._v(\" \\n                          \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"200px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.fileName),callback:function ($$v) {_vm.$set(_vm.formData, \"fileName\", $$v)},expression:\"formData.fileName\"}})],1)]),_vm._v(\" \"),_c('li',[_c('span',{staticClass:\"layoutspan\"},[_vm._v(\"文件描述 : \")]),_vm._v(\" \\n                          \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"200px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.formData.fileDes),callback:function ($$v) {_vm.$set(_vm.formData, \"fileDes\", $$v)},expression:\"formData.fileDes\"}})],1)]),_vm._v(\" \"),_c('li',[_c('span',{staticClass:\"layoutspan\"},[_vm._v(\"附件上传 : \")]),_vm._v(\" \\n                            \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"200px\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"/\",\"on-change\":_vm.fileChange,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.fileList,\"auto-upload\":false,\"http-request\":_vm.uploadFile}},[_c('el-button',{attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('i',{staticClass:\"icon-shangchuan1 iconfont\"}),_vm._v(\" 选择文件\")])],1)],1)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"noticon\"},on:{\"click\":_vm.saveForm}},[_vm._v(\"保 存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":function($event){_vm.visiDialog = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0241b9e6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/knowledgeHouse/detailPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0241b9e6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detailPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detailPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detailPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0241b9e6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detailPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0241b9e6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/knowledgeHouse/detailPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}