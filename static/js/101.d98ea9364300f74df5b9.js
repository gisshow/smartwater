webpackJsonp([101],{"1RWl":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trafficpage secondary-page-mode"},[a("div",{staticClass:"secondary-toolbar"},[a("span",[t._v("关键字 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"220px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.searchModel,callback:function(e){t.searchModel=e},expression:"searchModel"}})],1),t._v("  \n         "),a("el-button",[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")]),t._v(" "),a("el-button",{on:{click:t.basinAdd}},[a("i",{staticClass:"iconfont icon-tianjia1"}),t._v("新增")]),t._v(" "),a("el-button",{attrs:{type:"delet"},on:{click:t.allDelet}},[a("i",{staticClass:"iconfont icon-shanchu"}),t._v("批量删除")])],1),t._v(" "),a("div",{staticClass:"currency-mode-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{border:"",data:t.tableData,"element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)",height:"100%"},on:{"selection-change":t.selectChange}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stationTypeName",label:"分类名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stationTypeCode",label:"分类编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"lastUpdateTime",label:"最近更新时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-button",{attrs:{type:"secondBtn"},on:{click:function(a){return t.editorData(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"secondBtn"},on:{click:function(a){return t.delet(e.row.stationTypeId)}}},[t._v("删除")])],1)]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.visiDialog_add,width:"420px",title:"流域新增","before-close":t.closess},on:{"update:visible":function(e){t.visiDialog_add=e}}},[a("div",{staticClass:"dialogcontent"},[a("div",{staticClass:"dialog-layout"},[a("el-form",{ref:"form",attrs:{model:t.formData,rules:t.formRules}},[a("table",{staticClass:"whTable"},[a("tr",[a("td",{attrs:{width:"28%"}},[a("span",{staticClass:"rCode"},[t._v("分类名称")])]),t._v(" "),a("td",[a("el-form-item",{attrs:{prop:"stationTypeName"}},[a("el-input",{model:{value:t.formData.stationTypeName,callback:function(e){t.$set(t.formData,"stationTypeName",e)},expression:"formData.stationTypeName"}})],1)],1)]),t._v(" "),a("tr",[a("td",{attrs:{width:"28%"}},[a("span",{staticClass:"rCode"},[t._v("分类编码")])]),t._v(" "),a("td",[a("el-form-item",{attrs:{prop:"stationTypeCode"}},[a("el-input",{model:{value:t.formData.stationTypeCode,callback:function(e){t.$set(t.formData,"stationTypeCode",e)},expression:"formData.stationTypeCode"}})],1)],1)]),t._v(" "),a("tr",[a("td",{attrs:{width:"16.5%"}},[a("span",[t._v("备注")])]),t._v(" "),a("td",[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)])])])],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"noticon"},on:{click:function(e){return t.submitForm("form")}}},[t._v("保 存")]),t._v(" "),a("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:function(e){return t.cancelForm("form")}}},[t._v("关 闭")])],1)])],1)},staticRenderFns:[]};var i=a("VU/8")({name:"",data:function(){return{visiDialog_add:!1,tableData:[],formData:{stationTypeCode:"",stationTypeName:"",remark:"",lastUpdateTime:""},formRules:{stationTypeName:[{required:!0,message:"请输入分类名称",trigger:"blur"}],stationTypeCode:[{required:!0,message:"请输入分类编码",trigger:"blur"}]},currentPage:1,pageSize:10,total:0,pageList:[10,20,30],searchModel:"",loading:!0,isEditor:!1,stationTypeId:""}},inject:["globelDelet"],created:function(){this.getTableData()},mounted:function(){},methods:{selectChange:function(t,e){var a=t;for(var o in this.stationTypeId="",a)this.stationTypeId+=a[o].stationTypeId+",";this.stationTypeId=this.stationTypeId.substring(0,this.stationTypeId.length-1)},delet:function(t){this.globelDelet("/SiteManagement/stationType/delete",t,this.getTableData)},allDelet:function(){this.globelDelet("/SiteManagement/stationType/delete",this.stationTypeId,this.getTableData)},getTableData:function(){var t=this;this.loading=!0;var e="";e=""==this.searchModel?"%":this.searchModel,this.$http.post("/SiteManagement/stationType/query",this.paramsObj.GetPageData_P("stationType",this.currentPage,this.pageSize,[e],!0)).then(function(e){0==e.data.code&&(t.tableData=e.data.content.dataList,t.total=e.data.content.totalRecords,t.loading=!1)})},submitForm:function(t){var e=this;this.$refs[t].validate(function(a){if(!a)return!1;if(e.isEditor){var o={};o.stationTypeCode=e.formData.stationTypeCode,o.stationTypeName=e.formData.stationTypeName,o.remark=e.formData.remark,o.stationTypeId=e.stationTypeId,e.$http.post("/SiteManagement/stationType/edit",o).then(function(a){0==a.data.code&&(e.$message({message:a.data.message,type:"success",duration:1500}),e.visiDialog_add=!1,e.resetForm(t),e.getTableData())})}else{var i={};i.stationTypeCode=e.formData.stationTypeCode,i.stationTypeName=e.formData.stationTypeName,i.remark=e.formData.remark,e.$http.post("/SiteManagement/stationType/edit",i).then(function(a){0==a.data.code&&(e.$message({message:a.data.message,type:"success",duration:1500}),e.visiDialog_add=!1,e.resetForm(t),e.getTableData())})}})},resetForm:function(t){this.$refs[t].resetFields(),this.formData={stationTypeCode:"",stationTypeName:"",remark:"",lastUpdateTime:""}},editorData:function(t){this.visiDialog_add=!0,this.isEditor=!0,this.stationTypeId=t.stationTypeId,this.formData={stationTypeCode:t.stationTypeCode,stationTypeName:t.stationTypeName,remark:t.remark}},basinAdd:function(){this.isEditor=!1,this.visiDialog_add=!0},cancelForm:function(t){this.visiDialog_add=!1,this.resetForm(t)},closess:function(t){t(),this.resetForm("form")}}},o,!1,function(t){a("DZeu")},"data-v-21a0d06f",null);e.default=i.exports},DZeu:function(t,e){}});
//# sourceMappingURL=101.d98ea9364300f74df5b9.js.map