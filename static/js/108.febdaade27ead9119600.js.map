{"version":3,"sources":["webpack:///src/views/qualityControl/spanDrift.vue","webpack:///./src/views/qualityControl/spanDrift.vue?f96f","webpack:///./src/views/qualityControl/spanDrift.vue"],"names":["spanDrift","name","data","loading","dateRange","stateRadio","value","optionData","label","tableData","tableHead","stationId","stationName","currentPage","pageSize","totalRecords","pageList","chartList","fieldList","headPropList","count","qualifiedCount","noQualifiedCount","computed","totalPage","number","Math","ceil","this","stationInfo","get","$store","state","methods","createdChart","i","length","chart","$echarts","init","document","getElementById","option","title","text","x","y","xAxis","type","legend","bottom","yAxis","visualMap","top","right","pieces","gte","lte","color","gt","outOfRange","grid","left","series","symbol","symbolSize","lineStyle","normal","width","itemStyle","borderWidth","markLine","upper","lower","setOption","toggleTab","val","_this","setTimeout","paginationChange","searchZeroDrift","paginationSizeChange","searchDate","searchZeroDriftChart","_this2","$http","params","startTime","endTime","indexCodes","join","stationCodes","ifCurrentSection","pageNumber","then","res","code","forEach","item","index","push","n","m","content","dataList","catch","error","_this3","setChartId","setTableDate","time","exportExcel","header","$refs","table","$el","querySelector","headerProp","tableType","pattern","Object","tableExport","mounted","created","Date","setDate","getDate","format","watch","nodeId","nodeName","qualityControl_spanDrift","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","start-placeholder","value-format","end-placeholder","model","callback","$$v","expression","multiple","collapse-tags","placeholder","_l","key","on","click","$event","_s","_m","size","change","directives","rawName","height","ref","border","prop","current-page","page-size","background","small","popper-class","page-sizes","layout","total","size-change","current-change","update:currentPage","update:current-page","id","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"8IA4KAA,GACAC,KAAA,GACAC,KAFA,WAGA,OACAC,SAAA,EACAC,UAAA,GACAC,WAAA,IACAC,OAAA,qCACAC,aAEAD,MAAA,SACAE,MAAA,SAEAF,MAAA,SACAE,MAAA,OAEAF,MAAA,SACAE,MAAA,OAEAF,MAAA,SACAE,MAAA,OAmBAC,aACAC,UAAA,GACAC,UAAA,GACAC,YAAA,GACAC,YAAA,EACAC,SAAA,GACAC,aAAA,EACAC,UAAA,UACAC,aACAC,aACAC,cAAA,sIACAC,MAAA,GACAC,eAAA,GACAC,iBAAA,KAGAC,UACAC,UADA,WAEA,IAAAC,EAEA,YADAA,EAAAC,KAAAC,KAAAC,KAAAb,aAAAa,KAAAd,WACA,EAAAW,GAEAI,aACAC,IAAA,WACA,OAAAF,KAAAG,OAAAC,MAAAH,eAIAI,SAEAC,aAFA,WAGA,QAAAC,EAAA,EAAAA,EAAAP,KAAAX,UAAAmB,OAAAD,IAAA,CACA,IAAAE,EAAAT,KAAAU,SAAAC,KAAAC,SAAAC,eAAA,YAAAN,IACAO,GACAC,OACAC,KAAA,OAAAhB,KAAAX,UAAAkB,GAAAlC,KAAA,WACA4C,EAAA,SACAC,EAAA,IAEAC,OACAC,KAAA,WACA/C,KAAA,KACAC,KAAA0B,KAAAX,UAAAkB,GAAAY,OAEAE,QACA/C,MAAA0B,KAAAX,UAAAkB,GAAAlC,MACAiD,OAAA,GAEAC,OACAH,KAAA,QACA/C,KAAA,WAEAmD,WACAC,IAAA,GACAC,OAAA,IACAC,SACAC,KAAA,EACAC,IAAA,EACAC,MAAA,UACAlD,MAAA,OAEAmD,GAAA,EACAD,MAAA,UACAlD,MAAA,QAEAoD,YACAF,MAAA,YAGAG,MACAR,IAAA,GACAS,KAAA,GACAZ,OAAA,GACAI,MAAA,IAEAS,SACA7D,KAAA0B,KAAAX,UAAAkB,GAAAgB,MACAlD,KAAA2B,KAAAX,UAAAkB,GAAAlC,KACA+C,KAAA,OACAgB,OAAA,WACAC,WAAA,GACAC,WACAC,QACAT,MAAA,UACAU,MAAA,EACApB,KAAA,WAGAqB,WACAF,QACAG,YAAA,EACAZ,MAAA,YAGAa,UACAL,WACAR,MAAA,MACAV,KAAA,SAEA9C,OACAiD,MAAAvB,KAAAX,UAAAkB,GAAAqC,MAAAvE,KAAA,SACAkD,MAAAvB,KAAAX,UAAAkB,GAAAsC,MAAAxE,KAAA,aAKAoC,EAAAqC,UAAAhC,KAGAiC,UAjFA,SAiFAC,GAAA,IAAAC,EAAAjD,KACA,MAAAgD,GACAE,WAAA,WACAD,EAAA3C,gBACA,MAGA6C,iBAxFA,SAwFAH,GAEAhD,KAAAf,YAAA+D,EACAhD,KAAAoD,mBAEAC,qBA7FA,SA6FAL,GAEAhD,KAAAd,SAAA8D,EACAhD,KAAAoD,mBAGAE,WAnGA,WAoGAtD,KAAAoD,kBACApD,KAAAuD,wBAGAH,gBAxGA,WAwGA,IAAAI,EAAAxD,KACAA,KAAAyD,MAAAvD,IAAA,mCACAwD,QACAC,UAAA3D,KAAAxB,UAAA,GACAoF,QAAA5D,KAAAxB,UAAA,GACAqF,WAAA7D,KAAAtB,MAAAoF,KAAA,KACAC,aAAA/D,KAAAjB,UACAiF,kBAAA,EACAC,WAAAjE,KAAAf,YACAC,SAAAc,KAAAd,YAEAgF,KAAA,SAAAC,GACAX,EAAA1E,aACA0E,EAAAlE,WAAA,QACA,IAAA6E,EAAA7F,KAAA8F,OACAZ,EAAA9E,MAAA2F,QAAA,SAAAC,EAAAC,GACA,QAAAhE,EAAA,EAAAA,EAAAiD,EAAA7E,WAAA6B,OAAAD,IACA,GAAA+D,IAAAd,EAAA7E,WAAA4B,GAAA7B,MAAA,CACA8E,EAAA1E,UAAA0F,KAAAhB,EAAA7E,WAAA4B,IACA,MAGAiD,EAAAjE,aAAA8E,QAAA,SAAAI,EAAAC,GACAlB,EAAAlE,UAAAkF,KAAAF,EAAAG,OAGAjB,EAAAhE,MAAA2E,EAAA7F,KAAAqG,QAAAnF,MACAgE,EAAA/D,eAAA0E,EAAA7F,KAAAqG,QAAAlF,eACA+D,EAAA9D,iBAAAyE,EAAA7F,KAAAqG,QAAAjF,iBAEA8D,EAAA3E,UAAAsF,EAAA7F,KAAAqG,QAAAC,SACApB,EAAArE,aAAAgF,EAAA7F,KAAAqG,QAAAxF,cAEAqE,EAAAjF,SAAA,IACAsG,MAAA,SAAAC,GACAtB,EAAAjF,SAAA,KAIAgF,qBA/IA,WA+IA,IAAAwB,EAAA/E,KACAA,KAAAyD,MAAAvD,IAAA,wCACAwD,QACAC,UAAA3D,KAAAxB,UAAA,GACAoF,QAAA5D,KAAAxB,UAAA,GACAqF,WAAA7D,KAAAtB,MAAAoF,KAAA,KACAC,aAAA/D,KAAAjB,aAEAmF,KAAA,SAAAC,GACA,IAAAA,EAAA7F,KAAA8F,OACAW,EAAA1F,UAAA8E,EAAA7F,KAAAqG,QAAAC,YAEAC,MAAA,SAAAC,OAKAE,WAhKA,SAgKAT,GACA,kBAAAA,GAEAU,aAnKA,SAmKA3G,GACA,QAAAiC,KAAAjC,EACA,OAAAA,EAAAiC,GAAA2E,MAIAC,YAzKA,WAyKA,IAGAC,EAFApF,KAAAqF,MAAAC,MACAC,IACAC,cAAA,qBACAzE,EAAAf,KAAAhB,YAAA,WACA0E,GACA+B,WAAAzF,KAAAV,UAAAwE,KAAA,KACAH,UAAA3D,KAAAxB,UAAA,GACAoF,QAAA5D,KAAAxB,UAAA,GACAqF,WAAA7D,KAAAtB,MAAAoF,KAAA,KACAC,aAAA/D,KAAAjB,UACA2G,UAAA,kBACA1B,kBAAA,EACA2B,QAAA,uBAEMC,OAAAC,EAAA,EAAAD,CAANR,EAAArE,EAAA,8CAAA2C,KAGAoC,QA9PA,aAkQAC,QAlQA,WAoQA,IAAApC,GAAA,IAAAqC,MAAAC,SAAA,IAAAD,MAAAE,UAAA,GACAtC,EAAA,IAAAoC,KACAhG,KAAAxB,WAAA,IAAAwH,KAAArC,GAAAwC,OAAA,uBAAAvC,EAAAuC,OAAA,yBAEAC,OACAnG,YADA,SACAvB,GACAA,EAAA8B,OAAA,IACAR,KAAAjB,UAAAL,EAAA,GAAA2H,OACArG,KAAAhB,YAAAN,EAAA,GAAA4H,SACAtG,KAAAoD,kBACApD,KAAAuD,2BCvbegD,GADEC,OAFjB,WAA0B,IAAAC,EAAAzG,KAAa0G,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,4CAAsDF,EAAA,OAAYE,YAAA,sBAAgCF,EAAA,QAAAH,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAuDE,YAAA,YAAAE,aAAqCxE,MAAA,WAAiBoE,EAAA,kBAAuBK,OAAO7F,KAAA,gBAAA8F,oBAAA,OAAAf,OAAA,sBAAAgB,eAAA,sBAAAC,kBAAA,QAA+IC,OAAQ3I,MAAA+H,EAAA,UAAAa,SAAA,SAAAC,GAA+Cd,EAAAjI,UAAA+I,GAAkBC,WAAA,gBAAyB,GAAAf,EAAAM,GAAA,YAAAH,EAAA,QAAAH,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA8EE,YAAA,YAAAE,aAAqCxE,MAAA,WAAiBoE,EAAA,aAAkBK,OAAOQ,SAAA,GAAAC,gBAAA,GAAAC,YAAA,OAAqDN,OAAQ3I,MAAA+H,EAAA,MAAAa,SAAA,SAAAC,GAA2Cd,EAAA/H,MAAA6I,GAAcC,WAAA,UAAqBf,EAAAmB,GAAAnB,EAAA,oBAAAnC,GAAwC,OAAAsC,EAAA,aAAuBiB,IAAAvD,EAAA5F,MAAAuI,OAAsBrI,MAAA0F,EAAA1F,MAAAF,MAAA4F,EAAA5F,WAAyC,OAAA+H,EAAAM,GAAA,YAAAH,EAAA,aAA4CkB,IAAIC,MAAA,SAAAC,GAAyB,OAAAvB,EAAAnD,iBAA0BsD,EAAA,KAAUE,YAAA,yBAAmCL,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,aAA6CK,OAAO7F,KAAA,SAAe0G,IAAKC,MAAA,SAAAC,GAAyB,OAAAvB,EAAAtB,kBAA2ByB,EAAA,KAAUE,YAAA,yBAAmCL,EAAAM,GAAA,YAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA2CE,YAAA,uBAAiCF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,QAAaE,YAAA,mBAA6BL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAyCE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,KAAAH,EAAAM,GAAA,qBAAAN,EAAAwB,GAAAxB,EAAAjH,OAAA,UAAAiH,EAAAwB,GAAAxB,EAAAhH,gBAAA,SAAAgH,EAAAwB,GAAAxB,EAAA/G,kBAAA,QAAA+G,EAAAM,GAAA,KAAAH,EAAA,OAAAA,EAAA,aAAiLK,OAAO7F,KAAA,sBAA2BqF,EAAAM,GAAA,oBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAmDE,YAAA,qBAA+BL,EAAAyB,GAAA,GAAAzB,EAAAM,GAAA,KAAAH,EAAA,OAAkCE,YAAA,qBAA+BF,EAAA,kBAAuBK,OAAOkB,KAAA,SAAeL,IAAKM,OAAA3B,EAAA1D,WAAuBsE,OAAQ3I,MAAA+H,EAAA,WAAAa,SAAA,SAAAC,GAAgDd,EAAAhI,WAAA8I,GAAmBC,WAAA,gBAA0BZ,EAAA,mBAAwBK,OAAOrI,MAAA,OAAa6H,EAAAM,GAAA,QAAAN,EAAAM,GAAA,KAAAH,EAAA,mBAAmDK,OAAOrI,MAAA,OAAa6H,EAAAM,GAAA,oBAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAmDE,YAAA,yBAAmCF,EAAA,OAAYyB,aAAahK,KAAA,OAAAiK,QAAA,SAAA5J,MAAA,MAAA+H,EAAAhI,WAAA+I,WAAA,uBAA4FR,aAAeuB,OAAA,UAAiB3B,EAAA,OAAYE,YAAA,WAAAE,aAAoCuB,OAAA,uBAA8B3B,EAAA,YAAiByB,aAAahK,KAAA,UAAAiK,QAAA,YAAA5J,MAAA+H,EAAA,QAAAe,WAAA,YAA4EgB,IAAA,QAAAxB,aAA2BxE,MAAA,QAAeyE,OAAQ3I,KAAAmI,EAAA5H,UAAA4J,OAAA,GAAAF,OAAA,UAAkD3B,EAAA,mBAAwBK,OAAO7F,KAAA,QAAAxC,MAAA,KAAA4D,MAAA,QAA0CiE,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAA,OAAA9J,MAAA,KAAA4D,MAAA,SAA0CiE,EAAAM,GAAA,KAAAN,EAAAmB,GAAAnB,EAAA,mBAAAnC,EAAAC,GAA0D,OAAAqC,EAAA,mBAA6BiB,IAAAtD,EAAA0C,OAAiBrI,MAAA0F,EAAA1F,SAAoBgI,EAAA,mBAAwBK,OAAOyB,KAAApE,EAAA5F,MAAA,QAAAE,MAAA,OAAA4D,MAAA,QAAuDiE,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOrI,MAAA,UAAgBgI,EAAA,mBAAwBK,OAAOyB,KAAApE,EAAA5F,MAAA,uBAAA8D,MAAA,KAAA5D,MAAA,WAAuE6H,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAApE,EAAA5F,MAAA,qBAAA8D,MAAA,MAAA5D,MAAA,aAAwE6H,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAApE,EAAA5F,MAAA,gBAAAE,MAAA,WAAkD,GAAA6H,EAAAM,GAAA,KAAAH,EAAA,mBAAwCK,OAAOrI,MAAA,cAAoBgI,EAAA,mBAAwBK,OAAOyB,KAAApE,EAAA5F,MAAA,YAAA8D,MAAA,MAAA5D,MAAA,aAA+D6H,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAApE,EAAA5F,MAAA,YAAAE,MAAA,SAA6C6H,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAApE,EAAA5F,MAAA,qBAAA8D,MAAA,MAAA5D,MAAA,aAAwE6H,EAAAM,GAAA,KAAAH,EAAA,mBAAoCK,OAAOyB,KAAApE,EAAA5F,MAAA,oBAAAE,MAAA,WAAsD,UAAU,OAAA6H,EAAAM,GAAA,KAAAH,EAAA,OAAgCE,YAAA,kBAA4BF,EAAA,iBAAsBK,OAAO0B,eAAAlC,EAAAxH,YAAA2J,YAAAnC,EAAAvH,SAAA2J,WAAA,GAAAC,OAAA,EAAAC,eAAA,uBAAAC,aAAAvC,EAAArH,SAAA6J,OAAA,gDAAAC,MAAAzC,EAAAtH,cAAuO2I,IAAKqB,cAAA1C,EAAApD,qBAAA+F,iBAAA3C,EAAAtD,iBAAAkG,qBAAA,SAAArB,GAAmHvB,EAAAxH,YAAA+I,GAAuBsB,sBAAA,SAAAtB,GAAwCvB,EAAAxH,YAAA+I,MAAyBpB,EAAA,QAAaE,YAAA,2BAAqCL,EAAAM,GAAA,MAAAN,EAAAwB,GAAAxB,EAAAxH,aAAA,IAAAwH,EAAAwB,GAAAxB,EAAA7G,WAAA,eAAA6G,EAAAM,GAAA,KAAAH,EAAA,OAAsGyB,aAAahK,KAAA,OAAAiK,QAAA,SAAA5J,MAAA,MAAA+H,EAAAhI,WAAA+I,WAAA,uBAA4FV,YAAA,aAAAE,aAAwCuB,OAAA,UAAiB3B,EAAA,gBAAqBI,aAAauB,OAAA,UAAiB,MAAA9B,EAAAhI,WAAAmI,EAAA,MAAAH,EAAAmB,GAAAnB,EAAA,mBAAAnC,EAAAC,GAAgF,OAAAqC,EAAA,OAAiBiB,IAAA,IAAAtD,EAAAyC,aAA2BuB,OAAA,SAAiBtB,OAAQsC,GAAA9C,EAAAzB,WAAAT,QAA8B,GAAAkC,EAAA+C,QAAA,UAE15JC,iBADjB,WAAoC,IAAa/C,EAAb1G,KAAa2G,eAA0BC,EAAvC5G,KAAuC6G,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,QAAAA,EAAA,KAAqBE,YAAA,mBAAhI9G,KAA6J+G,GAAA,SAA7J/G,KAA6J+G,GAAA,KAAAH,EAAA,QAAAA,EAAA,KAAiDE,YAAA,qBAA9M9G,KAA6O+G,GAAA,eCEjR,IAcA2C,EAdyBC,EAAQ,OAcjCC,CACExL,EACAmI,GATF,EAVA,SAAAsD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/108.febdaade27ead9119600.js","sourcesContent":["<template>\r\n  <div class=\"zero-drift tapStyle secondary-page-mode\">\r\n    <div class=\"secondary-toolbar\">\r\n      <span>时间选择 : </span>\r\n      <div class=\"layoutBox\" style=\"width:380px\">\r\n            <el-date-picker\r\n              v-model=\"dateRange\"\r\n              type=\"datetimerange\"\r\n              start-placeholder=\"开始日期\"\r\n              format = 'yyyy-MM-dd HH:00:00'\r\n              value-format = 'yyyy-MM-dd HH:00:00'\r\n              end-placeholder=\"结束日期\">\r\n            </el-date-picker>\r\n      </div>&emsp;&emsp;\r\n      <span>监测项目 : </span>\r\n      <div class=\"layoutBox\" style=\"width:190px\">\r\n            <el-select v-model=\"value\" multiple collapse-tags placeholder=\"请选择\">\r\n                  <el-option\r\n                    v-for=\"item in optionData\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n            </el-select>\r\n      </div>&emsp;&emsp;\r\n      <el-button @click=\"searchDate()\"><i class=\"iconfont icon-sousuo\" ></i>查询</el-button>\r\n      <el-button @click=\"exportExcel()\" type='delet'><i class=\"iconfont icon-daochu\"></i>导出</el-button>\r\n    </div>\r\n    <div class=\"currency-mode-wrap\">\r\n      <div class=\"reminder-wrap\">\r\n        <span class=\"reminder-title\">温馨提示</span>\r\n        <div class=\"reminder-content\">\r\n          <div class=\"reminder-text\">\r\n            <p>所选时间段内共有”24小时跨度漂移“{{count}}次，共有合格项{{qualifiedCount}}个，不合格项{{noQualifiedCount}}个。</p>\r\n            <div><el-button type=\"noticonsecondBtn\"> 生成任务 </el-button></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"reminder-toolbar\">\r\n          <div class=\"state-legend\">\r\n            <span><i class=\"qualified-icon\"></i> 合格</span>\r\n            <span><i class=\"unqualified-icon\"></i> 不合格</span>\r\n          </div>\r\n          <div class=\"state-radio-wrap\">\r\n            <el-radio-group v-model=\"stateRadio\" size=\"small\" @change = \"toggleTab\">\r\n              <el-radio-button label=\"1\">列表</el-radio-button>\r\n              <el-radio-button label=\"2\">图表</el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"currency-body-toggle\">\r\n        <div v-show=\"stateRadio === '1'\" style=\"height: 100%\">\r\n          <div  class=\"tablebox\" style=\"height: calc(100% - 34px);\">\r\n            <el-table\r\n              :data=\"tableData\"\r\n              ref=\"table\"\r\n              border\r\n              height=\"100%\"\r\n              v-loading='loading'\r\n              style=\"width: 100%\">\r\n              <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                width=\"50\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"time\"\r\n                label=\"日期\"\r\n                width=\"182\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                  <span>{{ setTableDate(scope.row) }}</span>\r\n                </template> -->\r\n              </el-table-column>\r\n              <el-table-column v-for=\"(item,index) in tableHead\" :key=\"index\" :label=\"item.label\">\r\n                <el-table-column\r\n                  :prop=\"item.value+'value'\"\r\n                  label=\"测试结果\"\r\n                  width=\"80\">\r\n                  <!-- <template slot-scope=\"scope\">\r\n                    {{ scope.row[item.indexCode]?scope.row[item.indexCode].value :'-'}}\r\n                  </template> -->\r\n                </el-table-column>\r\n                <el-table-column label=\"跨度核查\">\r\n                  <el-table-column\r\n                    :prop=\"item.value+'standardSamplesValue'\"\r\n                    width=\"90\"\r\n                    label=\"标准样浓度\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ scope.row[item.indexCode]?scope.row[item.indexCode].standardSamplesValue:'' }}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    :prop=\"item.value+'checkRelativeError'\"\r\n                    width=\"102\"\r\n                    label=\"相对误差(%)\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ !scope.row[item.indexCode] || scope.row[item.indexCode].checkRelativeError === '-' ? '-' : scope.row[item.indexCode].checkRelativeError+'%' }}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    :prop=\"item.value+'qualification'\"\r\n                    label=\"合格情况\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ scope.row[item.indexCode]?scope.row[item.indexCode].qualification:'-' }}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                </el-table-column>\r\n                <el-table-column label=\"24小时跨度漂移\">\r\n                  <el-table-column\r\n                    :prop=\"item.value+'lastValue'\"\r\n                    width=\"118\"\r\n                    label=\"前一次测试结果\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ scope.row[item.indexCode]?scope.row[item.indexCode].lastValue:''}}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    :prop=\"item.value+'spanValue'\"\r\n                    label=\"跨度值\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ scope.row[item.indexCode]?scope.row[item.indexCode].spanValue:''}}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    :prop=\"item.value+'driftRelativeError'\"\r\n                    width=\"102\"\r\n                    label=\"相对误差(%)\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ !scope.row[item.indexCode] || scope.row[item.indexCode].driftRelativeError === '-' ? '-' : scope.row[item.indexCode].driftRelativeError+'%'}}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                    :prop=\"item.value+'lastQualification'\"\r\n                    label=\"合格情况\">\r\n                    <!-- <template slot-scope=\"scope\">\r\n                      {{ scope.row[item.indexCode]?scope.row[item.indexCode].qualification:\"-\" }}\r\n                    </template> -->\r\n                  </el-table-column>\r\n                </el-table-column>\r\n              </el-table-column>\r\n            </el-table>\r\n          </div>\r\n          <div class=\"paginationBox\">\r\n            <el-pagination\r\n              @size-change=\"paginationSizeChange\"\r\n              @current-change=\"paginationChange\"\r\n              :current-page.sync=\"currentPage\"\r\n              :page-size=\"pageSize\"\r\n              background\r\n              :small = \"true\"\r\n              popper-class = \"select-common-option\"\r\n              :page-sizes = \"pageList\"\r\n              layout=\"total,sizes,slot,->,prev, pager, next, jumper\"\r\n              :total=\"totalRecords\">\r\n              <span class=\"el-pagination__current\">当前第{{currentPage}}/{{totalPage}}页</span>\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n        <div class=\"chart-wrap\" v-show=\"stateRadio === '2'\" style=\"height: 100%;\">\r\n          <el-scrollbar style=\"height: 100%;\">\r\n            <div v-if=\"stateRadio === '2'\">\r\n              <div v-for=\"(item,index) in chartList\" :key=\"'k'+index\" :id=\"setChartId(index)\" style=\"height: 300px;\"></div>\r\n            </div>\r\n          </el-scrollbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {exportTableData} from '../../assets/js/tableExport'\r\n  export default {\r\n    name: \"\",\r\n    data() {\r\n      return {\r\n        loading:true,\r\n        dateRange: \"\",\r\n        stateRadio:'1',\r\n        value:['w01019','w21003','w21011','w21001'],\r\n        optionData:[\r\n          {\r\n            value:'w01019',\r\n            label:'高锰酸盐'\r\n          },{\r\n            value:'w21003',\r\n            label:'氨氮'\r\n          },{\r\n            value:'w21011',\r\n            label:'总磷'\r\n          },{\r\n            value:'w21001',\r\n            label:'总氮'\r\n          },\r\n          // {\r\n          //   value:'w01001',\r\n          //   label:'PH'\r\n          // },{\r\n          //   value:'w21023',\r\n          //   label:'水温'\r\n          // },{\r\n          //   value:'w01009',\r\n          //   label:'溶解氧'\r\n          // },{\r\n          //   value:'w01014',\r\n          //   label:'电导率'\r\n          // },{\r\n          //   value:'w01003',\r\n          //   label:'浊度'\r\n          // }\r\n        ],\r\n        tableData:[],\r\n        tableHead:'',\r\n        stationId:'',\r\n        stationName:'',\r\n        currentPage: 1, //分页组件当前页\r\n        pageSize: 10, //分页每页多少条数据\r\n        totalRecords: 0, //总条数\r\n        pageList: [10, 15, 20], //设置每页多少条\r\n        chartList:[],\r\n        fieldList:[],\r\n        headPropList:['value','standardSamplesValue','checkRelativeError','qualification','lastValue','spanValue','driftRelativeError','lastQualification'],\r\n        count:'',\r\n        qualifiedCount:'',\r\n        noQualifiedCount:'',\r\n      };\r\n    },\r\n    computed: {\r\n      totalPage(){//计算总页数\r\n        let number = 0;\r\n        number = Math.ceil(this.totalRecords / this.pageSize);\r\n        return number === 0 ? 1 : number;\r\n      },\r\n      stationInfo: {\r\n        get: function() {\r\n          return this.$store.state.stationInfo;\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n        //创建图表\r\n      createdChart(){\r\n         for (let i=0;i < this.chartList.length;i++){\r\n           let chart = this.$echarts.init(document.getElementById('zeroDrift'+i));\r\n           let option = {\r\n             title:{\r\n               text:\"24小时\"+ this.chartList[i].name +\"跨度漂移历史数据\",\r\n               x:'center',\r\n               y:20\r\n             },\r\n             xAxis: {\r\n               type: 'category',\r\n               name:'时间',\r\n               data: this.chartList[i].xAxis\r\n             },\r\n             legend: {\r\n               data:[this.chartList[i].name],\r\n               bottom:0\r\n             },\r\n             yAxis: {\r\n               type: 'value',\r\n               name:\"相对误差(%)\",\r\n             },\r\n             visualMap: {\r\n               top: 10,\r\n               right: -100,\r\n               pieces: [{\r\n                 gte: -5,\r\n                 lte: 5,\r\n                 color: '#009966',\r\n                 label:'合格',\r\n               },{\r\n                 gt: 5,\r\n                 color: '#d68787',\r\n                 label:'不合格',\r\n               }],\r\n               outOfRange: {\r\n                 color: '#d68787'\r\n               }\r\n             },\r\n             grid:{\r\n               top: 80,\r\n               left: 80,\r\n               bottom: 50,\r\n               right: 70\r\n             },\r\n             series: [{\r\n               data: this.chartList[i].yAxis,\r\n               name: this.chartList[i].name,\r\n               type: 'line',\r\n               symbol: 'triangle',\r\n               symbolSize: 20,\r\n               lineStyle: {\r\n                 normal: {\r\n                   color: '#008000',\r\n                   width: 4,\r\n                   type: 'dashed'\r\n                 }\r\n               },\r\n               itemStyle: {\r\n                 normal: {\r\n                   borderWidth: 3,\r\n                   color:'#0ec15a'\r\n                 }\r\n               },\r\n               markLine: {\r\n                    lineStyle:{\r\n                      color:'red',\r\n                      type:'solid'\r\n                    },\r\n                    data: [\r\n                      {yAxis: this.chartList[i].upper, name: '最大误差'},\r\n                      {yAxis: this.chartList[i].lower, name: '最小误差'}\r\n                    ]\r\n               },\r\n             }]\r\n           };\r\n           chart.setOption(option);\r\n         }\r\n       },\r\n      toggleTab(val){\r\n        if(val === '2'){\r\n          setTimeout(()=>{\r\n            this.createdChart();\r\n          },500);\r\n        }\r\n      },\r\n      paginationChange(val) {\r\n        //分页页码改变时执行\r\n        this.currentPage = val;\r\n        this.searchZeroDrift();\r\n      },\r\n      paginationSizeChange(val) {\r\n        //分页pageSize改变时执行\r\n        this.pageSize = val;\r\n        this.searchZeroDrift();\r\n      },\r\n      //查询按钮点击事件\r\n      searchDate(){\r\n        this.searchZeroDrift();\r\n        this.searchZeroDriftChart();\r\n      },\r\n      //获取查询表格数据\r\n      searchZeroDrift(){\r\n        this.$http.get('/Quality/testData/spanDriftData',{\r\n          params:{\r\n            startTime:this.dateRange[0],\r\n            endTime:this.dateRange[1],\r\n            indexCodes:this.value.join(','),\r\n            stationCodes: this.stationId,//this.stationId\r\n            ifCurrentSection: true,// true为当前断面,false为所有\r\n            pageNumber: this.currentPage,\r\n            pageSize: this.pageSize\r\n          }\r\n        }).then(res=>{\r\n          this.tableHead = [];\r\n          this.fieldList = ['time'];\r\n          if(res.data.code === 0){\r\n            this.value.forEach((item,index)=>{\r\n              for(let i=0; i<this.optionData.length; i++){\r\n                  if(item === this.optionData[i].value){\r\n                    this.tableHead.push(this.optionData[i]);\r\n                      break;\r\n                  }\r\n              }\r\n              this.headPropList.forEach((n,m)=>{\r\n                 this.fieldList.push(item+n);\r\n              });\r\n            });\r\n            this.count = res.data.content.count;//总次数\r\n            this.qualifiedCount = res.data.content.qualifiedCount;//合格次数\r\n            this.noQualifiedCount = res.data.content.noQualifiedCount;//不合格次数\r\n\r\n            this.tableData = res.data.content.dataList;\r\n            this.totalRecords = res.data.content.totalRecords;\r\n          }\r\n          this.loading = false;\r\n        }).catch(error=>{\r\n          this.loading = false;\r\n        })\r\n      },\r\n      //获取查询图表数据\r\n      searchZeroDriftChart(){\r\n        this.$http.get('/Quality/testData/spanDriftChartData',{\r\n          params:{\r\n            startTime:this.dateRange[0],\r\n            endTime:this.dateRange[1],\r\n            indexCodes:this.value.join(','),\r\n            stationCodes: this.stationId//this.stationId\r\n          }\r\n        }).then(res=>{\r\n          if(res.data.code === 0){\r\n            this.chartList = res.data.content.dataList;\r\n          }\r\n        }).catch(error=>{\r\n\r\n        })\r\n      },\r\n      //设置图表id\r\n      setChartId(index){\r\n        return 'zeroDrift'+index;\r\n      },\r\n      setTableDate(data){//设置时间\r\n        for (let i in data){\r\n          return data[i].time;\r\n        }\r\n      },\r\n      //导出表格\r\n      exportExcel(){\r\n        let {table} = this.$refs;\r\n        let tableBox = table.$el;\r\n        let header = tableBox.querySelector('.el-table__header');\r\n        let title = this.stationName +'24小时跨度漂移';\r\n        let params = {\r\n          headerProp:this.fieldList.join(','),\r\n          startTime: this.dateRange[0],\r\n          endTime: this.dateRange[1],\r\n          indexCodes: this.value.join(\",\"),\r\n          stationCodes: this.stationId,\r\n          tableType:'SPAN_DRIFT_DATA',\r\n          ifCurrentSection:true,\r\n          pattern:'yyyy-MM-dd HH:mm:ss'\r\n        };\r\n        exportTableData(header,title,'','1',\"/Quality/exports/qualityControlExcel\",params);\r\n      },\r\n    },\r\n    mounted(){\r\n      // this.searchZeroDrift();\r\n      // this.searchZeroDriftChart();\r\n    },\r\n    created() {\r\n      //初始化时间\r\n      let startTime = new Date().setDate(new Date().getDate() - 1);\r\n      let endTime = new Date();\r\n      this.dateRange = [new Date(startTime).format('yyyy-MM-dd hh:00:00'),endTime.format('yyyy-MM-dd hh:00:00')];\r\n    },\r\n    watch:{\r\n      stationInfo(value){\r\n        if (value.length>0) {\r\n          this.stationId = value[0].nodeId;\r\n          this.stationName = value[0].nodeName;\r\n          this.searchZeroDrift();\r\n          this.searchZeroDriftChart();\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.chart-wrap{\r\n  border: 1px solid #dbe8f7;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/qualityControl/spanDrift.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zero-drift tapStyle secondary-page-mode\"},[_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"时间选择 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"380px\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"start-placeholder\":\"开始日期\",\"format\":\"yyyy-MM-dd HH:00:00\",\"value-format\":\"yyyy-MM-dd HH:00:00\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_vm._v(\"  \\n    \"),_c('span',[_vm._v(\"监测项目 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"190px\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.optionData),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\"  \\n    \"),_c('el-button',{on:{\"click\":function($event){return _vm.searchDate()}}},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"delet\"},on:{\"click\":function($event){return _vm.exportExcel()}}},[_c('i',{staticClass:\"iconfont icon-daochu\"}),_vm._v(\"导出\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap\"},[_c('div',{staticClass:\"reminder-wrap\"},[_c('span',{staticClass:\"reminder-title\"},[_vm._v(\"温馨提示\")]),_vm._v(\" \"),_c('div',{staticClass:\"reminder-content\"},[_c('div',{staticClass:\"reminder-text\"},[_c('p',[_vm._v(\"所选时间段内共有”24小时跨度漂移“\"+_vm._s(_vm.count)+\"次，共有合格项\"+_vm._s(_vm.qualifiedCount)+\"个，不合格项\"+_vm._s(_vm.noQualifiedCount)+\"个。\")]),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"}},[_vm._v(\" 生成任务 \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"reminder-toolbar\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"state-radio-wrap\"},[_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.toggleTab},model:{value:(_vm.stateRadio),callback:function ($$v) {_vm.stateRadio=$$v},expression:\"stateRadio\"}},[_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"列表\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"2\"}},[_vm._v(\"图表\")])],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"currency-body-toggle\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stateRadio === '1'),expression:\"stateRadio === '1'\"}],staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"tablebox\",staticStyle:{\"height\":\"calc(100% - 34px)\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"日期\",\"width\":\"182\"}}),_vm._v(\" \"),_vm._l((_vm.tableHead),function(item,index){return _c('el-table-column',{key:index,attrs:{\"label\":item.label}},[_c('el-table-column',{attrs:{\"prop\":item.value+'value',\"label\":\"测试结果\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"跨度核查\"}},[_c('el-table-column',{attrs:{\"prop\":item.value+'standardSamplesValue',\"width\":\"90\",\"label\":\"标准样浓度\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":item.value+'checkRelativeError',\"width\":\"102\",\"label\":\"相对误差(%)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":item.value+'qualification',\"label\":\"合格情况\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"24小时跨度漂移\"}},[_c('el-table-column',{attrs:{\"prop\":item.value+'lastValue',\"width\":\"118\",\"label\":\"前一次测试结果\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":item.value+'spanValue',\"label\":\"跨度值\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":item.value+'driftRelativeError',\"width\":\"102\",\"label\":\"相对误差(%)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":item.value+'lastQualification',\"label\":\"合格情况\"}})],1)],1)})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"paginationBox\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"background\":\"\",\"small\":true,\"popper-class\":\"select-common-option\",\"page-sizes\":_vm.pageList,\"layout\":\"total,sizes,slot,->,prev, pager, next, jumper\",\"total\":_vm.totalRecords},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}},[_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPage)+\"页\")])])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stateRadio === '2'),expression:\"stateRadio === '2'\"}],staticClass:\"chart-wrap\",staticStyle:{\"height\":\"100%\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[(_vm.stateRadio === '2')?_c('div',_vm._l((_vm.chartList),function(item,index){return _c('div',{key:'k'+index,staticStyle:{\"height\":\"300px\"},attrs:{\"id\":_vm.setChartId(index)}})}),0):_vm._e()])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"state-legend\"},[_c('span',[_c('i',{staticClass:\"qualified-icon\"}),_vm._v(\" 合格\")]),_vm._v(\" \"),_c('span',[_c('i',{staticClass:\"unqualified-icon\"}),_vm._v(\" 不合格\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12839bee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/qualityControl/spanDrift.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-12839bee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./spanDrift.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./spanDrift.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./spanDrift.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-12839bee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./spanDrift.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-12839bee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/qualityControl/spanDrift.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}