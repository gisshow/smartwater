webpackJsonp([89],{MoZa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("dwSH"),n={name:"sampleComparison",data:function(){return{dateRange:"",value:"w01019",optionData:[],optionDataA:[{value:"w01019",label:"高锰酸盐"},{value:"w21003",label:"氨氮"},{value:"w21011",label:"总磷"},{value:"w21001",label:"总氮"}],optionDataB:[{value:"w01018",label:"CODcr"},{value:"w21003",label:"氨氮"},{value:"w21011",label:"总磷"},{value:"w21001",label:"总氮"}],currentPage:1,pageSize:10,totalRecords:0,pageList:[10,15,20],tableData:[],stateRadio:"1",stationType:"",tableHeader:[],tableHeaderA:[{name:"24小时零点漂移",errorName:"相对误差",errorRangeName:"相对误差范围",propA:"zeroValue",propB:"zeroLastValue",propC:"zeroRelativeError",propD:"zeroRelativeTechnicalRequirement"},{name:"24小时量程漂移",errorName:"相对误差",errorRangeName:"相对误差范围",propA:"spanValue",propB:"spanLastValue",propC:"spanDriftRelativeError",propD:"spanDriftRelativeTechnicalRequirement"}],tableHeaderB:[{name:"24小时量程漂移",errorName:"相对误差",errorRangeName:"相对误差范围",propA:"spanValue",propB:"spanLastValue",propC:"spanDriftRelativeError",propD:"spanDriftRelativeTechnicalRequirement"}],fieldList:[],fieldListA:["time","zeroValue","zeroLastValue","zeroDriftRelativeError","zeroDriftRelativeTechnicalRequirement","spanValue","spanLastValue","spanDriftRelativeError","spanDriftRelativeTechnicalRequirement"],fieldListB:["time","spanValue","spanLastValue","spanDriftRelativeError","spanDriftRelativeTechnicalRequirement"],stationName:""}},computed:{totalPage:function(){var t;return 0===(t=Math.ceil(this.totalRecords/this.pageSize))?1:t},stationInfo:{get:function(){return this.$store.state.stationInfo}}},methods:{paginationChange:function(t){this.currentPage=t,this.getSpanCheckData()},paginationSizeChange:function(t){this.pageSize=t,this.getSpanCheckData()},toggleTable:function(t){t.toggle?t.toggle=!1:t.toggle=!0},toggleTab:function(t){},search:function(){this.getSpanCheckData()},getSpanCheckData:function(){var t=this;this.$http.get("/Quality/CQtestData/zeroSpanDriftData",{params:{startTime:this.dateRange[0],endTime:this.dateRange[1],indexCodes:this.value,stationCodes:this.stationId,ifCurrentSection:!0,pageNumber:this.currentPage,pageSize:this.pageSize}}).then(function(e){0===e.data.code&&(t.tableData=e.data.content.dataList,t.totalRecords=e.data.content.totalRecords)})},setOptionData:function(){this.stationType?(this.optionData=this.optionDataB,this.value="w01018"):(this.optionData=this.optionDataA,this.value="w01019"),this.getSpanCheckData()},exportExcel:function(){var t=this.$refs.table.$el.querySelector(".el-table__header"),e=this.stationName+this.filterOptionData(this.value)+"24小时零点漂移核查",a={headerProp:this.fieldList.join(","),startTime:this.dateRange[0],endTime:this.dateRange[1],indexCodes:this.value,stationCodes:this.stationId,tableType:"ZERO_SPAN_DRIFT_DATA"};Object(i.a)(t,e,"","1","/Quality/exports/qualityControlExcel",a)},filterOptionData:function(t){for(var e=0;e<this.optionData.length;e++)if(this.optionData[e].value===t)return this.optionData[e].label}},mounted:function(){},created:function(){var t=(new Date).setDate((new Date).getDate()-30),e=new Date;this.dateRange=[new Date(t).format("yyyy-MM-dd hh:00:00"),e.format("yyyy-MM-dd hh:00:00")]},watch:{stationInfo:function(t){t.length>0&&(this.stationId=t[0].nodeId,this.stationName=t[0].nodeName,"002"===t[0].stationType1?(this.stationType=!0,this.tableHeader=this.tableHeaderB,this.fieldList=this.fieldListB):(this.stationType=!1,this.tableHeader=this.tableHeaderA,this.fieldList=this.fieldListA),this.setOptionData())}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sampleComparison tapStyle secondary-page-mode"},[a("div",{staticClass:"secondary-toolbar"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"370px"}},[a("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"开始日期",format:"yyyy-MM-dd HH:00:00","value-format":"yyyy-MM-dd HH:00:00","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v("  \n    "),a("span",[t._v("监测项目 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"190px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.optionData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v("  \n    "),a("el-button",{on:{click:t.search}},[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"delet"},on:{click:function(e){return t.exportExcel()}}},[a("i",{staticClass:"iconfont icon-daochu"}),t._v("导出")])],1),t._v(" "),a("div",{staticClass:"currency-mode-wrap scrollSpecial"},[a("div",{staticClass:"reminder-wrap"},[a("span",{staticClass:"reminder-title"},[t._v("温馨提示")]),t._v(" "),a("div",{staticClass:"reminder-content"},[a("div",{staticClass:"reminder-text"},[a("p",[t._v("所选时间段内共有“多点线性核查移”x次，共有合格项m次，不合格项y次。影响数据n条。点位1、点位2的上次周核查时间距今已有7天；站点3的上次周核查距今已有6天。")]),t._v(" "),a("div",[a("el-button",{attrs:{type:"noticonsecondBtn"}},[t._v(" 生成任务 ")])],1)])]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"currency-body-toggle"},[a("div",{staticClass:"tablebox",staticStyle:{height:"calc(100% - 35px)"}},[a("el-table",{ref:"table",attrs:{data:t.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",width:"178",label:"日期"}}),t._v(" "),t._l(t.tableHeader,function(e,i){return a("el-table-column",{key:i,attrs:{label:e.name}},[a("el-table-column",{attrs:{label:"测定结果（mg/L）"}},[a("el-table-column",{attrs:{prop:e.propA,label:"当日"}}),t._v(" "),a("el-table-column",{attrs:{prop:e.propB,label:"前一日"}})],1),t._v(" "),a("el-table-column",{attrs:{prop:e.propC,label:"相对误差"}}),t._v(" "),a("el-table-column",{attrs:{prop:e.propD,label:"相对误差范围"}})],1)})],2)],1),t._v(" "),a("div",{staticClass:"paginationBox"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,background:"",small:!0,"popper-class":"select-common-option","page-sizes":t.pageList,layout:"total,sizes,slot,->,prev, pager, next, jumper",total:t.totalRecords},on:{"size-change":t.paginationSizeChange,"current-change":t.paginationChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[a("span",{staticClass:"el-pagination__current"},[t._v("当前第"+t._s(t.currentPage)+"/"+t._s(t.totalPage)+"页")])])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reminder-toolbar"},[e("div",{staticClass:"state-legend"},[e("span",[e("i",{staticClass:"qualified-icon"}),this._v(" 合格")]),this._v(" "),e("span",[e("i",{staticClass:"unqualified-icon"}),this._v(" 不合格")])])])}]};var s=a("VU/8")(n,l,!1,function(t){a("eUF7")},null,null);e.default=s.exports},eUF7:function(t,e){}});
//# sourceMappingURL=89.c136cd73b5569f651955.js.map