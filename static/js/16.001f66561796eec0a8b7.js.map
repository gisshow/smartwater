{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/library/modules/_is-integer.js","webpack:///./node_modules/babel-runtime/core-js/number/is-integer.js","webpack:///./node_modules/core-js/library/fn/number/is-integer.js","webpack:///src/views/systemManage/roleManage.vue","webpack:///./src/views/systemManage/roleManage.vue?4cf3","webpack:///./src/views/systemManage/roleManage.vue"],"names":["$export","__webpack_require__","S","isInteger","isObject","floor","Math","module","exports","it","isFinite","default","__esModule","Number","roleManage","name","data","filterText","stfilterText","stationData","value","loading","visiDialog","searchModel","vTitle","tableData","roleId","formData","roleName","seqNum","description","rules","required","message","trigger","min","max","validator","rule","callback","Error","is_integer_default","currentPage","total","pageSize","pageList","isEditor","menuVisiDialog","stVisiDialog","menuData","defaultProps","children","label","stdefaultProps","defaultId","stdefaultId","inject","created","this","init","getMenuData","getList","mounted","methods","filterNode","indexOf","stfilterNode","stationName","_this","$http","get","params","keyName","typeCode","isUsedString","isMonitoring","basinnOrAreaOrCustom","groupName","groupStations","then","res","code","arr","content","dataList","push","nodeName","nodeId","selectChange","val","index","i","substring","length","paginationSizeChange","v","paginationChange","addRole","submit","formName","_this2","$refs","validate","valid","FormData","append","put","resetForm","$message","type","duration","_formData","post","revise","row","delet","id","globelDelet","allDelet","_this3","pageNo","totalRecords","search","resetFields","cancel","closess","done","_this4","submitMenu","_this5","menuArr","menuTree","getCheckedNodes","pId","join","submitStation","stationArr","stationTree","console","log","stationId","setMenu","_this7","setCheckedNodes","permissionLevel","permissionName","permissionId","cancelmSub","cancelsSub","setStation","_this8","computed","totalPageNumber","ceil","watch","filter","systemManage_roleManage","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","width","attrs","placeholder","model","$$v","expression","on","click","directives","rawName","border","height","element-loading-text","element-loading-spinner","element-loading-background","selection-change","prop","scopedSlots","_u","key","fn","scope","$event","current-page","page-size","popper-class","background","small","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","_s","proxy","visible","title","before-close","update:visible","ref","$set","_n","colspan","slot","padding","margin-bottom","suffix-icon","class","indent","node-key","default-checked-keys","default-expand-all","highlight-current","show-checkbox","filter-node-method","props","node","level","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.001f66561796eec0a8b7.js","sourcesContent":["// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.is-integer.js\n// module id = 1alW\n// module chunks = 16","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-integer.js\n// module id = AKgy\n// module chunks = 16","module.exports = { \"default\": require(\"core-js/library/fn/number/is-integer\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/is-integer.js\n// module id = RRo+\n// module chunks = 16","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/is-integer.js\n// module id = c45H\n// module chunks = 16","<template>\r\n  <div class=\"trafficpage secondary-page-mode\">\r\n    <div class=\"secondary-toolbar\">\r\n           <span>关键字 : </span>\r\n           <div class=\"layoutBox\" style=\"width:220px\">\r\n             <el-input placeholder=\"请输入\" v-model=\"searchModel\"></el-input>\r\n          </div>&emsp;&emsp;\r\n           <el-button @click=\"search\"><i class=\"iconfont icon-sousuo\"></i>查询</el-button>\r\n           <el-button @click=\"addRole\"><i class=\"iconfont icon-tianjia\"></i>新增</el-button>\r\n           <el-button type=\"delet\" @click=\"allDelet\"><i class=\"iconfont icon-shanchu\"></i>批量删除</el-button>\r\n    </div>\r\n    <div class=\"currency-mode-wrap\" >\r\n        \r\n          <el-table border :data=\"tableData\" height=\"calc(100% - 30px)\" @selection-change=\"selectChange\"\r\n               v-loading=\"loading\"\r\n               element-loading-text=\"加载中\"\r\n               element-loading-spinner=\"loading-type-a\"\r\n               element-loading-background=\"rgba(255, 255, 255, 1)\">\r\n                  <el-table-column\r\n                      type=\"selection\"\r\n                      width=\"50\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      type=\"index\"\r\n                      label=\"序号\"\r\n                      width=\"50\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"roleName\"\r\n                      width=\"300\"\r\n                      label=\"角色名称\">\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      prop=\"description\"\r\n                      label=\"描述\">\r\n                  </el-table-column>\r\n                 \r\n                   <el-table-column\r\n                      label=\"资源配置\"\r\n                      width=\"250\">\r\n                      <template  slot-scope=\"scope\">\r\n                        <div>\r\n                              <el-button type=\"secondBtn\" @click=\"setMenu(scope.row.roleId)\">菜单配置</el-button>\r\n                              <el-button type=\"secondBtn\" @click=\"setStation(scope.row.roleId)\">站点配置</el-button>\r\n                        </div>\r\n                      </template>\r\n                  </el-table-column>\r\n                  <el-table-column\r\n                      label=\"操作\"\r\n                      width=\"200\">\r\n                        <template  slot-scope=\"scope\">\r\n                          <div>\r\n                             <el-button type=\"secondBtn\" @click=\"revise(scope.row)\">修改</el-button>\r\n                             <el-button type=\"secondBtn\" @click=\"delet(scope.row.roleId)\">删除</el-button>\r\n                          </div>\r\n                        </template>\r\n                  </el-table-column>\r\n          </el-table>\r\n           <div class=\"table-pagination-wrap\">\r\n              <el-pagination\r\n                @size-change=\"paginationSizeChange\"\r\n                @current-change=\"paginationChange\"\r\n                :current-page.sync=\"currentPage\"\r\n                :page-size=\"pageSize\"\r\n                popper-class=\"select-pagination-option\"\r\n                background\r\n                :small=\"true\"\r\n                :page-sizes=\"pageList\"\r\n                layout=\"total, sizes, slot,->,prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n                <template v-slot:default>\r\n                  <span class=\"el-pagination__current\">当前第{{ currentPage }}/{{totalPageNumber}}页</span>\r\n                </template>\r\n              </el-pagination>\r\n          </div>\r\n    </div>\r\n    <el-dialog :visible.sync=\"visiDialog\"  width=\"920px\" :title=\"vTitle\" :before-close=\"closess\">\r\n          <div class=\"dialogcontent\">\r\n              <el-form :model=\"formData\" :rules=\"rules\" ref=\"ruleForm\" >\r\n                   <table class=\"whTable\">\r\n                        <tr>  \r\n                            <td width=\"16.5%\"><span  class=\"rCode\">用户名称</span></td>\r\n                            <td>\r\n                               <el-form-item  prop=\"roleName\">\r\n                                   <el-input placeholder=\"请输入\" v-model=\"formData.roleName\"></el-input>\r\n                               </el-form-item>\r\n                            </td>\r\n                            <td width=\"16.5%\"><span>序号</span></td>\r\n                            <td>\r\n                               <el-form-item  prop=\"seqNum\">\r\n                                <el-input placeholder=\"请输入\" v-model.number=\"formData.seqNum\"></el-input>\r\n                               </el-form-item>\r\n                            </td>\r\n                        </tr>\r\n                         <tr>  \r\n                            <td width=\"16.5%\"><span>描述</span></td>\r\n                            <td colspan=\"3\"><el-input placeholder=\"请输入\" type=\"textarea\" v-model=\"formData.description\"></el-input></td>\r\n                           \r\n                        </tr>\r\n                   </table>\r\n              </el-form>   \r\n               \r\n          </div>\r\n           <div slot=\"footer\">\r\n              <el-button @click=\"submit('ruleForm')\">提交</el-button>\r\n              <el-button type=\"noticonsecondBtn\" @click=\"cancel('ruleForm')\">取消</el-button>\r\n          </div>\r\n    </el-dialog>\r\n    <el-dialog :visible.sync=\"menuVisiDialog\"  width=\"450px\" title=\"菜单配置\">\r\n          <div class=\"dialogcontent tree_content\" style=\"height:300px;padding:0px\">\r\n                <el-scrollbar style=\"height:100%\"> \r\n                      <div style=\"width:255px;margin-bottom:12px;\">\r\n                          <el-input placeholder=\"请输入菜单名\" suffix-icon=\"el-icon-search\" v-model=\"filterText\"></el-input>\r\n                      </div>\r\n                      <el-tree\r\n                        :data=\"menuData\"\r\n                        :indent=\"23\"\r\n                        node-key=\"id\"\r\n                        ref=\"menuTree\"\r\n                        :default-checked-keys=\"defaultId\"\r\n                        default-expand-all\r\n                        highlight-current\r\n                        show-checkbox\r\n                        :filter-node-method=\"filterNode\"\r\n                        :class=\"menuData.length==1?'noBr':''\"\r\n                        :props=\"defaultProps\"\r\n                      >\r\n                        <span class=\"custom-tree-node\" slot-scope=\"{node,data}\">\r\n                          <span>\r\n                            <i\r\n                              class=\"iconCode\"\r\n                              :class=\"data.level == '0'?'sf':data.level == '1'?'sf':data.level == '2'?'city':''\"\r\n                            ></i>\r\n                            {{ node.label }}\r\n                          </span>\r\n                        </span>\r\n                      </el-tree>\r\n                </el-scrollbar>\r\n               \r\n          </div>\r\n           <div slot=\"footer\">\r\n              <el-button @click=\"submitMenu\">提交</el-button>\r\n              <el-button type=\"noticonsecondBtn\" @click=\"cancelmSub\">取消</el-button>\r\n          </div>\r\n    </el-dialog>\r\n    <el-dialog :visible.sync=\"stVisiDialog\"  width=\"450px\" title=\"站点配置\">\r\n          <div class=\"dialogcontent tree_content\" style=\"height:300px;padding:0px\">\r\n             <el-scrollbar style=\"height:100%\">\r\n                  <div style=\"width:255px;margin-bottom:12px;\">\r\n                          <el-input placeholder=\"请输入站点名\" suffix-icon=\"el-icon-search\" v-model=\"stfilterText\"></el-input>\r\n                      </div>\r\n                 <el-tree\r\n                      :data=\"stationData\"\r\n                      :indent=\"23\"\r\n                      node-key=\"nodeId\"\r\n                      ref=\"stationTree\"\r\n                      :default-checked-keys=\"stdefaultId\"\r\n                      default-expand-all\r\n                      highlight-current\r\n                      show-checkbox\r\n                      :filter-node-method=\"stfilterNode\"\r\n                      :class=\"stationData.length==1?'noBr':''\"\r\n                      :props=\"stdefaultProps\"\r\n                    >\r\n                      <span class=\"custom-tree-node\" slot-scope=\"{node,data}\">\r\n                        <span>\r\n                          <i\r\n                            class=\"iconCode\"\r\n                             :class=\"data.stationId == 'quanbu'?'sf':'station'\"\r\n                          ></i>\r\n                          {{ node.label}}\r\n                        </span>\r\n                      </span>\r\n                </el-tree>\r\n              </el-scrollbar>\r\n          </div>\r\n           <div slot=\"footer\">\r\n              <el-button @click=\"submitStation\">提交</el-button>\r\n              <el-button type=\"noticonsecondBtn\"  @click=\"cancelsSub\">取消</el-button>\r\n          </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    var checkAge = (rule, value, callback) => {\r\n      if (!value) {\r\n        return callback(new Error(\"序号不能为空\"));\r\n      }\r\n\r\n      if (!Number.isInteger(value)) {\r\n        callback(new Error(\"请输入数字值并且不为负数\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      filterText:'',//菜单名搜索\r\n      stfilterText:'',//站点名搜索\r\n      stationData:[],\r\n      value: \"\",\r\n      loading:true,\r\n      visiDialog: false,\r\n      searchModel: \"\",\r\n      vTitle: \"角色新增\",\r\n      tableData: [],\r\n      roleId: \"\",\r\n      formData: {\r\n        roleName: \"\",\r\n        seqNum: \"\",\r\n        description: \"\",\r\n        \r\n      },\r\n      rules: {\r\n        roleName: [\r\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\r\n          { min: 1, max: 25, message: \"长度在 1 到 25 个字符\", trigger: \"blur\" }\r\n        ],\r\n        seqNum: [{ validator: checkAge, trigger: \"blur\" }]\r\n      },\r\n      currentPage: 1, //分页组件当前页\r\n      total: 0, //分页总条数\r\n      pageSize: 10, //分页每页多少条数据\r\n      pageList: [10, 15, 20], //设置每页多少条\r\n      isEditor: false, //判断是新增还是修改状态\r\n      menuVisiDialog:false,\r\n      stVisiDialog:false,\r\n      menuData:[],\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"name\"\r\n      },\r\n      stdefaultProps: {\r\n        children: \"children\",\r\n        label: \"nodeName\"\r\n      },\r\n      defaultId:[],\r\n      stdefaultId:[],\r\n    };\r\n  },\r\n  inject:['globelDelet'],\r\n  created() {\r\n    this.init()\r\n    this.getMenuData();\r\n    this.getList();\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    //菜单树过滤\r\n     filterNode(value, data) {\r\n        if (!value) return true;\r\n        return data.name.indexOf(value) !== -1;\r\n     },\r\n     //站点树过滤\r\n     stfilterNode(value, data) {\r\n        if (!value) return true;\r\n        return data.stationName.indexOf(value) !== -1;\r\n     },\r\n     init(){\r\n       \r\n        this.$http\r\n        .get(\"/SiteManagement/station/queryTree\", {\r\n          params: {\r\n            keyName: \"\",\r\n            typeCode: \"\",\r\n            isUsedString: \"\",\r\n            isMonitoring: \"\",\r\n            basinnOrAreaOrCustom: \"area\",\r\n            groupName: \"\",\r\n            groupStations: \"\"\r\n          }\r\n        })\r\n        .then(res=>{\r\n                  if(res.data.code == 0){\r\n               let arr=[];\r\n               arr=res.data.content.dataList;\r\n               this.stationData.push({\r\n                  nodeName:'全部',\r\n                  nodeId:'quanbu',\r\n                  children:arr,\r\n               })\r\n              \r\n           }\r\n        })\r\n\r\n    },\r\n    selectChange(val, index){\r\n        let arr =val;\r\n        this.roleId='';\r\n        for(let i in arr){\r\n            this.roleId+=arr[i].roleId+',';\r\n        };\r\n        this.roleId=this.roleId.substring(0,this.roleId.length-1);\r\n    },\r\n    paginationSizeChange(v) {\r\n      this.pageSize = v;\r\n      this.getList();\r\n    },\r\n    paginationChange(v) {\r\n      this.currentPage = v;\r\n      this.getList();\r\n    },\r\n    //角色新增弹框\r\n    addRole() {\r\n      this.isEditor = false;\r\n      this.visiDialog = true;\r\n      \r\n    },\r\n    //角色新增提交\r\n    submit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (this.isEditor) {\r\n            let formData = new FormData();\r\n            formData.append(\"roleName\", this.formData.roleName);\r\n            formData.append(\"seqNum\", this.formData.seqNum);\r\n            formData.append(\"description\", this.formData.description);\r\n            formData.append(\"roleId\", this.roleId);\r\n            this.$http.put(\"AuthorityManagement/roles\", formData).then(res => {\r\n              if (res.data.code == 0) {\r\n                this.resetForm(formName);\r\n                this.visiDialog = false;\r\n                this.getList();\r\n                this.$message({\r\n                  message: res.data.message,\r\n                  type: \"success\",\r\n                  duration: 1000\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            let formData = new FormData();\r\n            formData.append(\"roleName\", this.formData.roleName);\r\n            formData.append(\"seqNum\", this.formData.seqNum);\r\n            formData.append(\"description\", this.formData.description);\r\n\r\n            this.$http.post(\"AuthorityManagement/roles\", formData).then(res => {\r\n              if (res.data.code == 0) {\r\n                this.resetForm(formName);\r\n                this.visiDialog = false;\r\n                this.getList();\r\n                this.$message({\r\n                  message: res.data.message,\r\n                  type: \"success\",\r\n                  duration: 1000\r\n                });\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //角色修改\r\n    revise(row) {\r\n      this.isEditor = true;\r\n      this.visiDialog = true;\r\n      this.formData.roleName = row.roleName;\r\n      this.formData.seqNum = row.seqNum;\r\n      this.formData.description = row.description;\r\n      this.roleId = row.roleId;\r\n    },\r\n    //角色删除\r\n    delet(id){\r\n       this.globelDelet('/AuthorityManagement/roles/ids',id,this.getList);\r\n    },\r\n    //角色批量删除\r\n    allDelet(){\r\n      this.globelDelet('/AuthorityManagement/roles/ids',this.roleId,this.getList);\r\n    },\r\n    //角色列表获取\r\n    getList() {\r\n       this.loading=true;\r\n      this.$http\r\n        .get(\"AuthorityManagement/roles\", {\r\n          params: {\r\n            pageSize: this.pageSize,\r\n            pageNo: this.currentPage,\r\n            roleName:this.searchModel,\r\n          }\r\n        })\r\n        .then(res => {\r\n          this.tableData = res.data.content.dataList;\r\n          this.total = res.data.content.totalRecords;\r\n          this.loading=false;\r\n        });\r\n    },\r\n    //查询\r\n    search() {\r\n      this.getList()\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n       this.formData.description = '';\r\n      this.formData.roleId = '';\r\n    },\r\n    cancel(formName) {\r\n      this.resetForm(formName);\r\n      this.visiDialog = false;\r\n    },\r\n    closess(done) {\r\n      done();\r\n      this.resetForm(\"ruleForm\");\r\n    },\r\n    //获取菜单树\r\n    getMenuData(){\r\n       this.$http.get(\"AuthorityManagement/permissions/menus\").then(res => {\r\n        this.menuData = res.data.content.dataList;\r\n\r\n      });\r\n    },\r\n    //提交菜单树数据\r\n    submitMenu(){\r\n      \r\n       let menuArr = this.$refs.menuTree.getCheckedNodes(false,true);\r\n       let pId=[];\r\n       for(let i in menuArr){\r\n         pId.push(menuArr[i].id)\r\n       }\r\n       let formData = new FormData();\r\n       formData.append(\"roleId\", this.roleId);\r\n       formData.append(\"permissionIds\",pId.join(','));\r\n      \r\n       this.$http\r\n         .post(\"AuthorityManagement/roles/permissions/ids\", formData)\r\n         .then(res => {\r\n           if (res.data.code == 0) {\r\n              this.$message({\r\n                message:res.data.message,\r\n                type:'success',\r\n                duration:1500,\r\n              });\r\n               this.menuVisiDialog=false\r\n           }\r\n         });\r\n    },\r\n    //提交站点数据\r\n    submitStation(){\r\n       let stationArr = this.$refs.stationTree.getCheckedNodes(false,true);\r\n       let pId=[];\r\n       let nId=[];\r\n       console.log(stationArr)\r\n       for(let i in stationArr){\r\n         if(stationArr[i].nodeId != 'quanbu' && stationArr[i].stationId != null){\r\n             pId.push(stationArr[i].stationId)\r\n           //  nId.push(stationArr[i].nodeId)\r\n         }\r\n       }\r\n      \r\n       let formData = new FormData();\r\n       formData.append(\"roleId\", this.roleId);\r\n       formData.append(\"stationIds\",pId.join(','));\r\n       return false;\r\n       this.$http\r\n         .post(\"AuthorityManagement/roles/stations/ids\", formData)\r\n         .then(res => {\r\n           if (res.data.code == 0) {\r\n              this.$message({\r\n                message:res.data.message,\r\n                type:'success',\r\n                duration:1500,\r\n              });\r\n               this.stVisiDialog=false\r\n           }\r\n         });\r\n    },\r\n    //设置角色的权限菜单\r\n    setMenu(id){\r\n        this.roleId=id;\r\n        this.filterText='';\r\n        this.menuVisiDialog=true;\r\n        this.$http.get(\"AuthorityManagement/roles/rolePermissions\",{\r\n          params:{\r\n            roleId:this.roleId\r\n          }\r\n        }).then(res=>{\r\n              let arr = res.data.content.dataList;\r\n              this.defaultId=[];\r\n              this.$refs.menuTree.setCheckedNodes([])\r\n              for(let i in arr){\r\n                if(arr[i].permissionLevel == 2 || arr[i].permissionName == 'GIS一张图' || arr[i].permissionName == '知识库'){\r\n                    this.defaultId.push(arr[i].permissionId)\r\n                }\r\n              };\r\n        })\r\n    },\r\n    cancelmSub(){\r\n       this.menuVisiDialog=false;\r\n    },\r\n    cancelsSub(){\r\n      this.stVisiDialog=false;\r\n    },\r\n    //设置角色站点数据\r\n    setStation(id){\r\n        this.roleId=id;\r\n         this.stfilterText='';\r\n        this.stVisiDialog=true;\r\n        this.$http.get(\"AuthorityManagement/roles/roleStations\",{\r\n          params:{\r\n            roleId:this.roleId\r\n          }\r\n        }).then(res=>{\r\n              let arr = res.data.content.dataList;\r\n              this.stdefaultId=[];\r\n              this.$refs.stationTree.setCheckedNodes([])\r\n              for(let i in arr){\r\n                this.stdefaultId.push(arr[i].stationId)\r\n              };\r\n              console.log(this.stdefaultId)\r\n        })\r\n    },\r\n  },\r\n \r\n  computed: {\r\n    totalPageNumber() {\r\n      //计算总页数\r\n      let number = 0;\r\n      number = Math.ceil(this.total / this.pageSize);\r\n      return number;\r\n    }\r\n  },\r\n   watch: {\r\n      filterText(val) {\r\n        this.$refs.menuTree.filter(val);\r\n      },\r\n      stfilterText(val) {\r\n        this.$refs.stationTree.filter(val);\r\n      }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.dialogcontent {\r\n  padding: 5px;\r\n  padding-bottom: 25px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemManage/roleManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"trafficpage secondary-page-mode\"},[_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"关键字 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"220px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.searchModel),callback:function ($$v) {_vm.searchModel=$$v},expression:\"searchModel\"}})],1),_vm._v(\"  \\n         \"),_c('el-button',{on:{\"click\":_vm.search}},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.addRole}},[_c('i',{staticClass:\"iconfont icon-tianjia\"}),_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"delet\"},on:{\"click\":_vm.allDelet}},[_c('i',{staticClass:\"iconfont icon-shanchu\"}),_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"border\":\"\",\"data\":_vm.tableData,\"height\":\"calc(100% - 30px)\",\"element-loading-text\":\"加载中\",\"element-loading-spinner\":\"loading-type-a\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\"},on:{\"selection-change\":_vm.selectChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"width\":\"300\",\"label\":\"角色名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"资源配置\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.setMenu(scope.row.roleId)}}},[_vm._v(\"菜单配置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.setStation(scope.row.roleId)}}},[_vm._v(\"站点配置\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.revise(scope.row)}}},[_vm._v(\"修改\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.delet(scope.row.roleId)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"table-pagination-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"popper-class\":\"select-pagination-option\",\"background\":\"\",\"small\":true,\"page-sizes\":_vm.pageList,\"layout\":\"total, sizes, slot,->,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPageNumber)+\"页\")])]},proxy:true}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.visiDialog,\"width\":\"920px\",\"title\":_vm.vTitle,\"before-close\":_vm.closess},on:{\"update:visible\":function($event){_vm.visiDialog=$event}}},[_c('div',{staticClass:\"dialogcontent\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('table',{staticClass:\"whTable\"},[_c('tr',[_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',{staticClass:\"rCode\"},[_vm._v(\"用户名称\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.roleName),callback:function ($$v) {_vm.$set(_vm.formData, \"roleName\", $$v)},expression:\"formData.roleName\"}})],1)],1),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',[_vm._v(\"序号\")])]),_vm._v(\" \"),_c('td',[_c('el-form-item',{attrs:{\"prop\":\"seqNum\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\"},model:{value:(_vm.formData.seqNum),callback:function ($$v) {_vm.$set(_vm.formData, \"seqNum\", _vm._n($$v))},expression:\"formData.seqNum\"}})],1)],1)]),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"width\":\"16.5%\"}},[_c('span',[_vm._v(\"描述\")])]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"3\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入\",\"type\":\"textarea\"},model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})],1)])])])],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('ruleForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":function($event){return _vm.cancel('ruleForm')}}},[_vm._v(\"取消\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.menuVisiDialog,\"width\":\"450px\",\"title\":\"菜单配置\"},on:{\"update:visible\":function($event){_vm.menuVisiDialog=$event}}},[_c('div',{staticClass:\"dialogcontent tree_content\",staticStyle:{\"height\":\"300px\",\"padding\":\"0px\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"255px\",\"margin-bottom\":\"12px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入菜单名\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1),_vm._v(\" \"),_c('el-tree',{ref:\"menuTree\",class:_vm.menuData.length==1?'noBr':'',attrs:{\"data\":_vm.menuData,\"indent\":23,\"node-key\":\"id\",\"default-checked-keys\":_vm.defaultId,\"default-expand-all\":\"\",\"highlight-current\":\"\",\"show-checkbox\":\"\",\"filter-node-method\":_vm.filterNode,\"props\":_vm.defaultProps},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_c('i',{staticClass:\"iconCode\",class:data.level == '0'?'sf':data.level == '1'?'sf':data.level == '2'?'city':''}),_vm._v(\"\\n                          \"+_vm._s(node.label)+\"\\n                        \")])])}}])})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.submitMenu}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":_vm.cancelmSub}},[_vm._v(\"取消\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.stVisiDialog,\"width\":\"450px\",\"title\":\"站点配置\"},on:{\"update:visible\":function($event){_vm.stVisiDialog=$event}}},[_c('div',{staticClass:\"dialogcontent tree_content\",staticStyle:{\"height\":\"300px\",\"padding\":\"0px\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"255px\",\"margin-bottom\":\"12px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入站点名\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.stfilterText),callback:function ($$v) {_vm.stfilterText=$$v},expression:\"stfilterText\"}})],1),_vm._v(\" \"),_c('el-tree',{ref:\"stationTree\",class:_vm.stationData.length==1?'noBr':'',attrs:{\"data\":_vm.stationData,\"indent\":23,\"node-key\":\"nodeId\",\"default-checked-keys\":_vm.stdefaultId,\"default-expand-all\":\"\",\"highlight-current\":\"\",\"show-checkbox\":\"\",\"filter-node-method\":_vm.stfilterNode,\"props\":_vm.stdefaultProps},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_c('i',{staticClass:\"iconCode\",class:data.stationId == 'quanbu'?'sf':'station'}),_vm._v(\"\\n                        \"+_vm._s(node.label)+\"\\n                      \")])])}}])})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.submitStation}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"},on:{\"click\":_vm.cancelsSub}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d78aed8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemManage/roleManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d78aed8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./roleManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./roleManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d78aed8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./roleManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d78aed8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemManage/roleManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}