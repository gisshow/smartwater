{"version":3,"sources":["webpack:///src/views/qualityControl/intervenExami.vue","webpack:///./src/views/qualityControl/intervenExami.vue?641a","webpack:///./src/views/qualityControl/intervenExami.vue"],"names":["intervenExami","name","data","dateRange","value","optionData","label","currentPage","pageSize","pageList","total","stateRadio","tableData","chartList","stationName","stationId","computed","totalPageNumber","number","Math","ceil","this","stationInfo","get","$store","state","methods","toggleTable","item","toggle","toggleTab","val","_this","setTimeout","createdChart","search","getTableData","searchChartData","_this2","$http","params","startTime","endTime","indexCodes","join","stationCodes","ifCurrentSection","then","res","code","content","dataList","forEach","index","$set","setChartId","$echarts","init","document","querySelector","clear","i","length","chart","getElementById","option","xAxis","type","legend","bottom","yAxis","visualMap","top","right","pieces","gte","lower","lte","upper","color","gt","outOfRange","grid","left","series","symbol","symbolSize","lineStyle","normal","width","itemStyle","borderWidth","markLine","setOption","_this3","exportExcel","tableHead","$refs","title","headerProp","tableType","pattern","Object","tableExport","mounted","created","commit","Date","watch","nodeId","nodeName","qualityControl_intervenExami","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","start-placeholder","end-placeholder","value-format","model","callback","$$v","expression","multiple","collapse-tags","placeholder","_l","key","on","click","$event","_m","size","change","directives","rawName","height","ref","class","active","_s","automaticSamplingTime","artificiaSamplingTime","n","m","indexName","indexUnit","automaticSamplingValue","artificiaSamplingValue","error","technicalCequirement","qualification","_e","id","staticRenderFns","rowspan","colspan","display","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/74.b38e14ad05b06ec6a488.js","sourcesContent":["<template>\r\n  <div class=\"sampleComparison tapStyle secondary-page-mode\">\r\n    <div class=\"secondary-toolbar\">\r\n      <span>时间选择 : </span>\r\n      <div class=\"layoutBox\" style=\"width:110px\">\r\n        <el-date-picker v-model=\"dateRange\" type=\"month\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\" value-format=\"yyyy-MM\"></el-date-picker>\r\n      </div>&emsp;&emsp;\r\n      <span>监测项目 : </span>\r\n      <div class=\"layoutBox\" style=\"width:190px\">\r\n        <el-select v-model=\"value\" multiple collapse-tags placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in optionData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>&emsp;&emsp;\r\n      <el-button @click=\"search()\"><i class=\"iconfont icon-sousuo\"></i>查询</el-button>\r\n      <el-button @click=\"exportExcel()\" type='delet'><i class=\"iconfont icon-daochu\"></i>导出</el-button>\r\n    </div>\r\n    <div class=\"currency-mode-wrap scrollSpecial\">\r\n      <div class=\"reminder-wrap\">\r\n        <span class=\"reminder-title\">温馨提示</span>\r\n        <div class=\"reminder-content\">\r\n          <div class=\"reminder-text\">\r\n            <p>所选时间段内共有“多点线性核查移”x次，共有合格项m次，不合格项y次。影响数据n条。点位1、点位2的上次周核查时间距今已有7天；站点3的上次周核查距今已有6天。</p>\r\n            <div><el-button type=\"noticonsecondBtn\"> 生成任务 </el-button></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"reminder-toolbar\">\r\n          <div class=\"state-legend\">\r\n            <span><i class=\"qualified-icon\"></i> 合格</span>\r\n            <span><i class=\"unqualified-icon\"></i> 不合格</span>\r\n          </div>\r\n          <div class=\"state-radio-wrap\">\r\n            <el-radio-group v-model=\"stateRadio\" size=\"small\" @change = \"toggleTab\">\r\n              <el-radio-button label=\"1\">当前断面</el-radio-button>\r\n              <el-radio-button label=\"2\">图表</el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"currency-body-toggle\">\r\n        <div v-show=\"stateRadio === '1'\" style=\"height: 100%\">\r\n          <div class=\"table-head\">\r\n            <table ref=\"tableHead\">\r\n              <tr>\r\n                <th width=\"3%\" rowspan=\"2\">序号</th>\r\n                <th width=\"14%\" rowspan=\"2\">监测项目</th>\r\n                <th width=\"10%\" rowspan=\"2\">单位</th>\r\n                <th colspan=\"2\">仪器测试值</th>\r\n                <th width=\"16%\" rowspan=\"2\">误差率</th>\r\n                <th width=\"17%\" rowspan=\"2\">技术要求</th>\r\n                <th width=\"16%\" rowspan=\"2\">是否合格</th>\r\n                <th style=\"width: 0px; display: none;\"></th>\r\n              </tr>\r\n              <tr>\r\n                <td width=\"15%\">自动取样</td>\r\n                <td width=\"15%\">人工采样</td>\r\n                <th style=\"width: 0px; display: none;\"></th>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <el-scrollbar style=\"height: calc(100% - 62px)\">\r\n            <ul class=\"table-body\">\r\n              <li v-for=\"(item,index) in tableData\">\r\n                <div class=\"toggle-row\" :class=\"{active:item.toggle}\">\r\n                  <i class=\"toggle-icon\" @click=\"toggleTable(item)\" :class=\"{active:item.toggle}\"></i>\r\n                  <span>自动取样时间：{{ item.automaticSamplingTime }}</span>,&nbsp;\r\n                  <span>人工采样时间：{{ item.artificiaSamplingTime }}</span>\r\n                </div>\r\n                <el-collapse-transition>\r\n                  <div v-if=\"item.toggle\">\r\n                    <table>\r\n                      <tr v-for=\"(n,m) in item.list\">\r\n                        <td width=\"3%\">{{ (m+1) }}</td>\r\n                        <td width=\"14%\">{{ n.indexName }}</td>\r\n                        <td width=\"10%\">{{ n.indexUnit }}</td>\r\n                        <td width=\"15%\">{{ n.automaticSamplingValue }}</td>\r\n                        <td width=\"15%\">{{ n.artificiaSamplingValue }}</td>\r\n                        <td width=\"16%\">{{ n.error }}</td>\r\n                        <td width=\"17%\">{{ n.technicalCequirement }}</td>\r\n                        <td width=\"16%\">\r\n                          <b v-if=\"n.qualification === '合格'\">合格</b>\r\n                          <b v-if=\"n.qualification === '不合格'\" style=\"color: red\">不合格</b>\r\n                        </td>\r\n                      </tr>\r\n                    </table>\r\n                  </div>\r\n                </el-collapse-transition>\r\n              </li>\r\n            </ul>\r\n          </el-scrollbar>\r\n        </div>\r\n        <div class=\"chart-wrap\" v-show=\"stateRadio === '2'\" style=\"height: 100%;\">\r\n          <el-scrollbar style=\"height: 100%;\">\r\n            <div v-if=\"stateRadio === '2'\">\r\n              <div v-for=\"(item,index) in chartList\"\r\n                   :key=\"'k'+index\"\r\n                   :id=\"setChartId(index)\"\r\n                   class=\"zeroDriftChart\"\r\n                   style=\"height: 300px;\"></div>\r\n            </div>\r\n          </el-scrollbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {exportTableData} from '../../assets/js/tableExport'\r\n  export default {\r\n    name: \"intervenExami\",\r\n    data() {\r\n      return {\r\n        dateRange: \"\",\r\n        value:['w01019','w21003','w21011','w21001'],\r\n        optionData: [\r\n        {\r\n          value: \"w01019\",\r\n          label: \"高锰酸盐\"\r\n        },\r\n        {\r\n          value: \"w21003\",\r\n          label: \"氨氮\"\r\n        },\r\n        {\r\n          value: \"w21011\",\r\n          label: \"总磷\"\r\n        },\r\n        {\r\n          value: \"w21001\",\r\n          label: \"总氮\"\r\n        }],\r\n        currentPage:1,\r\n        pageSize:1,\r\n        pageList:[5,10,15],\r\n        total:1,\r\n        stateRadio:'1',\r\n        tableData:[],\r\n        chartList:[],\r\n        stationName:'',\r\n        stationId:'',\r\n      };\r\n    },\r\n    computed:{\r\n      totalPageNumber(){//计算总页数\r\n        let number = 0;\r\n        number = Math.ceil(this.total/this.pageSize);\r\n        return number === 0 ? 1 : number;\r\n      },\r\n      stationInfo: {\r\n        get: function() {\r\n          return this.$store.state.stationInfo;\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      toggleTable(item){\r\n        if(item.toggle){\r\n          item.toggle = false;\r\n        }else{\r\n          item.toggle = true;\r\n        }\r\n      },\r\n      toggleTab(val){\r\n        // console.log(val);\r\n        if (val === \"2\") {\r\n          setTimeout(() => {\r\n            this.createdChart();\r\n          }, 500);\r\n        }\r\n      },\r\n      search(){\r\n        this.getTableData();\r\n        this.searchChartData();\r\n      },\r\n      getTableData(){\r\n        this.$http.get(\"/Quality/testData/integratedInterventionData\", {\r\n            params: {\r\n              startTime: this.dateRange,\r\n              endTime: this.dateRange,\r\n              indexCodes: this.value.join(\",\"),\r\n              stationCodes: this.stationId, //this.stationId\r\n              ifCurrentSection: true,// true为当前断面,false为所有\r\n              // pageNumber: this.currentPage,\r\n              // pageSize: this.pageSize\r\n            }\r\n          }).then(res=>{\r\n            if(res.data.code === 0){\r\n              this.tableData = res.data.content.dataList;\r\n              this.tableData.forEach((item,index) =>{\r\n                this.$set(item,'toggle',false);\r\n              });\r\n            }\r\n          })\r\n      },\r\n      //设置图表id\r\n      setChartId(index) {\r\n        return \"zeroDrift\" + index;\r\n      },\r\n      //创建图表\r\n      createdChart(){\r\n        let myCharts = this.$echarts.init(document.querySelector('.zeroDriftChart'));\r\n        myCharts.clear();\r\n        for (let i=0;i < this.chartList.length;i++){\r\n          let chart = this.$echarts.init(document.getElementById('zeroDrift'+i));\r\n          let option = {\r\n            // title:{\r\n            //   text:\"24小时\"+ this.chartList[i].name +\"跨度漂移历史数据\",\r\n            //   x:'center',\r\n            //   y:20\r\n            // },\r\n            xAxis: {\r\n              type: 'category',\r\n              name:'时间',\r\n              data: this.chartList[i].xAxis\r\n            },\r\n            legend: {\r\n              data:[this.chartList[i].name],\r\n              bottom:0\r\n            },\r\n            yAxis: {\r\n              type: 'value',\r\n              name:\"相对误差(%)\",\r\n            },\r\n            visualMap: {\r\n              top: 10,\r\n              right: -100,\r\n              pieces: [{\r\n                gte: this.chartList[i].lower,\r\n                lte: this.chartList[i].upper,\r\n                color: '#009966',\r\n                label:'合格',\r\n              },{\r\n                gt: this.chartList[i].upper,\r\n                color: '#d68787',\r\n                label:'不合格',\r\n              }],\r\n              outOfRange: {\r\n                color: '#d68787'\r\n              }\r\n            },\r\n            grid:{\r\n              top: 50,\r\n              left: 80,\r\n              bottom: 50,\r\n              right: 70\r\n            },\r\n            series: [{\r\n              data: this.chartList[i].yAxis,\r\n              name: this.chartList[i].name,\r\n              type: 'line',\r\n              symbol: 'triangle',\r\n              symbolSize: 20,\r\n              lineStyle: {\r\n                normal: {\r\n                  color: '#008000',\r\n                  width: 4,\r\n                  type: 'dashed'\r\n                }\r\n              },\r\n              itemStyle: {\r\n                normal: {\r\n                  borderWidth: 3,\r\n                  color:'#0ec15a'\r\n                }\r\n              },\r\n              markLine: {\r\n                lineStyle:{\r\n                  color:'red',\r\n                  type:'solid'\r\n                },\r\n                data: [\r\n                  {yAxis: this.chartList[i].upper, name: '最大误差'},\r\n                  {yAxis: this.chartList[i].lower, name: '最小误差'}\r\n                ]\r\n              },\r\n            }]\r\n          };\r\n          chart.setOption(option);\r\n        }\r\n      },\r\n      //查询图表数据\r\n      searchChartData(){\r\n        this.$http.get(\"/Quality/testData/integratedInterventionChartData\", {\r\n          params: {\r\n            startTime: this.dateRange,\r\n            endTime: this.dateRange,\r\n            indexCodes: this.value.join(\",\"),\r\n            stationCodes: this.stationId //this.stationId\r\n          }\r\n        }).then(res=>{\r\n          if(res.data.code === 0){\r\n            this.chartList = res.data.content.dataList;\r\n          }\r\n        })\r\n      },\r\n      //导出表格\r\n      exportExcel(){\r\n        let {tableHead} = this.$refs;\r\n        let title = this.stationName + '集成干预检查';\r\n        let params = {\r\n          headerProp:'indexName,indexUnit,automaticSamplingValue,artificiaSamplingValue,error,technicalCequirement,qualification',\r\n          startTime: this.dateRange,\r\n          endTime: this.dateRange,\r\n          indexCodes: this.value.join(\",\"),\r\n          stationCodes:this.stationId,\r\n          tableType:'INTEGRATED_INTERVENTION_DATA',\r\n          ifCurrentSection: true,\r\n          pattern:'yyyy-MM-dd HH:mm:ss'\r\n        };\r\n        exportTableData(tableHead,title,'','1',\"/Quality/exports/qualityControlExcel\",params);\r\n      },\r\n    },\r\n    mounted(){\r\n\r\n    },\r\n    created() {\r\n      this.$store.commit(\"setShowlefttree\", true);\r\n      this.dateRange = new Date();\r\n    },\r\n    watch:{\r\n      stationInfo(value) {\r\n        if (value.length > 0) {\r\n          this.stationId = value[0].nodeId;\r\n          this.stationName = value[0].nodeName;\r\n          this.getTableData();\r\n          this.searchChartData();\r\n        }\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scope lang=\"less\">\r\n  .sampleComparison {\r\n    .tablebox{\r\n      height: 100%;\r\n    }\r\n    .table-head,.table-body{\r\n      table{\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        td,th{\r\n          border: 1px solid #d6e3f2;\r\n          padding: 0 3px;\r\n          height: 30px;\r\n          text-align: center;\r\n        }\r\n        th{\r\n          font-weight: 100;\r\n        }\r\n      }\r\n      .toggle-row{\r\n        height: 30px;\r\n        line-height: 30px;\r\n        padding-left: 6px;\r\n        border-left: 1px solid #d6e3f2;\r\n        border-right: 1px solid #d6e3f2;\r\n        border-bottom: 1px solid #d6e3f2;\r\n        &.active{\r\n          /*border-bottom: none;*/\r\n        }\r\n      }\r\n    }\r\n    .table-body{\r\n      table{\r\n        margin-top:-1px;\r\n      }\r\n    }\r\n    .toggle-icon{\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      margin-bottom: 3px;\r\n      width: 13px;\r\n      height: 13px;\r\n      background: url(\"../../assets/images/retract-toggle.png\") no-repeat;\r\n      cursor: pointer;\r\n      &.active{\r\n        background: url(\"../../assets/images/open-toggle.png\") no-repeat;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/qualityControl/intervenExami.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sampleComparison tapStyle secondary-page-mode\"},[_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"时间选择 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"110px\"}},[_c('el-date-picker',{attrs:{\"type\":\"month\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM\"},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_vm._v(\"  \\n    \"),_c('span',[_vm._v(\"监测项目 : \")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"190px\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.optionData),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\"  \\n    \"),_c('el-button',{on:{\"click\":function($event){return _vm.search()}}},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"delet\"},on:{\"click\":function($event){return _vm.exportExcel()}}},[_c('i',{staticClass:\"iconfont icon-daochu\"}),_vm._v(\"导出\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap scrollSpecial\"},[_c('div',{staticClass:\"reminder-wrap\"},[_c('span',{staticClass:\"reminder-title\"},[_vm._v(\"温馨提示\")]),_vm._v(\" \"),_c('div',{staticClass:\"reminder-content\"},[_c('div',{staticClass:\"reminder-text\"},[_c('p',[_vm._v(\"所选时间段内共有“多点线性核查移”x次，共有合格项m次，不合格项y次。影响数据n条。点位1、点位2的上次周核查时间距今已有7天；站点3的上次周核查距今已有6天。\")]),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"noticonsecondBtn\"}},[_vm._v(\" 生成任务 \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"reminder-toolbar\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"state-radio-wrap\"},[_c('el-radio-group',{attrs:{\"size\":\"small\"},on:{\"change\":_vm.toggleTab},model:{value:(_vm.stateRadio),callback:function ($$v) {_vm.stateRadio=$$v},expression:\"stateRadio\"}},[_c('el-radio-button',{attrs:{\"label\":\"1\"}},[_vm._v(\"当前断面\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"2\"}},[_vm._v(\"图表\")])],1)],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"currency-body-toggle\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stateRadio === '1'),expression:\"stateRadio === '1'\"}],staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"table-head\"},[_c('table',{ref:\"tableHead\"},[_vm._m(1),_vm._v(\" \"),_vm._m(2)])]),_vm._v(\" \"),_c('el-scrollbar',{staticStyle:{\"height\":\"calc(100% - 62px)\"}},[_c('ul',{staticClass:\"table-body\"},_vm._l((_vm.tableData),function(item,index){return _c('li',[_c('div',{staticClass:\"toggle-row\",class:{active:item.toggle}},[_c('i',{staticClass:\"toggle-icon\",class:{active:item.toggle},on:{\"click\":function($event){return _vm.toggleTable(item)}}}),_vm._v(\" \"),_c('span',[_vm._v(\"自动取样时间：\"+_vm._s(item.automaticSamplingTime))]),_vm._v(\", \\n                \"),_c('span',[_vm._v(\"人工采样时间：\"+_vm._s(item.artificiaSamplingTime))])]),_vm._v(\" \"),_c('el-collapse-transition',[(item.toggle)?_c('div',[_c('table',_vm._l((item.list),function(n,m){return _c('tr',[_c('td',{attrs:{\"width\":\"3%\"}},[_vm._v(_vm._s((m+1)))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"14%\"}},[_vm._v(_vm._s(n.indexName))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"10%\"}},[_vm._v(_vm._s(n.indexUnit))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"15%\"}},[_vm._v(_vm._s(n.automaticSamplingValue))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"15%\"}},[_vm._v(_vm._s(n.artificiaSamplingValue))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16%\"}},[_vm._v(_vm._s(n.error))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"17%\"}},[_vm._v(_vm._s(n.technicalCequirement))]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"16%\"}},[(n.qualification === '合格')?_c('b',[_vm._v(\"合格\")]):_vm._e(),_vm._v(\" \"),(n.qualification === '不合格')?_c('b',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"不合格\")]):_vm._e()])])}),0)]):_vm._e()])],1)}),0)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.stateRadio === '2'),expression:\"stateRadio === '2'\"}],staticClass:\"chart-wrap\",staticStyle:{\"height\":\"100%\"}},[_c('el-scrollbar',{staticStyle:{\"height\":\"100%\"}},[(_vm.stateRadio === '2')?_c('div',_vm._l((_vm.chartList),function(item,index){return _c('div',{key:'k'+index,staticClass:\"zeroDriftChart\",staticStyle:{\"height\":\"300px\"},attrs:{\"id\":_vm.setChartId(index)}})}),0):_vm._e()])],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"state-legend\"},[_c('span',[_c('i',{staticClass:\"qualified-icon\"}),_vm._v(\" 合格\")]),_vm._v(\" \"),_c('span',[_c('i',{staticClass:\"unqualified-icon\"}),_vm._v(\" 不合格\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"width\":\"3%\",\"rowspan\":\"2\"}},[_vm._v(\"序号\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"14%\",\"rowspan\":\"2\"}},[_vm._v(\"监测项目\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"10%\",\"rowspan\":\"2\"}},[_vm._v(\"单位\")]),_vm._v(\" \"),_c('th',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"仪器测试值\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"16%\",\"rowspan\":\"2\"}},[_vm._v(\"误差率\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"17%\",\"rowspan\":\"2\"}},[_vm._v(\"技术要求\")]),_vm._v(\" \"),_c('th',{attrs:{\"width\":\"16%\",\"rowspan\":\"2\"}},[_vm._v(\"是否合格\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"0px\",\"display\":\"none\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"width\":\"15%\"}},[_vm._v(\"自动取样\")]),_vm._v(\" \"),_c('td',{attrs:{\"width\":\"15%\"}},[_vm._v(\"人工采样\")]),_vm._v(\" \"),_c('th',{staticStyle:{\"width\":\"0px\",\"display\":\"none\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e7c04fc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/qualityControl/intervenExami.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e7c04fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./intervenExami.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./intervenExami.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./intervenExami.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e7c04fc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./intervenExami.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/qualityControl/intervenExami.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}