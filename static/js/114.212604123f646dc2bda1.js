webpackJsonp([114],{"8tGx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"",data:function(){return{processData:[],pIndex:0,visiDialog:!1,pId:"",pObj:{name:"",key:"",category:"",description:""},rules:{name:[{required:!0,message:"请输入流程名称",trigger:"blur"}],key:[{required:!0,message:"请输入流程Key",trigger:"blur"}]}}},created:function(){this.getProcess()},methods:{closess:function(t){t()},pClick:function(t,e){this.pIndex=e,this.pId=t.id},getProcess:function(){var t=this;this.$http.post("/DataAudit/deploy/list").then(function(e){0==e.data.code&&(t.processData=e.data.content.dataList,t.pId=e.data.content.dataList[0].id)})},sureBtn:function(t){var e=this;this.$refs[t].validate(function(s){if(!s)return!1;var a=e.pObj;e.$http.get("/DataAudit/deploy/create",{params:a}).then(function(s){0==s.data.code&&(e.$message({message:s.data.message,type:"success",duration:1500}),e.visiDialog=!1,e.resetForm(t),e.getProcess())})})},cancelBtn:function(t){this.visiDialog=!1,this.resetForm(t)},ceratedProcess:function(){this.visiDialog=!0},deletProcess:function(){var t=this;this.$confirm("是否将选中的流程删除？","消息提示",{type:"warning",center:!0,cancelButtonClass:"noticonsecondBtn",confirmButtonClass:"",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){t.$http.get("/DataAudit/deploy/delete/"+t.pId).then(function(e){0==e.data.code&&(t.$message({message:e.data.message,type:"success",duration:1500}),t.pIndex=t.pIndex--,t.getProcess())})}).catch(function(){})},editorProcess:function(){window.open("/DataAudit/modeler.html?modelId="+this.pId)},deployProcess:function(){this.$message({message:"部署待完善!",type:"success",duration:1500})},resetForm:function(t){this.$refs[t].resetFields()}},watch:{}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"processPage clearfix "},[s("div",{staticClass:"leftbox tree_content"},[s("ul",t._l(t.processData,function(e,a){return s("li",{key:a,class:t.pIndex==a?"on":"",on:{click:function(s){return t.pClick(e,a)}}},[t._v(t._s(e.name))])}),0)]),t._v(" "),s("div",{staticClass:"rightbox secondary-page-mode"},[s("div",{staticClass:"secondary-toolbar clearfix"},[s("div",{staticClass:"btn_grop"},[s("el-button",{on:{click:t.deletProcess}},[t._v("删除流程")]),t._v(" "),s("el-button",{on:{click:t.editorProcess}},[t._v("编辑流程")]),t._v(" "),s("el-button",{on:{click:t.ceratedProcess}},[t._v("新建流程")]),t._v(" "),s("el-button",{on:{click:t.deployProcess}},[t._v("部署流程")])],1)]),t._v(" "),s("div",{staticClass:"currency-mode-wrap"},[s("yf-datastatus",{attrs:{dataStatus:"no"}})],1)]),t._v(" "),s("el-dialog",{attrs:{visible:t.visiDialog,width:"660px",title:"流程新增","before-close":t.closess},on:{"update:visible":function(e){t.visiDialog=e}}},[s("div",{staticClass:"dialogcontent"},[s("div",{staticClass:"dialog-layout"},[s("el-form",{ref:"proForm",attrs:{model:t.pObj,rules:t.rules}},[s("ul",{staticClass:"formul"},[s("li",[s("div",[s("span",{staticClass:"layoutspan"},[t._v("流程名称 :  ")]),t._v(" \n                              "),s("div",{staticClass:"layoutBox input_code",staticStyle:{width:"180px"}},[s("el-form-item",{attrs:{prop:"name"}},[s("el-input",{model:{value:t.pObj.name,callback:function(e){t.$set(t.pObj,"name",e)},expression:"pObj.name"}})],1)],1)]),t._v(" "),s("div",[s("span",{staticClass:"layoutspan ",staticStyle:{width:"127px"}},[t._v("流程key :  ")]),t._v(" \n                              "),s("div",{staticClass:"layoutBox input_code",staticStyle:{width:"180px"}},[s("el-form-item",{attrs:{prop:"key"}},[s("el-input",{model:{value:t.pObj.key,callback:function(e){t.$set(t.pObj,"key",e)},expression:"pObj.key"}})],1)],1)])]),t._v(" "),s("li",[s("div",[s("span",{staticClass:"layoutspan"},[t._v("流程分类 :  ")]),t._v(" \n                              "),s("div",{staticClass:"layoutBox",staticStyle:{width:"180px"}},[s("el-input",{model:{value:t.pObj.category,callback:function(e){t.$set(t.pObj,"category",e)},expression:"pObj.category"}})],1)])]),t._v(" "),s("li",[s("div",{staticStyle:{width:"100%"}},[s("span",{staticClass:"layoutspan"},[t._v("流程描述 :  ")]),t._v(" \n                              "),s("div",{staticClass:"layoutBox",staticStyle:{width:"510px"}},[s("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.pObj.description,callback:function(e){t.$set(t.pObj,"description",e)},expression:"pObj.description"}})],1)])])])])],1)]),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"noticon"},on:{click:function(e){return t.sureBtn("proForm")}}},[t._v("确 定")]),t._v(" "),s("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:function(e){return t.cancelBtn("proForm")}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(t){s("jUCr")},"data-v-0f05f511",null);e.default=o.exports},jUCr:function(t,e){}});
//# sourceMappingURL=114.212604123f646dc2bda1.js.map