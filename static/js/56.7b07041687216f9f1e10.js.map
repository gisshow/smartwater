{"version":3,"sources":["webpack:///src/views/colligateApplication/waterQualityEvaluationD.vue","webpack:///./src/views/colligateApplication/waterQualityEvaluationD.vue?ca30","webpack:///./src/views/colligateApplication/waterQualityEvaluationD.vue"],"names":["pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","dataTypeList","name","type","waterQualityEvaluationD","props","watch","nodes","this","searchData","data","trendLoading","trendNoDataState","detailsLoading","detailsNoDataState","dataValue","dataType","custom","tableData","currentPage","total","pageSize","pageList","myChart","detailsTrend","evaluation","targetQualityLevel","timerange","headtitle","analydetal","computed","totalPageNumber","Math","ceil","methods","toWQLString","wql","dataTypeToggle","index","item","date","datearr","push","startdt","formatDate","date1","date2","initTime","checksiteinit","stationDetail","waterConcentrationChart","detailsTrendChart","frountpage","list","length","rtn","len","i","self","timer","setInterval","id","evaluate","label","clearInterval","_this2","startTime","endTime","paramsp","queryType","statisType","equipdIds","$http","get","params","then","response","dataJson","code","content","dataList","waterQualityLevel","primaryPollutant","catch","error","_this3","paginationChange","val","paginationSizeChange","_this4","$echarts","init","document","getElementById","info","xAxis","serisone","yAxis","serissec","option","color","title","textStyle","fontSize","subtext","subtextStyle","x","y","tooltip","trigger","axisPointer","grid","top","left","right","bottom","containLabel","legend","visualMap","pieces","value","outOfRange","axisTick","show","axisLine","lineStyle","axisLabel","splitLine","splitNumber","max","formatter","param","yText","series","barWidth","symbolSize","itemStyle","borderColor","setOption","_this5","legengarr","serobj","obj","boundaryGap","nameLocation","nameTextStyle","nameGap","mounted","_this","window","addEventListener","resize","colligateApplication_waterQualityEvaluationD","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_l","key","class","active","attrs","size","plain","on","click","$event","align","unlink-panels","range-separator","start-placeholder","end-placeholder","clearable","format","prefix-icon","disabled","picker-options","model","callback","$$v","expression","_m","colspan","staticStyle","width","border","prop","scopedSlots","_u","fn","scope","row","current-page","page-size","background","small","popper-class","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/56.7b07041687216f9f1e10.js","sourcesContent":["<template>\r\n  <!-- 站点水质分析 -->\r\n  <div class=\"water-quality-evaluation-page\">\r\n    <div class=\"secondary-scroll-content\">\r\n      <h4 class=\"statistical-analysis-title\"> {{headtitle}} </h4>\r\n      <!-- 工具栏部分 -->\r\n      <div class=\"secondary-toolbar\">\r\n        <span>时间段：</span>\r\n        <el-button-group>\r\n          <el-button\r\n            :class=\"{active:dataType === index}\"\r\n            size=\"small\" type=\"primary\" plain\r\n            :key = \"index\"\r\n            v-for=\"item,index in dataTypeList\"\r\n            @click=\"dataTypeToggle(index,item)\"\r\n          >{{ item.name }}</el-button>\r\n        </el-button-group>\r\n        <el-date-picker\r\n          v-model = \"dataValue\"\r\n          type = \"daterange\"\r\n          align = \"right\"\r\n          unlink-panels\r\n          range-separator = \"~\"\r\n          start-placeholder = \"开始日期\"\r\n          end-placeholder = \"结束日期\"\r\n          :clearable = 'false'\r\n          format = 'yyyy-MM-dd HH:mm'\r\n          prefix-icon = 'el-icon-date'\r\n          :disabled = \"custom\"\r\n          :picker-options=\"pickerOptions\">\r\n        </el-date-picker>&emsp;\r\n        <button type=\"button\" class=\"default-btn\" @click=\"searchData\">\r\n          <i class=\"iconfont icon-shijiantai\"></i> 评价\r\n        </button>\r\n        <!-- <button type=\"button\" class=\"default-btn\">\r\n          <i class=\"iconfont icon-daochu\"></i> 导出\r\n        </button>\r\n        <button type=\"button\" class=\"default-btn\">\r\n          <i class=\"iconfont icon-dayin\"></i> 打印\r\n        </button> -->\r\n      </div>\r\n\r\n      <!-- 数据详情模块 -->\r\n      <div class=\"currency-mode-wrap\">\r\n        <h4 class=\"currency-mode-title\">\r\n          <i class=\"mode-title-icon\"></i> 水质评价\r\n          <span class=\"mode-title-line\"></span>\r\n        </h4>\r\n        <div class=\"secondary-mode-content\">\r\n          <div class=\"normal-table-wrap\">\r\n            <table class=\"normal-table\">\r\n              <tr>\r\n                <th>水质现状</th>\r\n                <td><i class=\"sl-icon gradeC\"></i> {{evaluation}}</td>\r\n                <th>水质目标</th>\r\n                <td><i class=\"sl-icon gradeB\"></i> {{targetQualityLevel}}</td>\r\n                <th>联网现状</th>\r\n                <td><i class=\"sl-icon gradeB\"></i> 正常</td>\r\n              </tr>\r\n              <tr>\r\n                <th>计算方法</th>\r\n                <td>比例法</td>\r\n                <th>数据时间</th>\r\n                <td colspan=\"3\">{{timerange}}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <div class=\"statistical-analysis-text\">\r\n            <p>{{analydetal}}</p>\r\n          </div>\r\n          <h4 class=\"secondary-mode-title\">\r\n            <i class=\"sl-icon block-icon\"></i>\r\n            <span>奉贤区断面水质详情</span>\r\n          </h4>\r\n          <div class=\"water-quality-row\">\r\n            <div class=\"water-quality-table-wrap\">\r\n              <el-table\r\n                :data=\"tableData\"\r\n                border\r\n                style=\"width: 100%\">\r\n                <el-table-column\r\n                  type = \"index\"\r\n                  label=\"序号\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"time\"\r\n                  label=\"数据时间\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"name\"\r\n                  label=\"监测因子\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"value\"\r\n                  label=\"浓度值\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"waterQualityLevel\"\r\n                  label=\"水质等级\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span>\r\n                      {{toWQLString(scope.row.waterQualityLevel)}}\r\n                    </span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"downfivestandar\"\r\n                  label=\"V类水标准\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                  prop=\"unit\"\r\n                  label=\"单位\">\r\n                </el-table-column>\r\n              </el-table>\r\n            </div>\r\n            <!-- 分页 -->\r\n            <div class=\"table-pagination-wrap\">\r\n              <el-pagination\r\n                @size-change=\"paginationSizeChange\"\r\n                @current-change=\"paginationChange\"\r\n                :current-page.sync=\"currentPage\"\r\n                :page-size=\"pageSize\"\r\n                background\r\n                :small = \"true\"\r\n                popper-class = \"select-common-option\"\r\n                :page-sizes = \"pageList\"\r\n                layout=\"total, sizes, slot ,->,prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n                <span class=\"el-pagination__current\">当前第{{ currentPage }}/{{totalPageNumber}}页</span>\r\n              </el-pagination>\r\n            </div>\r\n          </div>\r\n          <h4 class=\"secondary-mode-title\">\r\n            <i class=\"sl-icon block-icon\"></i>\r\n            <span>{{headtitle}}各因子水质详情</span>\r\n          </h4>\r\n          <div class=\"water-chart-wrap\">\r\n            <div v-if=\"trendLoading\" class=\"loading-wrap\"></div>\r\n            <div v-if=\"trendNoDataState\" class=\"no-data-wrap small no-data-chart\">\r\n              <p>暂无数据</p>\r\n            </div>\r\n            <ul class=\"color-line-list\">\r\n              <li class=\"grade1\"></li>\r\n              <li class=\"grade2\"></li>\r\n              <li class=\"grade3\"></li>\r\n              <li class=\"grade4\"></li>\r\n              <li class=\"grade5\"></li>\r\n              <li class=\"grade6\"></li>\r\n            </ul>\r\n            <div id=\"trend-change-chart\"></div>\r\n          </div>\r\n          <h4 class=\"secondary-mode-title\">\r\n            <i class=\"sl-icon block-icon\"></i>\r\n            <span>{{headtitle}}各因子趋势详情</span>\r\n          </h4>\r\n          <div class=\"water-chart-wrap\">\r\n            <div v-if=\"detailsLoading\" class=\"loading-wrap\"></div>\r\n            <div v-if=\"detailsNoDataState\" class=\"no-data-wrap small no-data-chart\">\r\n              <p>暂无数据</p>\r\n            </div>\r\n            <div id=\"details-trend-chart\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  //import {formatDate} from '../../dateformat.js'\r\n  let pickerOptions = {\r\n    shortcuts: [{\r\n      text: '最近一周',\r\n      onClick(picker) {\r\n        const end = new Date();\r\n        const start = new Date();\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n        picker.$emit('pick', [start, end]);\r\n      }\r\n    }, {\r\n      text: '最近一个月',\r\n      onClick(picker) {\r\n        const end = new Date();\r\n        const start = new Date();\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n        picker.$emit('pick', [start, end]);\r\n      }\r\n    }, {\r\n      text: '最近三个月',\r\n      onClick(picker) {\r\n        const end = new Date();\r\n        const start = new Date();\r\n        start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n        picker.$emit('pick', [start, end]);\r\n      }\r\n    }]\r\n  };\r\n  let dataTypeList=[{\r\n    name:'实时',\r\n    type:'minute'\r\n  },{\r\n    name:'日评价',\r\n    type:'day'\r\n  },{\r\n    name:'周评价',\r\n    type:'week'\r\n  },{\r\n    name:'月评价',\r\n    type:'month'\r\n  },{\r\n    name:'季评价',\r\n    type:'season'\r\n  },{\r\n    name:'年评价',\r\n    type:'year'\r\n  },{\r\n    name:'自定义',\r\n    type:'custom'\r\n  }];\r\n  export default {\r\n    name: \"waterQualityEvaluationD\",\r\n    props:['nodes'],\r\n    watch:{\r\n      nodes(){\r\n        this.searchData();\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        trendLoading: true,\r\n        trendNoDataState: false,\r\n        detailsLoading: true,\r\n        detailsNoDataState: false,\r\n        dataValue:'',\r\n        pickerOptions,\r\n        dataType:0,\r\n        dataTypeList,\r\n        custom: true,\r\n        tableData:[],\r\n        currentPage:1,//分页组件当前页\r\n        total: 62,//分页总条数\r\n        pageSize: 10,//分页每页多少条数据\r\n        pageList:[10,15,20],//设置每页多少条\r\n        myChart:'',\r\n        detailsTrend:'',\r\n        evaluation:'',\r\n        targetQualityLevel:'',\r\n        timerange:'',\r\n        headtitle:'',\r\n        analydetal:''\r\n      }\r\n    },\r\n    computed:{\r\n      totalPageNumber(){//计算总页数\r\n        let number = 0;\r\n        number = Math.ceil(this.total/this.pageSize);\r\n        return number;\r\n      }\r\n    },\r\n    methods:{\r\n      toWQLString(wql){\r\n        if(wql=='1'){\r\n          return 'Ⅰ类';\r\n        }else if(wql=='2'){\r\n          return 'Ⅱ类';\r\n        }else if(wql=='3'){\r\n          return \"Ⅲ类\"\r\n        }else if(wql=='4'){\r\n          return \"Ⅳ类\";\r\n        }else if(wql=='5'){\r\n          return \"Ⅴ类\";\r\n        }else if(wql=='6'){\r\n          return \"劣Ⅴ类\";\r\n        }else {\r\n          return '';\r\n        }\r\n      },\r\n      dataTypeToggle(index,item){\r\n        this.dataType = index;\r\n        if (item.type === 'custom'){\r\n          this.custom = false;\r\n        }else{\r\n          this.custom = true;\r\n          this.dataValue = '';\r\n        }\r\n        var type=this.dataTypeList[index].type;\r\n        var date=new Date();\r\n        var datearr=[];\r\n        if(type=='minute'){\r\n          datearr.push(date,date);\r\n        }else if(type=='day'){\r\n          var startdt=new Date(formatDate(date,'yyyy-MM-dd 00:00:00'));\r\n          datearr.push(new Date(startdt.getTime()-86400*1000),date);\r\n        }else if(type=='week'){\r\n          var startdt=new Date(formatDate(date,'yyyy-MM-dd 00:00:00'));\r\n          datearr.push(new Date(startdt.getTime()-86400*1000*7),date);\r\n        }else if(type=='month'){\r\n          var startdt=new Date(formatDate(date,'yyyy-MM-01 00:00:00'));\r\n          datearr.push(new Date(startdt.getTime()),date);\r\n        }else if(type=='season'){\r\n          var startdt=new Date(formatDate(date,'yyyy-MM-01 00:00:00'));\r\n          var date1=new Date(formatDate(new Date(startdt.getTime()-86400*1000),'yyyy-MM-01 00:00:00'));\r\n          var date2=new Date(formatDate(new Date(date1.getTime()-86400*1000),'yyyy-MM-01 00:00:00'));\r\n          datearr.push(new Date(date2.getTime()),date);\r\n        }else if(type=='year'){\r\n          var startdt=new Date(formatDate(date,'yyyy-01-01 00:00:00'));\r\n          datearr.push(new Date(startdt.getTime()),date);\r\n        }\r\n        this.dataValue=datearr;\r\n      },\r\n      initTime(){\r\n        var date=new Date();\r\n        var datearr=[];\r\n        datearr.push(date,date);\r\n        this.dataValue=datearr;\r\n      },\r\n      searchData(){  //评价查询\r\n        this.$emit('update:loading',true);\r\n        this.checksiteinit();\r\n        this.stationDetail();\r\n        this.waterConcentrationChart();\r\n        this.detailsTrendChart();\r\n      },\r\n      frountpage(list){  //前端分页方法\r\n        this.total=list.length;\r\n        var start=(this.currentPage-1)*this.pageSize;\r\n        var end=this.pageSize*this.currentPage;\r\n        var rtn=[];\r\n        var len=end;\r\n        if(end>list.length){\r\n          len=list.length;\r\n        }\r\n        for(var i=start;i<len;i++){\r\n          rtn.push(list[i]);\r\n        }\r\n        this.tableData=rtn;\r\n      },\r\n      checksiteinit(){  //检查引入组件已初始化并加载初始化数据\r\n        var self=this;\r\n        var timer=setInterval(function(){\r\n          if(self.nodes.id){\r\n            self.evaluate();\r\n            self.headtitle=self.nodes.label+'水质评价';\r\n            clearInterval(timer);\r\n          }\r\n        },100);\r\n      },\r\n      evaluate(){  //区域整体评价\r\n        var type=this.dataTypeList[this.dataType].type;\r\n        var startTime=formatDate(this.dataValue[0],'yyyy-MM-dd hh:mm:ss');\r\n        var endTime=formatDate(this.dataValue[1],'yyyy-MM-dd hh:mm:ss');\r\n        var paramsp={\r\n          queryType:'station',\r\n          statisType:type,\r\n          startTime:startTime,\r\n          endTime:endTime,\r\n          equipdIds:this.nodes.id\r\n        }\r\n        this.$http.get('/waterenvapi/station/realStatisInfo',{\r\n          params:paramsp\r\n        }).then((response)=>{\r\n          let dataJson = response.data;\r\n\r\n          if(dataJson.code === 200){\r\n            var list=dataJson.content.dataList;\r\n            if(list.length>0){\r\n              this.evaluation=list[0].evaluation;\r\n              this.targetQualityLevel=this.toWQLString(list[0].targetQualityLevel);\r\n              var arr=this.dataValue;\r\n              if(arr.length==2){\r\n                this.timerange=startTime+'至'+endTime\r\n              }\r\n              this.analydetal='水质概述：'+this.timerange+'，'+this.nodes.label+'水质等级为'+list[0].waterQualityLevel+'，主要污染物为'+list[0].primaryPollutant\r\n            }\r\n          }\r\n        }).catch((error)=>{\r\n\r\n        });\r\n      },\r\n      stationDetail(){\r\n        var type=this.dataTypeList[this.dataType].type;\r\n        var startTime=formatDate(this.dataValue[0],'yyyy-MM-dd hh:mm:ss');\r\n        var endTime=formatDate(this.dataValue[1],'yyyy-MM-dd hh:mm:ss');\r\n        var paramsp={\r\n          queryType:'station',\r\n          statisType:type,\r\n          startTime:startTime,\r\n          endTime:endTime,\r\n          equipdIds:this.nodes.id\r\n        }\r\n        this.$http.get('/waterenvapi/station/projectStatisInfo',{\r\n          params:paramsp\r\n        }).then((response)=>{\r\n          let dataJson = response.data;\r\n          if(dataJson.code === 200){\r\n            var list=dataJson.content.dataList;\r\n            this.frountpage(list);\r\n          }\r\n        }).catch((error)=>{\r\n\r\n        });\r\n      },\r\n      paginationChange(val){//分页页码改变时执行\r\n        this.currentPage = val;\r\n      },\r\n      paginationSizeChange(val){//分页pageSize改变时执行\r\n        this.currentPage = val;\r\n      },\r\n      waterConcentrationChart(){//水质浓度变化趋势\r\n        this.trendLoading = true;\r\n        this.trendNoDataState = false;\r\n        this.myChart = this.$echarts.init(document.getElementById('trend-change-chart'));\r\n        var type=this.dataTypeList[this.dataType].type;\r\n        var startTime=formatDate(this.dataValue[0],'yyyy-MM-dd hh:mm:ss');\r\n        var endTime=formatDate(this.dataValue[1],'yyyy-MM-dd hh:mm:ss');\r\n        var paramsp={\r\n          queryType:'station',\r\n          statisType:type,\r\n          startTime:startTime,\r\n          endTime:endTime,\r\n          equipdIds:this.nodes.id\r\n        };\r\n        this.$http.get('/waterenvapi/station/projectStatisChart',{\r\n          params:paramsp\r\n        }).then((response)=>{\r\n          let dataJson = response.data;\r\n          if(dataJson.code === 200){\r\n            var info=dataJson.content.info;\r\n            var xAxis=info.xAxis;\r\n            var serisone=info.yAxis[0].list;\r\n            var serissec=info.yAxis[1].list;\r\n            if(serissec.length === 0){\r\n              this.trendNoDataState = true;\r\n            }else{\r\n              this.trendNoDataState = false;\r\n            }\r\n            let option = {\r\n              color:['#2675d1'],\r\n              title: {\r\n                text: \"水质排名详情\",\r\n                textStyle:{\r\n                  fontSize: 16,\r\n                },\r\n                subtext:'数据来源：小时数据',\r\n                subtextStyle:{\r\n                  color: '#333'\r\n                },\r\n                x: 'center',\r\n                y: 10\r\n              },\r\n              tooltip : {\r\n                trigger: 'axis',\r\n                axisPointer : {            // 坐标轴指示器，坐标轴触发有效\r\n                  type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n                }\r\n              },\r\n              grid: {\r\n                top: 66,\r\n                left: 20,\r\n                right: '4%',\r\n                bottom: 30,\r\n                containLabel: true\r\n              },\r\n              legend: {\r\n                bottom: 0,\r\n                data: ['目标水质']\r\n              },\r\n              visualMap: {\r\n                top: 10,\r\n                right: -100,\r\n                pieces: [{\r\n                  value: 1,\r\n                  color: '#00a1e4'\r\n                }, {\r\n                  value: 2,\r\n                  color: '#00a1e4'\r\n                }, {\r\n                  value: 3,\r\n                  color: '#24c768'\r\n                }, {\r\n                  value: 4,\r\n                  color: '#e5ce10'\r\n                }, {\r\n                  value: 5,\r\n                  color: '#ff7e00'\r\n                }, {\r\n                  value: 6,\r\n                  color: '#ff7e00'\r\n                }],\r\n                outOfRange: {\r\n                  color: '#999'\r\n                }\r\n              },\r\n              xAxis : [\r\n                {\r\n                  type : 'category',\r\n                  data : xAxis,\r\n                  axisTick:{\r\n                    show:false\r\n                  },\r\n                  axisLine:{\r\n                    lineStyle:{\r\n                      color:\"#c6d1de\"\r\n                    }\r\n                  },\r\n                  axisLabel:{\r\n                    color:\"#999\"\r\n                  },\r\n                  splitLine:{\r\n                    show:true\r\n                  }\r\n                }\r\n              ],\r\n              yAxis : [\r\n                {\r\n                  type : 'value',\r\n                  splitNumber:7,\r\n                  max:6,\r\n                  axisTick:{\r\n                    show:false\r\n                  },\r\n                  axisLine:{\r\n                    lineStyle:{\r\n                      color:\"#c6d1de\"\r\n                    }\r\n                  },\r\n                  axisLabel:{\r\n                    color:\"#999\",\r\n                    formatter:function(param){\r\n                      let yText = null;\r\n                      switch (param) {\r\n                        case 0:\r\n                          yText = '';\r\n                          break;\r\n                        case 1:\r\n                          yText = 'Ⅰ类';\r\n                          break;\r\n                        case 2:\r\n                          yText = 'Ⅱ类';\r\n                          break;\r\n                        case 3:\r\n                          yText = 'Ⅲ类';\r\n                          break;\r\n                        case 4:\r\n                          yText = 'Ⅳ类';\r\n                          break;\r\n                        case 5:\r\n                          yText = 'Ⅴ类';\r\n                          break;\r\n                        case 6:\r\n                          yText = '劣Ⅴ类';\r\n                          break;\r\n                      };\r\n                      return yText;\r\n                    }\r\n                  },\r\n                  splitLine:{\r\n                    show:true\r\n                  }\r\n                }\r\n              ],\r\n              series : [\r\n                {\r\n                  name:'断面实际水质',\r\n                  type:'bar',\r\n                  data:serisone,\r\n                  barWidth: 20\r\n                },\r\n                {\r\n                  name:'目标水质',\r\n                  type:'line',\r\n                  symbolSize: 10,\r\n                  lineStyle:{\r\n                    color: '#2675d1'\r\n                  },\r\n                  itemStyle:{\r\n                    borderColor: '#2675d1'\r\n                  },\r\n                  data:serissec\r\n                }\r\n              ]\r\n            };\r\n            this.myChart.setOption(option);\r\n          }\r\n          this.trendLoading = false;\r\n        }).catch((error)=>{\r\n          this.trendLoading = false;\r\n          this.trendNoDataState = true;\r\n        });\r\n\r\n      },\r\n      detailsTrendChart(){\r\n        this.detailsLoading = true;\r\n        this.detailsNoDataState = false;\r\n        this.detailsTrend = this.$echarts.init(document.getElementById('details-trend-chart'));\r\n        var type=this.dataTypeList[this.dataType].type;\r\n        var startTime=formatDate(this.dataValue[0],'yyyy-MM-dd hh:mm:ss');\r\n        var endTime=formatDate(this.dataValue[1],'yyyy-MM-dd hh:mm:ss');\r\n        var paramsp={\r\n          equipdIds: this.nodes.id,\r\n          statisType:'hour',\r\n          startTime:startTime,\r\n          endTime:endTime\r\n        };\r\n        this.$http.get('/waterenvapi/station/projectValueTrendChart',{\r\n          params:paramsp\r\n        }).then((response)=> {\r\n          let dataJson = response.data;\r\n          if (dataJson.code === 200) {\r\n            var info = dataJson.content.info;\r\n            var legengarr = [];\r\n            for (var i = 0; i < info.legend.length; i++) {\r\n              legengarr.push(info.legend[i]);\r\n            }\r\n            var series = [];\r\n            var serobj = info.yAxis;\r\n\r\n            for (var i = 0; i < serobj.length; i++) {\r\n              var obj = serobj[i];\r\n              series.push({\r\n                name: obj.name,\r\n                type: 'line',\r\n                symbolSize: 8,\r\n                data: obj.list\r\n              });\r\n            }\r\n            if(series.length === 0){\r\n              this.detailsNoDataState = true;\r\n            }else{\r\n              this.detailsNoDataState = false;\r\n            }\r\n            let option = {\r\n              color:[\"#166bce\",\"#ff7e00\",\"#ce1768\",\"#11c053\",\"#9c16ce\",\"#22c0ce\"],\r\n              tooltip: {\r\n                trigger: 'axis'\r\n              },\r\n              legend: {\r\n                data:legengarr,\r\n                bottom:0\r\n              },\r\n              grid: {\r\n                top: 20,\r\n                left: 40,\r\n                right: 20,\r\n                bottom: 30,\r\n                containLabel: true\r\n              },\r\n              xAxis: {\r\n                type: 'category',\r\n                boundaryGap: false,\r\n                data: info.xAxis,\r\n                axisTick:{\r\n                  show:false\r\n                },\r\n                axisLine:{\r\n                  lineStyle:{\r\n                    color:\"#c6d1de\"\r\n                  }\r\n                },\r\n                axisLabel:{\r\n                  color:\"#999\"\r\n                },\r\n                splitLine:{\r\n                  show:true\r\n                }\r\n              },\r\n              yAxis: {\r\n                type: 'value',\r\n                name:'监测值',\r\n                nameLocation:\"middle\",\r\n                nameTextStyle:{\r\n                  color:\"#999\"\r\n                },\r\n                nameGap: 40,\r\n                axisTick:{\r\n                  show:false\r\n                },\r\n                splitNumber:10,\r\n                axisLine:{\r\n                  lineStyle:{\r\n                    color:\"#c6d1de\"\r\n                  }\r\n                },\r\n                axisLabel:{\r\n                  color:\"#999\"\r\n                }\r\n              },\r\n              series: series\r\n            };\r\n            this.detailsTrend.setOption(option);\r\n          }\r\n          this.detailsLoading = false;\r\n        }).catch((error)=>{\r\n          this.detailsLoading = false;\r\n          this.detailsNoDataState = true;\r\n        });\r\n\r\n      }\r\n    },\r\n    mounted(){\r\n      this.initTime();\r\n      let _this = this;\r\n      window.addEventListener(\"resize\",function(){\r\n        _this.myChart.resize();\r\n        _this.detailsTrend.resize();\r\n      });\r\n      this.searchData();\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .statistical-analysis-title{\r\n    height: 60px;\r\n    line-height: 60px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n  }\r\n  .secondary-mode-content{\r\n    padding: 8px;\r\n    .secondary-mode-title{\r\n      height: 36px;\r\n      line-height: 36px;\r\n      color: #166bce;\r\n      .block-icon{\r\n        width: 8px;\r\n        height: 8px;\r\n        background: #166bce;\r\n        margin-right: 4px;\r\n      }\r\n    }\r\n    .normal-table{\r\n      .sl-icon{\r\n        width: 8px;\r\n        height: 8px;\r\n        border-radius: 50%;\r\n        margin-right: 4px;\r\n      }\r\n      .gradeA{\r\n        background: #00a1e4;\r\n      }\r\n      .gradeB{\r\n        background: #24c768;\r\n      }\r\n      .gradeC{\r\n        background: #e5ce10;\r\n      }\r\n      .gradeD{\r\n        background: #ff7e00;\r\n      }\r\n      .gradeE{\r\n        background: #ff0000;\r\n      }\r\n    }\r\n\r\n  }\r\n  .normal-table-wrap{\r\n    .normal-table{\r\n      width: 100%;\r\n      th{\r\n        width: 106px;\r\n      }\r\n      td{\r\n        width: 400px;\r\n      }\r\n    }\r\n  }\r\n  .statistical-analysis-text{\r\n    background: #e7f0f9;\r\n    line-height: 18px;\r\n    padding: 10px 8px;\r\n    border: 1px solid #d5e6f8;\r\n    margin-top: 10px;\r\n    position: relative;\r\n    p{\r\n      text-indent: 2em;\r\n    }\r\n  }\r\n  .statistical-analysis-text:before{\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 14px;\r\n    height: 14px;\r\n    border-top: 2px solid #166bce;\r\n    border-left: 2px solid #166bce;\r\n    top: -2px;\r\n    left: -2px;\r\n  }\r\n  .statistical-analysis-text:after{\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 14px;\r\n    height: 14px;\r\n    border-right: 2px solid #166bce;\r\n    border-bottom: 2px solid #166bce;\r\n    bottom: -2px;\r\n    right: -2px;\r\n  }\r\n  #trend-change-chart{\r\n    height: 350px;\r\n    width: 100%;\r\n  }\r\n  .water-chart-wrap{\r\n    position: relative;\r\n    .color-line-list{\r\n      position: absolute;\r\n      z-index: 999;\r\n      top: 66px;\r\n      left: 64px;\r\n      width: 2px;\r\n      li{\r\n        height: 39px;\r\n      }\r\n      .grade5,.grade6{\r\n        background: #00a1e4;\r\n      }\r\n      .grade4{\r\n        background: #24c768;\r\n      }\r\n      .grade3{\r\n        background: #e5ce10;\r\n      }\r\n      .grade2{\r\n        background: #ff7e00;\r\n      }\r\n      .grade1{\r\n        background: #ff0000;\r\n      }\r\n    }\r\n  }\r\n  #details-trend-chart{\r\n    height: 370px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/colligateApplication/waterQualityEvaluationD.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"water-quality-evaluation-page\"},[_c('div',{staticClass:\"secondary-scroll-content\"},[_c('h4',{staticClass:\"statistical-analysis-title\"},[_vm._v(\" \"+_vm._s(_vm.headtitle)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"secondary-toolbar\"},[_c('span',[_vm._v(\"时间段：\")]),_vm._v(\" \"),_c('el-button-group',_vm._l((_vm.dataTypeList),function(item,index){return _c('el-button',{key:index,class:{active:_vm.dataType === index},attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.dataTypeToggle(index,item)}}},[_vm._v(_vm._s(item.name))])}),1),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"range-separator\":\"~\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"clearable\":false,\"format\":\"yyyy-MM-dd HH:mm\",\"prefix-icon\":\"el-icon-date\",\"disabled\":_vm.custom,\"picker-options\":_vm.pickerOptions},model:{value:(_vm.dataValue),callback:function ($$v) {_vm.dataValue=$$v},expression:\"dataValue\"}}),_vm._v(\" \\n      \"),_c('button',{staticClass:\"default-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.searchData}},[_c('i',{staticClass:\"iconfont icon-shijiantai\"}),_vm._v(\" 评价\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"currency-mode-wrap\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"secondary-mode-content\"},[_c('div',{staticClass:\"normal-table-wrap\"},[_c('table',{staticClass:\"normal-table\"},[_c('tr',[_c('th',[_vm._v(\"水质现状\")]),_vm._v(\" \"),_c('td',[_c('i',{staticClass:\"sl-icon gradeC\"}),_vm._v(\" \"+_vm._s(_vm.evaluation))]),_vm._v(\" \"),_c('th',[_vm._v(\"水质目标\")]),_vm._v(\" \"),_c('td',[_c('i',{staticClass:\"sl-icon gradeB\"}),_vm._v(\" \"+_vm._s(_vm.targetQualityLevel))]),_vm._v(\" \"),_c('th',[_vm._v(\"联网现状\")]),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('tr',[_c('th',[_vm._v(\"计算方法\")]),_vm._v(\" \"),_c('td',[_vm._v(\"比例法\")]),_vm._v(\" \"),_c('th',[_vm._v(\"数据时间\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(_vm._s(_vm.timerange))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"statistical-analysis-text\"},[_c('p',[_vm._v(_vm._s(_vm.analydetal))])]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"water-quality-row\"},[_c('div',{staticClass:\"water-quality-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"数据时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"监测因子\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"value\",\"label\":\"浓度值\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"waterQualityLevel\",\"label\":\"水质等级\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"\\n                    \"+_vm._s(_vm.toWQLString(scope.row.waterQualityLevel))+\"\\n                  \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"downfivestandar\",\"label\":\"V类水标准\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unit\",\"label\":\"单位\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-pagination-wrap\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"background\":\"\",\"small\":true,\"popper-class\":\"select-common-option\",\"page-sizes\":_vm.pageList,\"layout\":\"total, sizes, slot ,->,prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.paginationSizeChange,\"current-change\":_vm.paginationChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}},[_c('span',{staticClass:\"el-pagination__current\"},[_vm._v(\"当前第\"+_vm._s(_vm.currentPage)+\"/\"+_vm._s(_vm.totalPageNumber)+\"页\")])])],1)]),_vm._v(\" \"),_c('h4',{staticClass:\"secondary-mode-title\"},[_c('i',{staticClass:\"sl-icon block-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.headtitle)+\"各因子水质详情\")])]),_vm._v(\" \"),_c('div',{staticClass:\"water-chart-wrap\"},[(_vm.trendLoading)?_c('div',{staticClass:\"loading-wrap\"}):_vm._e(),_vm._v(\" \"),(_vm.trendNoDataState)?_c('div',{staticClass:\"no-data-wrap small no-data-chart\"},[_c('p',[_vm._v(\"暂无数据\")])]):_vm._e(),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"trend-change-chart\"}})]),_vm._v(\" \"),_c('h4',{staticClass:\"secondary-mode-title\"},[_c('i',{staticClass:\"sl-icon block-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.headtitle)+\"各因子趋势详情\")])]),_vm._v(\" \"),_c('div',{staticClass:\"water-chart-wrap\"},[(_vm.detailsLoading)?_c('div',{staticClass:\"loading-wrap\"}):_vm._e(),_vm._v(\" \"),(_vm.detailsNoDataState)?_c('div',{staticClass:\"no-data-wrap small no-data-chart\"},[_c('p',[_vm._v(\"暂无数据\")])]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"details-trend-chart\"}})])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"currency-mode-title\"},[_c('i',{staticClass:\"mode-title-icon\"}),_vm._v(\" 水质评价\\n        \"),_c('span',{staticClass:\"mode-title-line\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('i',{staticClass:\"sl-icon gradeB\"}),_vm._v(\" 正常\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"secondary-mode-title\"},[_c('i',{staticClass:\"sl-icon block-icon\"}),_vm._v(\" \"),_c('span',[_vm._v(\"奉贤区断面水质详情\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"color-line-list\"},[_c('li',{staticClass:\"grade1\"}),_vm._v(\" \"),_c('li',{staticClass:\"grade2\"}),_vm._v(\" \"),_c('li',{staticClass:\"grade3\"}),_vm._v(\" \"),_c('li',{staticClass:\"grade4\"}),_vm._v(\" \"),_c('li',{staticClass:\"grade5\"}),_vm._v(\" \"),_c('li',{staticClass:\"grade6\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f210cf0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/colligateApplication/waterQualityEvaluationD.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f210cf0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./waterQualityEvaluationD.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./waterQualityEvaluationD.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./waterQualityEvaluationD.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f210cf0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./waterQualityEvaluationD.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f210cf0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/colligateApplication/waterQualityEvaluationD.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}