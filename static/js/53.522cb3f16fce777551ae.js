webpackJsonp([53],{"P/Ws":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={name:"",data:function(){return{timing:60,refreshTime:(new Date).format("yyyy-MM-dd hh:mm:ss"),tableData:[],parameter:!1,paramValue:"",parameterId:"",stationId:"",loading:!0}},methods:{adda:function(t,a,e){for(var n=this.tableData[t][a],r=0,i=t;i<this.tableData.length&&n==this.tableData[i][a];i++)r++;return this.tableData[t][e]=r,r},objectSpanMethod:function(t){var a=t.row;t.column,t.rowIndex;if(1==t.columnIndex)return a.sf?{colspan:1,rowspan:a.sf}:{colspan:1,rowspan:0}},setParameter:function(t){this.parameter=!0,this.parameterId=t.parameterId},sureSet:function(){var t=this;this.$http.get("/Quality/qualityControlSet/editorEquipmentParameter",{params:{parameterId:this.parameterId,parameterValue:this.paramValue}}).then(function(a){t.paramValue="",t.parameter=!1,t.getTableData()})},getTableData:function(){var t=this;this.loading=!0,this.$http.get("/Quality/qualityControlSet/getEquipmentParameter",{params:{stationCodes:this.stationId}}).then(function(a){t.tableData=a.data.content.dataList;for(var e=0;e<t.tableData.length;e++){e+=t.adda(e,"indexName","sf")-1}t.loading=!1})}},mounted:function(){},computed:{stationInfo:{get:function(){return this.$store.state.stationInfo}}},watch:{stationInfo:function(t){t.length>0&&(this.stationId=t[0].nodeId,this.getTableData())}},created:function(){this.$store.commit("setShowlefttree",!0)}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"zero-drift tapStyle secondary-page-mode"},[e("div",{staticClass:"currency-mode-wrap"},[e("div",{staticClass:"tablebox",staticStyle:{height:"100%"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",height:"100%","span-method":t.objectSpanMethod,"element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)"}},[e("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod,width:"50"}}),t._v(" "),e("el-table-column",{attrs:{prop:"indexName",label:"类别"}}),t._v(" "),e("el-table-column",{attrs:{prop:"parameterName",label:"参数名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"parameterValue",label:"参数值"}}),t._v(" "),e("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"secondBtn"},on:{click:function(e){return t.setParameter(a.row)}}},[t._v("设置")])]}}])})],1)],1)]),t._v(" "),e("el-dialog",{attrs:{width:"280px",title:"参数设置",visible:t.parameter},on:{"update:visible":function(a){t.parameter=a}}},[e("div",{staticClass:"parameter-wrap"},[e("div",{staticClass:"parameter-row"},[e("span",{staticClass:"label-text"},[t._v("参数值：")]),t._v(" "),e("div",{staticClass:"layoutBox",staticStyle:{width:"160px"}},[e("el-input",{attrs:{placeholder:"请输入内容",type:"number"},model:{value:t.paramValue,callback:function(a){t.paramValue=a},expression:"paramValue"}})],1)]),t._v(" "),e("div",{staticClass:"parameter-row",staticStyle:{"text-align":"center","margin-top":"20px"}},[e("el-button",{on:{click:t.sureSet}},[t._v("  确定  ")])],1)])])],1)},staticRenderFns:[]};var i=e("VU/8")(n,r,!1,function(t){e("P9Qd")},"data-v-73bb04dc",null);a.default=i.exports},P9Qd:function(t,a){}});
//# sourceMappingURL=53.522cb3f16fce777551ae.js.map