webpackJsonp([22],{HRz2:function(t,e){},sLzE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),s=a.n(o),i=a("CQhq"),l={name:"",props:["fId","name","fName","fTime","mn","dateRangeone"],data:function(){return{navArr:[],dateRange:[],dateRangeH:[],navIndex:0,moduleIndex:0,tableData:[],tableDataR:[],tableDataParam:[],tableDataProce:[],historicalData:[],checked:!1,titleLabel:"",loadingH:!0}},created:function(){this.dateRange=this.dateRangeone,this.dateRangeH=this.dateRangeone,"dataone"==this.name?(this.moduleIndex=0,this.navArr=[{name:"周质控数据",id:0,icon:"icon-renwuguanli"},{name:"流程日志",id:3,icon:"icon-renwuguanli"},{name:"历史数据",id:4,icon:"icon-renwuguanli"},{name:"上下游数据",id:5,icon:"icon-renwuguanli"},{name:"运维情况",id:6,icon:"icon-renwuguanli"},{name:"操作记录",id:7,icon:"icon-renwuguanli"},{name:"佐证材料",id:8,icon:"icon-renwuguanli"}]):(this.moduleIndex=1,this.getZeroData(),this.navArr=[{name:"零点跨度数据",id:1,icon:"icon-renwuguanli"},{name:"关键参数",id:2,icon:"icon-renwuguanli"},{name:"流程日志",id:3,icon:"icon-renwuguanli"},{name:"历史数据",id:4,icon:"icon-renwuguanli"},{name:"上下游数据",id:5,icon:"icon-renwuguanli"},{name:"运维情况",id:6,icon:"icon-renwuguanli"},{name:"操作记录",id:7,icon:"icon-renwuguanli"},{name:"佐证材料",id:8,icon:"icon-renwuguanli"}])},mounted:function(){},methods:{searchH:function(){var t=this;this.loadingH=!0,this.$http.get("/Receiving/queryHourDataByMnFactor",{params:{mn:this.mn,factorCode:this.fName,beginTime:this.dateRangeH[0]+" 00:00:00",endTime:this.dateRangeH[1]+" 23:59:59"}}).then(function(e){if(0===e.data.code){t.loadingH=!1;var a=e.data.content.info.title,o=e.data.content.info.times,s=e.data.content.info.datas;t.titleLabel=a.split(" ")[0],t.historicalData=e.data.content.info.hourData,t.initEchartOne(o,s,a,t.titleLabel,e.data.content.info.unit)}})},toggleTable:function(t){t.toggle?t.toggle=!1:t.toggle=!0},navClick:function(t,e){var a=this;this.navIndex=e,this.moduleIndex=t.id,"操作记录"==t.name?this.$http.get("/DataAudit/dataAudit/auditOperaRecord",{params:{flowId:this.fId}}).then(function(t){a.tableDataR=t.data.content.dataList}):"流程日志"==t.name?this.$http.get("/Receiving/queryEquipFlowLogData",{params:{mn:"A430100_2007",factorCode:"w21011",beginTime:this.dateRange[0]+" 00:00:00",endTime:this.dateRange[1]+" 23:59:59"}}).then(function(t){var e=[];e[0]={id:0,type:"系统日志",toggle:!1,list:t.data.content.dataList.sysLog},e[1]={id:1,type:"仪器日志",toggle:!1,list:t.data.content.dataList.yqLog},a.tableDataProce=e}):"关键参数"==t.name?this.$http.get("/Receiving/queryEquipmentParam",{params:{mn:this.mn,factorCode:this.fName}}).then(function(t){a.tableDataParam=t.data.content.dataList}):"历史数据"==t.name?this.searchH():"上下游数据"==t.name&&setTimeout(function(){a.initEchartTwo()},300)},initEchartOne:function(t,e,a,o,s){e.map(function(t,e){return Number(t)});var i={title:{text:a,x:"center"},grid:{left:"10%",right:"10%",top:"10%",bottom:"10%"},tooltip:{trigger:"axis"},legend:{data:[o],y:"bottom"},toolbox:{show:!0},xAxis:{type:"category",boundaryGap:!1,data:t},yAxis:{type:"value",name:s},series:[{name:o,type:"line",data:e,itemStyle:{normal:{color:"#4379CE"}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#4379CE"},{offset:1,color:"#fff"}])}}}]};this.$echarts.init(document.getElementById("echartbox")).setOption(i)},initEchartTwo:function(){this.$echarts.init(document.getElementById("e_box")).setOption({title:{text:"水温 - 上下游趋势图",x:"center"},xAxis:{data:["丰城小港口","生米","吴城赣江","昌邑"]},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#505765"}},formatter:function(t){return t[0].axisValueLabel+"<br>最大值 = "+t[0].data[2]+"<br>最小值 = "+t[0].data[1]+"<br>中位值 = "+t[0].data[3]+"<br>最新值 = "+t[0].data[4]+"<br>平均值 = "+t[0].data[5]+"<br>"}},legend:{data:["中位值","最新值","平均值"],y:"bottom"},yAxis:{type:"value",name:"监测值(℃)"},series:[{type:"k",name:"最大最小值",barWidth:"30",data:[[21.9,23.1,21.9,23.1,22.6,22.6,22.6],[22.7,23.8,22.7,23.8,23.2,22.8,23],[19.8,21,19.8,21,20.8,20.7,20.6],[21.8,22.8,21.8,22.8,22.8,22.6,22.6]],tooltip:{show:!0},itemStyle:{normal:{color:"#166bce",color0:"#166bce",borderColor:"#166bce",borderColor0:"#166bce"}}},{data:[22.6,23.2,20.8,22.8],type:"line",name:"中位值",itemStyle:{normal:{color:"#67C239"}}},{data:[22.6,22.8,20.7,22.6],type:"line",name:"最新值",itemStyle:{normal:{color:"#E5A23C"}}},{data:[22.6,23,20.6,22.6],type:"line",name:"平均值",itemStyle:{normal:{color:"#4379CE"}}}]})},getZeroData:function(){var t=new Date(this.fTime.replace(/-/g,"/")).getTime()-432e6;this.$http.get("/Quality/testData/zeroDriftData",{params:{startTime:new Date(t).format("yyyy-MM-dd")+" 00:00:00",endTime:this.fTime,indexCodes:this.fName,stationCodes:this.fId}}).then(function(t){})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detailBox"},[a("div",{staticClass:"left_nav"},[a("ul",t._l(t.navArr,function(e,o){return a("li",{key:o,class:t.navIndex==o?"on":"",on:{click:function(a){return t.navClick(e,o)}}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v("\n                  "+t._s(e.name)+"\n            ")])}),0)]),t._v(" "),a("div",{staticClass:"right_content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.moduleIndex,expression:"moduleIndex == 0"}],staticClass:"module_box"},[a("div",{staticClass:"toolbox"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"242px"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v("  \n                  "),a("el-button",[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")])],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{prop:"",label:"监测时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"监测项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"仪器测试值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"标准液浓度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"误差"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"是否合格"}})],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.moduleIndex,expression:"moduleIndex == 1"}],staticClass:"module_box"},[a("div",[a("el-table",{attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"测试结果"}}),t._v(" "),a("el-table-column",{attrs:{label:"零点核查"}},[a("el-table-column",{attrs:{label:"标准样浓度",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{label:"绝对误差"}}),t._v(" "),a("el-table-column",{attrs:{label:"合格情况"}})],1),t._v(" "),a("el-table-column",{attrs:{label:"24小时零点漂移"}},[a("el-table-column",{attrs:{label:"前一次测试结果",width:"115"}}),t._v(" "),a("el-table-column",{attrs:{label:"跨度值"}}),t._v(" "),a("el-table-column",{attrs:{label:"相对误差"}}),t._v(" "),a("el-table-column",{attrs:{label:"合格情况"}})],1)],1)],1),t._v(" "),a("div",[a("el-table",{attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"48"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"测试结果"}}),t._v(" "),a("el-table-column",{attrs:{label:"跨度核查"}},[a("el-table-column",{attrs:{label:"标准样浓度",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{label:"绝对误差"}}),t._v(" "),a("el-table-column",{attrs:{label:"合格情况"}})],1),t._v(" "),a("el-table-column",{attrs:{label:"24小时跨度漂移"}},[a("el-table-column",{attrs:{label:"前一次测试结果",width:"115"}}),t._v(" "),a("el-table-column",{attrs:{label:"跨度值"}}),t._v(" "),a("el-table-column",{attrs:{label:"相对误差"}}),t._v(" "),a("el-table-column",{attrs:{label:"合格情况"}})],1)],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.moduleIndex,expression:"moduleIndex == 2"}],staticClass:"module_box"},[a("div",{staticClass:"table"},[a("el-table",{attrs:{border:"",data:t.tableDataParam,height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",width:"180px",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"codeName",width:"220px",label:"参数值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"describe",label:"备注"}})],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.moduleIndex,expression:"moduleIndex == 3"}],staticClass:"module_box"},[a("div",{staticClass:"tablebox"},[t._m(0),t._v(" "),a("el-scrollbar",{staticStyle:{height:"calc(100% - 32px)"}},[a("ul",{staticClass:"table-body clearfix"},t._l(t.tableDataProce,function(e,o){return a("li",[a("div",{staticClass:"toggle-row",class:{active:e.toggle}},[a("i",{staticClass:"toggle-icon",class:{active:e.toggle},on:{click:function(a){return t.toggleTable(e)}}}),t._v(" "),a("span",[t._v(t._s(e.type))])]),t._v(" "),a("el-collapse-transition",[e.toggle?a("div",[a("table",t._l(e.list,function(e,o){return a("tr",[a("td",{attrs:{width:"30%"}},[t._v(t._s(e.dataTime))]),t._v(" "),a("td",{attrs:{width:"70%"}},[t._v(t._s(e.info))])])}),0)]):t._e()])],1)}),0)])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==t.moduleIndex,expression:"moduleIndex == 4"}],staticClass:"module_box"},[a("div",{staticClass:"toolbox"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"242px"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.dateRangeH,callback:function(e){t.dateRangeH=e},expression:"dateRangeH"}})],1),t._v("  \n                  "),a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("原始数据")]),t._v(" "),a("el-button",{on:{click:t.searchH}},[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")])],1),t._v(" "),a("div",{staticClass:"table"},[a("div",{staticClass:"l_table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingH,expression:"loadingH"}],attrs:{border:"",data:t.historicalData,height:"100%","element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)"}},[a("el-table-column",{attrs:{prop:"dataTime",width:"150px",label:"监测时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",width:"70px",label:t.titleLabel}})],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingH,expression:"loadingH"}],staticClass:"r_box",attrs:{id:"echartbox","element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)"}})])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5==t.moduleIndex,expression:"moduleIndex == 5"}],staticClass:"module_box"},[a("div",{staticClass:"toolbox"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"242px"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v("  \n                  "),a("el-button",[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")])],1),t._v(" "),a("div",{staticClass:"e_box",staticStyle:{height:"240px"},attrs:{id:"e_box"}}),t._v(" "),a("div",{staticClass:"mapBox",staticStyle:{height:"254px"}},[t._v("\n                    地图\n                ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6==t.moduleIndex,expression:"moduleIndex == 6"}],staticClass:"module_box"},[a("div",{staticClass:"table"},[a("el-table",{attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"运维单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"角色"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"运维人员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"联系电话"}})],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7==t.moduleIndex,expression:"moduleIndex == 7"}],staticClass:"module_box"},[a("div",{staticClass:"table"},[a("el-table",{attrs:{border:"",data:t.tableDataR,height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AUDIT_DATE",label:"操作时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AUDIT_USER",label:"操作人员"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AUDIT_OPERATION",label:"操作"}}),t._v(" "),a("el-table-column",{attrs:{prop:"AUDIT_REASON",label:"描述"}})],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:8==t.moduleIndex,expression:"moduleIndex == 8"}],staticClass:"module_box"},[a("div",{staticClass:"table"},[a("el-table",{attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"上传人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"文件名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"}})],1)],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-head"},[e("table",[e("tr",[e("th",{attrs:{width:"30%"}},[this._v("监测时间")]),this._v(" "),e("th",{attrs:{width:"70%"}},[this._v("日志")])])])])}]};var r=a("VU/8")(l,n,!1,function(t){a("ymV2")},"data-v-476aad07",null).exports,c={name:"",components:{calender:i.a,detailBox:r},data:function(){return{fId:"",name:"",fName:"",mn:"",dateRange:[],loading:!0,isAudit:!0,noDataState:!1,showChecked:!1,rejectObj:{rejectcheckList:[],rejectReason:"",rejectDate:""},rejectRules:{rejectDate:[{type:"date",required:!0,message:"请选择驳回日期",trigger:"change"}],rejectcheckList:[{type:"array",required:!0,message:"请至少选择一个驳回对象",trigger:"change"}],rejectReason:[{required:!0,message:"请输入驳回原因",trigger:"blur"}]},rejectvisiDialog:!1,areasonvisiDialog:!1,evivisiDialog:!1,evitableData:[],detailvisiDialog:!1,setdatavisiDialog:!1,popvisible:!1,tableHead:[],tableData:[],isCode:"",codeMes:"",reasonVal:"",fileList:[],tabsValue:"",copyData:[],formData:null,auditObj:{auditReason:"数据已确认"},auditRules:{auditReason:[{required:!0,message:"请输入审核原因",trigger:"blur"}]}}},mounted:function(){},created:function(){if(this.$route.query.date)this.dateRange=[this.$route.query.date,this.$route.query.date];else{var t=(new Date).setDate((new Date).getDate()-1),e=new Date(t).format("yyyy-MM-dd");this.dateRange=[e,e]}},methods:{getchildDate:function(t){this.dateRange=[t,t]},startDateOpt:function(){return{disabledDate:function(t){var e=(new Date).setDate((new Date).getDate()-1);return t.getTime()>e}}},dateChange:function(){this.datedifference(this.dateRange[0],this.dateRange[1])>30&&(this.dateRange=[],this.$message({message:"最多选择连续30天日期",type:"warning",duration:2e3}))},datedifference:function(t,e){var a;return t=Date.parse(t),a=(e=Date.parse(e))-t,a=Math.abs(a),Math.floor(a/864e5)+1},handlePreview:function(){},handleRemove:function(){},tabClick:function(){},indexMethod:function(t){return t+1},closess:function(t){t()},detailClick:function(t,e){t[e].statusp=!1,this.detailvisiDialog=!0,this.fId=t[e].flowId,"w01019"==t[e].name||"w21003"==t[e].name||"w21011"==t[e].name||"w21001"==t[e].name?this.name="datatwo":this.name="dataone";var a=t.time.value;a=a.substring(0,a.length-1),this.fTime=a+":00:00",this.fName=e},codeClick:function(){this.showChecked=!this.showChecked},checked:function(t){t.statusp=!t.statusp},resetForm:function(t){this.$refs[t].resetFields()},reject:function(){this.rejectvisiDialog=!0},rejectSure:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;var a=new Object;a.userId="12321",a.mn=e.mn,a.comment=e.rejectObj.rejectReason,2==e.rejectObj.rejectcheckList.length?a.reviewPass=0:a.reviewPass=parseFloat(e.rejectObj.rejectcheckList.join(",")),a.date=e.rejectObj.rejectDate.format("yyyy-MM-dd"),e.$http.get("/DataAudit/dataAudit/rejectDataAudit",{params:a}).then(function(t){0==t.data.code&&(e.resetForm("rejectForm"),e.rejectvisiDialog=!1)})})},rejectCancel:function(){this.rejectvisiDialog=!1,this.rejectcheckList=[],this.rejectReason="",this.resetForm("rejectForm")},auditClick:function(){this.areasonvisiDialog=!0},auditSure:function(t){var e=this;this.loading=!0,this.$refs[t].validate(function(a){if(!a)return!1;if(e.areasonvisiDialog=!1,e.isAudit){e.isAudit=!1;var o=new Object;o.userId="12321",o.comment=e.auditObj.auditReason,o.list=e.tableData,e.$http.post("/DataAudit/dataAudit/auditCustomerTask",o).then(function(a){e.isAudit=!0,0==a.data.code?(e.loading=!1,e.showChecked=!1,e.searchData(),e.auditObj.auditReason="数据已确认",e.resetForm(t),e.$message({message:a.data.message,type:"success",duration:1500})):(e.$message({message:a.data.message,type:"warning",duration:1500}),e.loading=!1,e.showChecked=!1,e.auditObj.auditReason="数据已确认",e.resetForm(t))}).catch(function(t){e.isAudit=!0})}})},auditCancel:function(t){this.areasonvisiDialog=!1,this.auditObj.auditReason="",this.resetForm(t)},uploadFile:function(t){this.formData.append("file",t.file)},fileSave:function(){var t=this;this.copyData=JSON.parse(s()(this.tableData));for(var e=[],a=0;a<this.copyData.length;a++)for(var o in this.copyData[a])"监测时间"!=o&&1==this.copyData[a][o].status&&e.push(this.copyData[a][o].flowId);this.formData=new FormData,this.$refs.upload.submit(),this.formData.append("userId","1111"),this.formData.append("dataId",e[0]);this.$http.post("/DataAudit/dataAudit/saveEvidenceFile",this.formData,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){0==e.data.code&&t.$message({message:e.data.message,type:"success",duration:1500})})},codeSure:function(){var t=this;this.copyData=JSON.parse(s()(this.tableData));var e=[],a="";if("eff"==this.isCode){a="有效数据标记";for(var o=0;o<this.copyData.length;o++)for(var i in this.copyData[o])"监测时间"!=i&&1==this.copyData[o][i].status&&(this.copyData[o][i].colorStatus=1,this.copyData[o][i].remark=this.reasonVal,e.push(this.copyData[o][i]))}else if("inv"==this.isCode){a="无效数据标记";for(var l=0;l<this.copyData.length;l++)for(var n in this.copyData[l])"监测时间"!=n&&1==this.copyData[l][n].status&&(this.copyData[l][n].colorStatus=2,this.copyData[l][n].remark=this.reasonVal,e.push(this.copyData[l][n]))}var r=new Object;r.userId="12321",r.comment=a,r.list=e,this.$http.post("/DataAudit/dataAudit/auditCustomer",r).then(function(e){0==e.data.code?(t.showChecked=!1,t.$message({message:e.data.message,type:"success",duration:1500}),t.reasonVal="",t.searchData()):t.$message({message:e.data.message,type:"waring",duration:1500})}),this.setdatavisiDialog=!1},codeCancel:function(){this.setdatavisiDialog=!1,this.reasonVal=""},effcodeClick:function(){this.showChecked=!0,this.isCode="eff",this.codeMes="设置有效数据"},invcodeClick:function(){this.showChecked=!0,this.isCode="inv",this.codeMes="设置无效数据"},searchData:function(){var t=this;this.loading=!0,this.showChecked=!1,this.isCode="",this.codeMes="",this.$http.get("/DataAudit/dataAudit/queryAuditData",{params:{startTime:this.dateRange[0],endTime:this.dateRange[1],mn:this.mn}}).then(function(e){0==e.data.code&&(t.loading=!1,t.tableHead=e.data.content.dataList.head,t.tableData=e.data.content.dataList.body)})},setData:function(t,e){t[e].statusp=!1,this.setdatavisiDialog=!0},rowChecked:function(t,e){var a=!0;for(var o in t)if(void 0!==t[o].status&&0==t[o].status){a=!1;break}if(a)for(var s in t)void 0!==t[s].status&&(t[s].status=!1);else for(var i in t)void 0!==t[i].status&&(t[i].status=!0);t[e].statusp=!1},colChecked:function(t,e){for(var a=!0,o=0;o<this.tableData.length;o++)if(0==this.tableData[o][e].status){a=!1;break}if(a)for(var s=0;s<this.tableData.length;s++)this.tableData[s][e].status=!1;else for(var i=0;i<this.tableData.length;i++)this.tableData[i][e].status=!0;t[e].statusp=!1}},computed:{stationInfo:{get:function(){return this.$store.state.stationInfo}}},watch:{stationInfo:function(t,e){t.length>0&&(this.mn=t[0].nodeId,this.loading=!0,this.searchData())}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"threelevepage tapStyle secondary-page-mode"},[a("div",{staticClass:"secondary-toolbar"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"220px"}},[a("el-date-picker",{attrs:{"picker-options":t.startDateOpt(),"value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.dateChange},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v("  \n        "),a("el-button",{on:{click:t.searchData}},[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")]),t._v(" "),a("yf-calender",{attrs:{mn:t.mn},on:{getchildDate:t.getchildDate}}),t._v(" "),a("el-button",{attrs:{color:"#E5C33E"},on:{click:t.auditClick}},[t._v("审核")]),t._v(" "),a("el-button",{attrs:{color:"#58AFA5"},on:{click:t.reject}},[t._v("驳回")]),t._v(" "),a("el-button",{attrs:{color:"#0088BB"},on:{click:t.effcodeClick}},[t._v("有效标记")]),t._v(" "),a("el-button",{attrs:{color:"#0088BB"},on:{click:t.invcodeClick}},[t._v("无效标记")]),t._v(" "),a("el-button",{attrs:{color:"#58AFA5"}},[t._v("补传日历")]),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"containerbox currency-mode-wrap",staticStyle:{height:"calc(100% - 65px)"}},[t.noDataState?a("div",{staticClass:"no-data-wrap small"},[a("p",[t._v("暂无数据")])]):t._e(),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tablebox",staticStyle:{height:"100%"},attrs:{"element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)"}},[a("el-table",{attrs:{data:t.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod,width:"50"}}),t._v(" "),a("el-table-column",{attrs:{label:"监测时间",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",[t._v(t._s(e.row.time.value))])])]}}])}),t._v(" "),t._l(t.tableHead,function(e,o){return"time"!=e.prop?a("el-table-column",{key:o,attrs:{label:e.label1}},[a("el-table-column",{attrs:{label:e.label2,prop:e.prop},scopedSlots:t._u([{key:"default",fn:function(o){return[t.showChecked&&null!=o.row[e.prop].value&&1==o.row[e.prop].operationAudit?a("div",{class:{inv:2==o.row[e.prop].colorStatus,doub:3==o.row[e.prop].colorStatus,exa:4==o.row[e.prop].colorStatus,diff:5==o.row[e.prop].colorStatus}},[a("el-popover",{attrs:{placement:"bottom",width:"50",trigger:"click"},model:{value:o.row[e.prop].statusp,callback:function(a){t.$set(o.row[e.prop],"statusp",a)},expression:"scope.row[item.prop].statusp"}},["设置有效数据"==t.codeMes&&1!=o.row[e.prop].colorStatus?a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.setData(o.row,e.prop)}}},[t._v(t._s(t.codeMes))]),t._v(" "),a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")]),t._v(" "),a("p",{on:{click:function(a){return t.rowChecked(o.row,e.prop)}}},[t._v("行反选")]),t._v(" "),a("p",{on:{click:function(a){return t.colChecked(o.row,e.prop)}}},[t._v("列反选")])]):t._e(),t._v(" "),"设置有效数据"==t.codeMes&&1==o.row[e.prop].colorStatus?a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")])]):t._e(),t._v(" "),"设置无效数据"==t.codeMes&&2!=o.row[e.prop].colorStatus?a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.setData(o.row,e.prop)}}},[t._v(t._s(t.codeMes))]),t._v(" "),a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")]),t._v(" "),a("p",{on:{click:function(a){return t.rowChecked(o.row,e.prop)}}},[t._v("行反选")]),t._v(" "),a("p",{on:{click:function(a){return t.colChecked(o.row,e.prop)}}},[t._v("列反选")])]):t._e(),t._v(" "),"设置无效数据"==t.codeMes&&2==o.row[e.prop].colorStatus?a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")])]):t._e(),t._v(" "),"设置有效数据"==t.codeMes&&1!=o.row[e.prop].colorStatus?a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[a("el-checkbox",{on:{change:function(a){return t.checked(o.row[e.prop])}},model:{value:o.row[e.prop].status,callback:function(a){t.$set(o.row[e.prop],"status",a)},expression:"scope.row[item.prop].status"}},[t._v(t._s(o.row[e.prop].value))])],1):t._e(),t._v(" "),"设置有效数据"==t.codeMes&&1==o.row[e.prop].colorStatus?a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[t._v("\n                                                "+t._s(o.row[e.prop].value)+"\n                                                 "),2==o.row[e.prop].colorStatus||3==o.row[e.prop].colorStatus?a("i",{staticClass:"el-icon-question",attrs:{title:o.row[e.prop].remark}}):t._e()]):t._e(),t._v(" "),"设置无效数据"==t.codeMes&&2!=o.row[e.prop].colorStatus?a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[a("el-checkbox",{on:{change:function(a){return t.checked(o.row[e.prop])}},model:{value:o.row[e.prop].status,callback:function(a){t.$set(o.row[e.prop],"status",a)},expression:"scope.row[item.prop].status"}},[t._v(t._s(o.row[e.prop].value))])],1):t._e(),t._v(" "),"设置无效数据"==t.codeMes&&2==o.row[e.prop].colorStatus?a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[t._v("\n                                                "+t._s(o.row[e.prop].value)+"\n                                                 "),2==o.row[e.prop].colorStatus||3==o.row[e.prop].colorStatus?a("i",{staticClass:"el-icon-question",attrs:{title:o.row[e.prop].remark}}):t._e()]):t._e()])],1):t._e(),t._v(" "),t.showChecked&&null!=o.row[e.prop].value&&0==o.row[e.prop].operationAudit?a("div",{class:{inv:2==o.row[e.prop].colorStatus,doub:3==o.row[e.prop].colorStatus,exa:4==o.row[e.prop].colorStatus,diff:5==o.row[e.prop].colorStatus}},[a("el-popover",{attrs:{placement:"bottom",width:"50",trigger:"click"},model:{value:o.row[e.prop].statusp,callback:function(a){t.$set(o.row[e.prop],"statusp",a)},expression:"scope.row[item.prop].statusp"}},[a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")])]),t._v(" "),a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(o.row[e.prop].value)+"\n                                            "),2==o.row[e.prop].colorStatus||3==o.row[e.prop].colorStatus?a("i",{staticClass:"el-icon-question",attrs:{title:o.row[e.prop].remark}}):t._e()])])],1):t._e(),t._v(" "),t.showChecked||null==o.row[e.prop].value?t._e():a("div",{class:{inv:2==o.row[e.prop].colorStatus,doub:3==o.row[e.prop].colorStatus,exa:4==o.row[e.prop].colorStatus,diff:5==o.row[e.prop].colorStatus}},[a("el-popover",{attrs:{placement:"bottom",width:"50",trigger:"click"},model:{value:o.row[e.prop].statusp,callback:function(a){t.$set(o.row[e.prop],"statusp",a)},expression:"scope.row[item.prop].statusp"}},[a("div",{staticClass:"operaBox"},[a("p",{on:{click:function(a){return t.detailClick(o.row,e.prop)}}},[t._v("详细情况")])]),t._v(" "),a("span",{staticClass:"factorspan",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(o.row[e.prop].value)+"\n                                          "),2==o.row[e.prop].colorStatus||3==o.row[e.prop].colorStatus?a("i",{staticClass:"el-icon-question",attrs:{title:o.row[e.prop].remark}}):t._e()])])],1),t._v(" "),null==o.row[e.prop].value?a("span",[t._v("--")]):t._e()]}}],null,!0)})],1):t._e()})],2)],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.detailvisiDialog,width:"1100px",title:"详细情况","before-close":t.closess},on:{"update:visible":function(e){t.detailvisiDialog=e}}},[a("transition",{attrs:{name:"el-fade-in"}},[t.detailvisiDialog?a("div",{staticClass:"dialogcontent"},[a("detail-box",{attrs:{fId:t.fId,name:t.name,fName:t.fName,fTime:t.fTime,mn:t.mn,dateRangeone:t.dateRange}})],1):t._e()])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.setdatavisiDialog,width:"500px",title:t.codeMes,"before-close":t.codeCancel},on:{"update:visible":function(e){t.setdatavisiDialog=e}}},[a("div",{staticClass:"dialogcontent",staticStyle:{padding:"5px"}},[a("yf-tabs",{staticStyle:{height:"180px"},attrs:{type:"border-card"},on:{"tab-click":t.tabClick},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[a("yf-tab-pane",{attrs:{label:"描述"}},[a("div",{staticClass:"dialog-layout"},[a("ul",{staticClass:"formul"},[a("li",[a("div",{staticStyle:{width:"100%"}},[a("span",{staticClass:"layoutspan"},[t._v("原因 : ")]),t._v(" \n                                        "),a("div",{staticClass:"layoutBox",staticStyle:{width:"373px"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.reasonVal,callback:function(e){t.reasonVal=e},expression:"reasonVal"}})],1)])])])])]),t._v(" "),a("yf-tab-pane",{attrs:{label:"文件上传"}},[a("div",{staticClass:"dialog-layout"},[a("ul",{staticClass:"formul"},[a("li",[a("span",{staticClass:"layoutspan"},[t._v("文件上传 : ")]),t._v(" \n                                  "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,"http-request":t.uploadFile,"auto-upload":!1}},[a("span",{staticClass:"upload_span_sc",attrs:{slot:"trigger"},slot:"trigger"},[a("i",{staticClass:"icon-shangchuan1 iconfont"}),t._v("上传")])])],1)])]),t._v(" "),a("div",{staticClass:"btnbox"},[a("el-button",{on:{click:t.fileSave}},[t._v("保存")])],1)])],1)],1),t._v(" "),"1"!=t.tabsValue?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"noticon"},on:{click:t.codeSure}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:t.codeCancel}},[t._v("取 消")])],1):t._e()]),t._v(" "),a("el-dialog",{attrs:{visible:t.areasonvisiDialog,width:"500px",title:"审核入库","before-close":t.auditCancel},on:{"update:visible":function(e){t.areasonvisiDialog=e}}},[a("div",{staticClass:"dialog-layout",staticStyle:{padding:"12px"}},[a("el-form",{ref:"auditForm",attrs:{model:t.auditObj,rules:t.auditRules}},[a("ul",{staticClass:"formul"},[a("li",[a("div",{staticStyle:{width:"100%"}},[a("span",{staticClass:"layoutspan"},[t._v("审核原因 : ")]),t._v(" \n                                        "),a("div",{staticClass:"layoutBox",staticStyle:{width:"373px"}},[a("el-form-item",{attrs:{prop:"auditReason"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.auditObj.auditReason,callback:function(e){t.$set(t.auditObj,"auditReason",e)},expression:"auditObj.auditReason"}})],1)],1)])])])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"noticon"},on:{click:function(e){return t.auditSure("auditForm")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:function(e){return t.auditCancel("auditForm")}}},[t._v("取 消")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.rejectvisiDialog,width:"500px",title:"数据驳回","before-close":t.rejectCancel},on:{"update:visible":function(e){t.rejectvisiDialog=e}}},[a("div",{staticClass:"dialogcontent"},[a("div",{staticClass:"dialog-layout",staticStyle:{padding:"12px"}},[a("el-form",{ref:"rejectForm",attrs:{model:t.rejectObj,rules:t.rejectRules}},[a("ul",{staticClass:"formul"},[a("li",[a("div",[a("span",{staticClass:"layoutspan",staticStyle:{width:"63px"}},[t._v("日期 : ")]),t._v(" \n                                        "),a("div",{staticClass:"layoutBox",staticStyle:{width:"200px"}},[a("el-form-item",{attrs:{prop:"rejectDate"}},[a("el-date-picker",{attrs:{type:"date","picker-options":t.startDateOpt(),placeholder:"选择日期"},model:{value:t.rejectObj.rejectDate,callback:function(e){t.$set(t.rejectObj,"rejectDate",e)},expression:"rejectObj.rejectDate"}})],1)],1)])]),t._v(" "),a("li",[a("div",{staticStyle:{width:"100%"}},[a("span",{staticClass:"layoutspan"},[t._v("驳回对象 : ")]),t._v(" \n                                        "),a("div",{staticClass:"layoutBox",staticStyle:{width:"373px"}},[a("el-form-item",{attrs:{prop:"rejectcheckList"}},[a("el-checkbox-group",{model:{value:t.rejectObj.rejectcheckList,callback:function(e){t.$set(t.rejectObj,"rejectcheckList",e)},expression:"rejectObj.rejectcheckList"}},[a("el-checkbox",{attrs:{label:"1"}},[t._v("一级审核")]),t._v(" "),a("el-checkbox",{attrs:{label:"2"}},[t._v("二级审核")])],1)],1)],1)])]),t._v(" "),a("li",{staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{width:"100%"}},[a("span",{staticClass:"layoutspan"},[t._v("驳回原因 : ")]),t._v(" \n                                        "),a("div",{staticClass:"layoutBox",staticStyle:{width:"373px"}},[a("el-form-item",{attrs:{prop:"rejectReason"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:t.rejectObj.rejectReason,callback:function(e){t.$set(t.rejectObj,"rejectReason",e)},expression:"rejectObj.rejectReason"}})],1)],1)])])])])],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"noticon"},on:{click:function(e){return t.rejectSure("rejectForm")}}},[t._v("确 定")]),t._v(" "),a("el-button",{attrs:{type:"noticonsecondBtn"},on:{click:function(e){return t.rejectCancel("rejectForm")}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lengbox layoutBox"},[e("span",[this._v("已审核")]),this._v(" "),e("span",[this._v("存疑数据")]),this._v(" "),e("span",[this._v("无效数据")]),this._v(" "),e("span",[this._v("差异数据")])])}]};var u=a("VU/8")(c,d,!1,function(t){a("HRz2")},"data-v-77e080a7",null);e.default=u.exports},ymV2:function(t,e){}});
//# sourceMappingURL=22.df921d619b0c7aa08d3c.js.map