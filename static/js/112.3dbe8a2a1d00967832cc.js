webpackJsonp([112],{PIu0:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("BO1k"),i=s.n(a),n={name:"thinkTank",data:function(){return{showSearch:!1,kw:"",tjList:[],rmIndex:null,baseInfoList:[{title:"法律法规",type:"sj",url:"/knowledgeHouse/detailPage",fileType:"1",list:[]},{title:"标注规范",type:"ts",url:"/knowledgeHouse/detailPage",fileType:"2",list:[]},{title:"公司红头文件",type:"qz",url:"/knowledgeHouse/detailPage",fileType:"3",list:[]},{title:"产品资料库",type:"fa",url:"/knowledgeHouse/detailPage",fileType:"4",list:[]},{title:"技术资料库",type:"sz",url:"/knowledgeHouse/detailPage",fileType:"5",list:[]},{title:"我的智囊",type:"wd",url:"/knowledgeHouse/detailPage",fileType:"6",list:[]}],searchList:[{name:"全部",num:0,type:""},{name:"法律法规",num:0,type:"1"},{name:"标注规范",num:0,type:"2"},{name:"公司红头文件",num:0,type:"3"},{name:"产品资料库",num:0,type:"4"},{name:"技术资料库",num:0,type:"5"},{name:"我的智囊",num:0,type:"6"}],searchType:"",searchSelected:0,searchInfoList:[],loading:!0}},methods:{searchTypeClick:function(t,e){this.searchType=t.type,this.searchSelected=e,this.searchKwFile()},kwChange:function(t){var e=0,s=!0,a=!1,n=void 0;try{for(var l,c=i()(this.tjList);!(s=(l=c.next()).done);s=!0){if(t===l.value){e++;break}}}catch(t){a=!0,n=t}finally{try{!s&&c.return&&c.return()}finally{if(a)throw n}}e||(this.rmIndex=null)},hotClick:function(t,e){this.showSearch=!0,this.kw=t.keyWorldName,this.rmIndex=e,this.searchKwFile()},setFileType:function(t){for(var e="",s=0;s<this.baseInfoList.length;s++)t==this.baseInfoList[s].fileType&&(e=this.baseInfoList[s].title);return e},getKwFile:function(){var t=this;this.$http.get("StatisticsAndAlarm/knowledegBase/query").then(function(e){if(0==e.data.code)for(var s=e.data.content.dataList,a=0;a<t.baseInfoList.length;a++)for(var i=0;i<s.length;i++)t.baseInfoList[i].fileType==s[i].type&&(t.baseInfoList[i].list=s[i].folder)})},searchClick:function(){this.showSearch=!0,this.searchKwFile()},searchKwFile:function(){var t=this;this.searchList=[{name:"全部",num:0,type:""},{name:"法律法规",num:0,type:"1"},{name:"标注规范",num:0,type:"2"},{name:"公司红头文件",num:0,type:"3"},{name:"产品资料库",num:0,type:"4"},{name:"技术资料库",num:0,type:"5"},{name:"我的智囊",num:0,type:"6"}],this.loading=!0,this.$http.get("StatisticsAndAlarm/knowledegBase/query",{params:{knowledgeType:this.searchType,keyWorld:this.kw}}).then(function(e){if(0==e.data.code){t.loading=!1;for(var s=e.data.content.dataList,a=[],i=0;i<s.length;i++)for(var n=0;n<s[i].folder.length;n++)a.push(s[i].folder[n]);for(var l=0;l<t.searchList.length;l++)for(var c=0;c<s.length;c++)t.searchList[l].type==s[c].type&&(t.searchList[l].num=s[c].size.size);t.searchList[0].num=e.data.content.info.sum,t.searchInfoList=a}})},getHotSearch:function(){var t=this;this.$http.get("StatisticsAndAlarm/keyWorlds/query").then(function(e){0==e.data.code&&(t.tjList=e.data.content.dataList)})},getFileNum:function(){var t=this;this.$http.get("StatisticsAndAlarm/knowledegBase/queryNumbers").then(function(e){if(0==e.data.code)for(var s=e.data.content.dataList,a=0;a<t.searchList.length;a++){for(var i=0;i<s.length;i++)t.searchList[a].type==s[i].type&&(t.searchList[a].num=s[i].count);""==t.searchList[a].type&&(t.searchList[a].num=s[s.length-1].size)}})},pageInit:function(){this.getKwFile(),this.searchKwFile(),this.getHotSearch()}},created:function(){this.pageInit()},mounted:function(){},beforeDestroy:function(){},computed:{},watch:{},components:{}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-page"},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"real-box clearfix"},[s("div",[s("el-input",{staticClass:"big-input left",staticStyle:{width:"624px"},attrs:{placeholder:"请输入标题关键字",clearable:""},on:{change:t.kwChange},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}}),t._v(" "),s("button",{staticClass:"search-btn",on:{click:t.searchClick}},[s("i",{staticClass:"iconfont icon-sousuo"}),t._v(" 搜索")])],1),t._v(" "),s("p",[s("span",{staticClass:"img"}),s("span",[t._v("热门搜索 : ")]),t._l(t.tjList,function(e,a){return s("span",{key:a,staticClass:"item",class:{act:t.rmIndex===a},on:{click:function(s){return t.hotClick(e,a)}}},[t._v(t._s(e.keyWorldName))])})],2)])]),t._v(" "),s("div",{staticClass:"base-content"},[t.showSearch?t._e():s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",{staticClass:"flex-box"},t._l(t.baseInfoList,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"title-box",class:e.type,on:{click:function(s){return t.$router.push({path:e.url,query:{id:e.fileType}})}}},[s("span",{staticClass:"img"}),t._v(" "),s("span",{staticClass:"real-title"},[t._v(t._s(e.title))])]),t._v(" "),s("ul",{staticClass:"content"},[t._l(e.list,function(e,a){return s("li",{key:a},[s("span",{attrs:{title:e.fileName}},[s("span",{staticClass:"dian"}),t._v(t._s(e.fileName))]),t._v(" "),s("span",{staticClass:"right"},[t._v(t._s(e.filePublishTime.split(" ")[0]))])])}),t._v(" "),0==e.list.length?s("p",{staticClass:"np"},[t._v("暂无数据")]):t._e()],2)])}),0)]),t._v(" "),t.showSearch?s("div",{staticClass:"search-content-box"},[s("div",{staticClass:"type-ul-box"},[s("ul",t._l(t.searchList,function(e,a){return s("li",{key:a,class:{act:t.searchSelected===a},on:{click:function(s){return t.searchTypeClick(e,a)}}},[s("span",[t._v(t._s(e.name)+"("+t._s(e.num)+")")])])}),0)]),t._v(" "),s("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"scroll-bg",attrs:{"element-loading-text":"加载中","element-loading-spinner":"loading-type-a","element-loading-background":"rgba(255, 255, 255, 1)",height:"100%"}},[s("ul",{staticClass:"type-content-box"},t._l(t.searchInfoList,function(e,a){return s("li",{key:a},[s("div",{staticClass:"title"},[t._v(t._s(e.fileName))]),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(e.fileDescribe))]),t._v(" "),s("span",{staticClass:"type"},[s("span",{staticClass:"t"},[t._v("来自 : ")]),t._v(t._s(t.setFileType(e.knowledgeType)))]),t._v(" "),s("span",{staticClass:"time"},[s("span",{staticClass:"t"},[t._v("发布时间 : ")]),t._v(t._s(e.filePublishTime))]),t._v(" "),s("span",{staticClass:"look"},[s("span",{staticClass:"t"},[t._v("浏览 : ")]),t._v(t._s(e.fileNum)+" "),s("i",{staticClass:"iconfont icon-xianshimima"})])])}),0)])],1):t._e()],1)])},staticRenderFns:[]};var c=s("VU/8")(n,l,!1,function(t){s("x+Is")},"data-v-116cba34",null);e.default=c.exports},"x+Is":function(t,e){}});
//# sourceMappingURL=112.3dbe8a2a1d00967832cc.js.map