webpackJsonp([80],{TwsO:function(t,e){},kMaB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("dwSH"),s={name:"paramverifi",data:function(){return{dateRange:"",stateRadio:"1",stationId:"",stationName:"",areaCode:"",value:["w01001","w21023","w01009","w01014","w01003"],optionData:[{value:"w01001",label:"PH"},{value:"w21023",label:"水温"},{value:"w01009",label:"溶解氧"},{value:"w01014",label:"电导率"},{value:"w01003",label:"浊度"}],currentPage:1,pageSize:10,totalRecords:0,pageList:[10,15,20],tableData:[],tableDataAll:[],currentPageB:1,pageSizeB:10,totalRecordsB:0,pageListB:[10,15,20],fieldList:[],fieldListA:["time","auditTime","indexName","indexUnit","value","standardSamplesValue","error","technicalRequirement","qualification"],fieldListB:["areaName","basinName","stationName","time","auditTime","indexName","indexUnit","value","standardSamplesValue","error","technicalRequirement","qualification"]}},computed:{totalPage:function(){var t;return 0===(t=Math.ceil(this.totalRecords/this.pageSize))?1:t},totalPageB:function(){var t;return 0===(t=Math.ceil(this.totalRecordsB/this.pageSizeB))?1:t},stationInfo:{get:function(){return this.$store.state.stationInfo}}},methods:{paginationSizeChange:function(t){this.pageSize=t,this.getTableData()},paginationChange:function(t){this.currentPage=t,this.getTableData()},paginationSizeChangeB:function(t){this.pageSize=t,this.getAllTableData()},paginationChangeB:function(t){this.currentPage=t,this.getAllTableData()},toggleTab:function(t){"2"===t&&this.getAllTableData()},searchData:function(){this.getTableData(),this.getAllTableData()},getTableData:function(){var t=this;this.$http.get("/Quality/testData/fiveParameterData",{params:{startTime:this.dateRange[0].format("yyyy-MM-dd"),endTime:this.dateRange[1].format("yyyy-MM-dd"),indexCodes:this.value.join(","),stationCodes:this.stationId,ifCurrentSection:!0,pageNumber:this.currentPage,pageSize:this.pageSize}}).then(function(e){0===e.data.code&&(t.tableData=e.data.content.dataList,t.totalRecords=e.data.content.totalRecords)})},getAllTableData:function(){var t=this;this.$http.get("/Quality/testData/fiveParameterData",{params:{startTime:this.dateRange[0].format("yyyy-MM-dd"),endTime:this.dateRange[1].format("yyyy-MM-dd"),indexCodes:this.value.join(","),stationCodes:this.areaCode,ifCurrentSection:!1,pageNumber:this.currentPageB,pageSize:this.pageSizeB}}).then(function(e){0===e.data.code&&(t.tableDataAll=e.data.content.dataList,t.totalRecordsB=e.data.content.totalRecords)})},exportExcel:function(){var t=this.$refs,e=t.tableA,a=t.tableB,i=null,s=null,o=null;"1"===this.stateRadio?(this.fieldList=JSON.parse(l()(this.fieldListA)),s=!0,i=e,o=this.stationId):(this.fieldList=JSON.parse(l()(this.fieldListB)),o=this.areaCode,s=!1,i=a);var r=i.$el.querySelector(".el-table__header"),c=this.stationName+"常规五参数周核查",d={headerProp:this.fieldList.join(","),startTime:this.dateRange[0].format("yyyy-MM-dd"),endTime:this.dateRange[1].format("yyyy-MM-dd"),indexCodes:this.value.join(","),stationCodes:o,tableType:"FIVE_PARAMETER_DATA",ifCurrentSection:s,pattern:"yyyy-MM-dd"};Object(n.a)(r,c,"","1","/Quality/exports/qualityControlExcel",d)}},mounted:function(){},created:function(){var t=(new Date).setDate((new Date).getDate()-2),e=new Date;this.dateRange=[new Date(t),e]},watch:{stationInfo:function(t){t.length>0&&(this.stationId=t[0].nodeId,this.areaCode=t[0].areaCode,this.stationName=t[0].nodeName,this.getTableData())}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paramverifi tapStyle secondary-page-mode"},[a("div",{staticClass:"secondary-toolbar"},[a("span",[t._v("时间选择 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"242px"}},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v("  \n     "),a("span",[t._v("监测项目 : ")]),t._v(" "),a("div",{staticClass:"layoutBox",staticStyle:{width:"190px"}},[a("el-select",{attrs:{multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.optionData,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v("  \n    "),a("el-button",{on:{click:t.searchData}},[a("i",{staticClass:"iconfont icon-sousuo"}),t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"delet"},on:{click:function(e){return t.exportExcel()}}},[a("i",{staticClass:"iconfont icon-daochu"}),t._v("导出")])],1),t._v(" "),a("div",{staticClass:"currency-mode-wrap"},[a("div",{staticClass:"reminder-wrap"},[a("span",{staticClass:"reminder-title"},[t._v("温馨提示")]),t._v(" "),a("div",{staticClass:"reminder-content"},[a("div",{staticClass:"reminder-text"},[a("p",[t._v("所选时间段内，X个点位共有“周核查”W次，共有合格项m个，不合格项n个。影响数据y条。点位1、点位2的上周核查时间距今已有7天；站点3的上周核查距今已有6天。")]),t._v(" "),a("div",[a("el-button",{attrs:{type:"noticonsecondBtn"}},[t._v(" 生成任务 ")])],1)])]),t._v(" "),a("div",{staticClass:"reminder-toolbar"},[t._m(0),t._v(" "),a("div",{staticClass:"state-radio-wrap"},[a("el-radio-group",{attrs:{size:"small"},on:{change:t.toggleTab},model:{value:t.stateRadio,callback:function(e){t.stateRadio=e},expression:"stateRadio"}},[a("el-radio-button",{attrs:{label:"1"}},[t._v("当前断面")]),t._v(" "),a("el-radio-button",{attrs:{label:"2"}},[t._v("所有断面")])],1)],1)])]),t._v(" "),a("div",{staticClass:"currency-body-toggle"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.stateRadio,expression:"stateRadio === '1'"}],staticStyle:{height:"100%"}},[a("div",{staticClass:"tablebox",staticStyle:{height:"calc(100% - 34px)"}},[a("el-table",{ref:"tableA",attrs:{data:t.tableData,border:"",height:"100%"}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"监测时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"indexName",label:"监测项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"indexUnit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:"仪器测试值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"standardSamplesValue",label:"标准液浓度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"error",label:"误差"}}),t._v(" "),a("el-table-column",{attrs:{prop:"technicalRequirement",label:"技术要求"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qualification",label:"是否合格"}})],1)],1),t._v(" "),a("div",{staticClass:"paginationBox"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSize,background:"",small:!0,"popper-class":"select-common-option","page-sizes":t.pageList,layout:"total,sizes,slot,->,prev, pager, next, jumper",total:t.totalRecords},on:{"size-change":t.paginationSizeChange,"current-change":t.paginationChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[a("span",{staticClass:"el-pagination__current"},[t._v("当前第"+t._s(t.currentPage)+"/"+t._s(t.totalPage)+"页")])])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.stateRadio,expression:"stateRadio === '2'"}],staticClass:"chart-wrap",staticStyle:{height:"100%"}},[a("div",{staticClass:"tablebox",staticStyle:{height:"calc(100% - 34px)"}},[a("el-table",{ref:"tableB",staticStyle:{width:"100%"},attrs:{data:t.tableDataAll,height:"100%",border:""}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"areaName",label:"行政区"}}),t._v(" "),a("el-table-column",{attrs:{prop:"basinName",label:"流域"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stationName",label:"断面名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time",width:"162px",label:"监测时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditTime",width:"162px",label:"审核时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"indexName",label:"监测项目"}}),t._v(" "),a("el-table-column",{attrs:{prop:"indexUnit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:"仪器测试值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"standardSamplesValue",label:"标准液浓度"}}),t._v(" "),a("el-table-column",{attrs:{prop:"error",label:"误差"}}),t._v(" "),a("el-table-column",{attrs:{prop:"technicalRequirement",label:"技术要求"}}),t._v(" "),a("el-table-column",{attrs:{prop:"qualification",label:"是否合格"}})],1)],1),t._v(" "),a("div",{staticClass:"paginationBox"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.pageSizeB,background:"",small:!0,"popper-class":"select-common-option","page-sizes":t.pageListB,layout:"total,sizes,slot,->,prev, pager, next, jumper",total:t.totalRecordsB},on:{"size-change":t.paginationSizeChangeB,"current-change":t.paginationChangeB,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}},[a("span",{staticClass:"el-pagination__current"},[t._v("当前第"+t._s(t.currentPageB)+"/"+t._s(t.totalPageB)+"页")])])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-legend"},[e("span",[e("i",{staticClass:"qualified-icon"}),this._v(" 合格")]),this._v(" "),e("span",[e("i",{staticClass:"unqualified-icon"}),this._v(" 不合格")])])}]};var r=a("VU/8")(s,o,!1,function(t){a("TwsO")},"data-v-485e9e25",null);e.default=r.exports}});
//# sourceMappingURL=80.6ff3ba1177f1191a4306.js.map