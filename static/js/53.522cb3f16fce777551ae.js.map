{"version":3,"sources":["webpack:///src/views/qualityControl/setParams.vue","webpack:///./src/views/qualityControl/setParams.vue?17e3","webpack:///./src/views/qualityControl/setParams.vue"],"names":["setParams","name","data","timing","refreshTime","Date","format","tableData","parameter","paramValue","parameterId","stationId","loading","methods","adda","index","prop","key","this","row","i","length","objectSpanMethod","_ref","column","rowIndex","columnIndex","sf","colspan","rowspan","setParameter","sureSet","_this","$http","get","params","parameterValue","then","res","getTableData","_this2","stationCodes","content","dataList","mounted","computed","stationInfo","$store","state","watch","value","nodeId","created","commit","qualityControl_setParams","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","height","directives","rawName","expression","width","attrs","border","span-method","element-loading-text","element-loading-spinner","element-loading-background","type","label","indexMethod","_v","scopedSlots","_u","fn","scope","on","click","$event","title","visible","update:visible","placeholder","model","callback","$$v","text-align","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/53.522cb3f16fce777551ae.js","sourcesContent":["<template>\r\n  <div class=\"zero-drift tapStyle secondary-page-mode\">\r\n    <div class=\"currency-mode-wrap\">\r\n      <div class=\"tablebox\" style=\"height: 100%\">\r\n        <el-table\r\n          :data=\"tableData\"\r\n          border\r\n          height=\"100%\"\r\n          :span-method=\"objectSpanMethod\"\r\n          v-loading=\"loading\"\r\n          element-loading-text=\"加载中\"\r\n          element-loading-spinner=\"loading-type-a\"\r\n          element-loading-background=\"rgba(255, 255, 255, 1)\"\r\n          style=\"width: 100%\">\r\n          <el-table-column\r\n            type=\"index\"\r\n            label=\"序号\"\r\n            :index=\"indexMethod\"\r\n            width=\"50\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"indexName\"\r\n            label=\"类别\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"parameterName\"\r\n            label=\"参数名称\">\r\n          </el-table-column>\r\n        \r\n          <el-table-column\r\n            prop=\"parameterValue\"\r\n            label=\"参数值\">\r\n          </el-table-column>\r\n        \r\n       \r\n          <el-table-column\r\n            prop=\"operation\"\r\n            label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type='secondBtn' @click=\"setParameter(scope.row)\">设置</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n\r\n    <el-dialog\r\n      width=\"280px\"\r\n      title=\"参数设置\"\r\n      :visible.sync=\"parameter\" >\r\n        <div class=\"parameter-wrap\">\r\n           <div class=\"parameter-row\">\r\n             <span class=\"label-text\">参数值：</span>\r\n             <div class=\"layoutBox\" style=\"width:160px\">\r\n                <el-input v-model=\"paramValue\" placeholder=\"请输入内容\" type=\"number\"></el-input>\r\n             </div>\r\n           </div>\r\n         \r\n          <div class=\"parameter-row\" style=\"text-align: center;margin-top: 20px;\">\r\n              <el-button @click=\"sureSet\">&nbsp; 确定 &nbsp;</el-button>\r\n          </div>\r\n        </div>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"\",\r\n    data() {\r\n      return {\r\n        timing:60,//倒计时秒数\r\n        refreshTime:new Date().format('yyyy-MM-dd hh:mm:ss'),//页面数据刷新时间\r\n        tableData:[],\r\n        parameter:false,\r\n        paramValue:'',\r\n        parameterId:'',//因子参数数据ID\r\n        stationId:'',//站点ID\r\n        loading:true,\r\n      };\r\n    },\r\n    methods:{\r\n      adda(index,prop,key){\r\n        let name = this.tableData[index][prop];\r\n        let row = 0;\r\n        for(let i=index;i<this.tableData.length;i++){\r\n          if(name == this.tableData[i][prop]){\r\n            row++\r\n          }else{\r\n            break;\r\n          }\r\n        }\r\n        this.tableData[index][key] = row;\r\n        return row\r\n      },\r\n      objectSpanMethod({ row, column, rowIndex, columnIndex }) {\r\n        if (columnIndex == 1) {\r\n          if(row.sf){\r\n            return{\r\n              colspan:1,\r\n              rowspan:row.sf\r\n            }\r\n          }else{\r\n            return{\r\n              colspan:1,\r\n              rowspan:0\r\n            }\r\n          }\r\n        }\r\n      },\r\n      setParameter(row){\r\n        this.parameter = true;\r\n        this.parameterId=row.parameterId\r\n        \r\n      },\r\n      sureSet(){\r\n          this.$http.get(\"/Quality/qualityControlSet/editorEquipmentParameter\", {\r\n             params: {\r\n                parameterId: this.parameterId,\r\n                parameterValue:this.paramValue\r\n             }\r\n           }).then(res=>{\r\n               this.paramValue='';\r\n               this.parameter=false;\r\n               this.getTableData()\r\n           });\r\n      },\r\n      getTableData(){\r\n          this.loading=true;\r\n           this.$http.get(\"/Quality/qualityControlSet/getEquipmentParameter\", {\r\n             params: {\r\n                stationCodes: this.stationId \r\n             }\r\n           }).then(res=>{\r\n               \r\n                this.tableData=res.data.content.dataList;\r\n                for(let i=0;i<this.tableData.length;i++){\r\n                  let num = this.adda(i,'indexName','sf');\r\n                        i+=num-1\r\n                };\r\n                this.loading=false;\r\n           })\r\n      }\r\n    },\r\n    mounted(){\r\n      // this.createdChart();\r\n    },\r\n    computed: {\r\n        stationInfo: {\r\n            get: function() {\r\n              return this.$store.state.stationInfo;\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n      stationInfo(value) {\r\n        if (value.length > 0) {\r\n          this.stationId = value[0].nodeId;\r\n          this.getTableData()\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.$store.commit(\"setShowlefttree\", true);\r\n     \r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .zero-drift .currency-mode-wrap{\r\n    padding: 0;\r\n    border: none;\r\n    margin-top: 0;\r\n    height: 100%;\r\n  }\r\n  .timing-text{\r\n    font-size: 16px;\r\n    b{\r\n      display: inline-block;\r\n      width: 24px;\r\n    }\r\n  }\r\n  .fault,.abnormal,.normal{\r\n    i{\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      margin-bottom: 2px;\r\n      width: 10px;\r\n      height: 10px;\r\n      border-radius: 50%;\r\n      background: #c64522;\r\n      margin-right: 3px;\r\n    }\r\n  }\r\n  .abnormal i{\r\n    background: #c64522;\r\n  }\r\n  .normal i{\r\n    background: #67c622;\r\n  }\r\n  .fault i{\r\n    background: #dfae1c;\r\n  }\r\n  .label-text{\r\n    display: inline-block;\r\n    width: 70px;\r\n    vertical-align: middle;\r\n  }\r\n  .parameter-row{\r\n    padding: 4px 0;\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/qualityControl/setParams.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"zero-drift tapStyle secondary-page-mode\"},[_c('div',{staticClass:\"currency-mode-wrap\"},[_c('div',{staticClass:\"tablebox\",staticStyle:{\"height\":\"100%\"}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"height\":\"100%\",\"span-method\":_vm.objectSpanMethod,\"element-loading-text\":\"加载中\",\"element-loading-spinner\":\"loading-type-a\",\"element-loading-background\":\"rgba(255, 255, 255, 1)\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"index\":_vm.indexMethod,\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"indexName\",\"label\":\"类别\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"parameterName\",\"label\":\"参数名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"parameterValue\",\"label\":\"参数值\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"operation\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"secondBtn\"},on:{\"click\":function($event){return _vm.setParameter(scope.row)}}},[_vm._v(\"设置\")])]}}])})],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"width\":\"280px\",\"title\":\"参数设置\",\"visible\":_vm.parameter},on:{\"update:visible\":function($event){_vm.parameter=$event}}},[_c('div',{staticClass:\"parameter-wrap\"},[_c('div',{staticClass:\"parameter-row\"},[_c('span',{staticClass:\"label-text\"},[_vm._v(\"参数值：\")]),_vm._v(\" \"),_c('div',{staticClass:\"layoutBox\",staticStyle:{\"width\":\"160px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"type\":\"number\"},model:{value:(_vm.paramValue),callback:function ($$v) {_vm.paramValue=$$v},expression:\"paramValue\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"parameter-row\",staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{on:{\"click\":_vm.sureSet}},[_vm._v(\"  确定  \")])],1)])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-73bb04dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/qualityControl/setParams.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-73bb04dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./setParams.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setParams.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setParams.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-73bb04dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./setParams.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-73bb04dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/qualityControl/setParams.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}